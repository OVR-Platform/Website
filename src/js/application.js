
/**
 * @project:  ideo-static-site-boilerplate
 * @author:   ideonetwork (@ideonetwork)
 * Copyright (c) 2019 ideonetwork
*/
!function(){function t(e,i,r){function n(a,s){if(!i[a]){if(!e[a]){var A="function"==typeof require&&require;if(!s&&A)return A(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){return n(e[a][1][t]||t)},u,u.exports,t,e,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}return t}()({1:[function(t,e,i){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function n(t){var e=r(t),i=e[0],n=e[1];return 3*(i+n)/4-n}function o(t,e,i){return 3*(e+i)/4-i}function a(t){for(var e,i=r(t),n=i[0],a=i[1],s=new h(o(t,n,a)),A=0,l=a>0?n-4:n,u=0;u<l;u+=4)e=c[t.charCodeAt(u)]<<18|c[t.charCodeAt(u+1)]<<12|c[t.charCodeAt(u+2)]<<6|c[t.charCodeAt(u+3)],s[A++]=e>>16&255,s[A++]=e>>8&255,s[A++]=255&e;return 2===a&&(e=c[t.charCodeAt(u)]<<2|c[t.charCodeAt(u+1)]>>4,s[A++]=255&e),1===a&&(e=c[t.charCodeAt(u)]<<10|c[t.charCodeAt(u+1)]<<4|c[t.charCodeAt(u+2)]>>2,s[A++]=e>>8&255,s[A++]=255&e),s}function s(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function A(t,e,i){for(var r,n=[],o=e;o<i;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),n.push(s(r));return n.join("")}function l(t){for(var e,i=t.length,r=i%3,n=[],o=0,a=i-r;o<a;o+=16383)n.push(A(t,o,o+16383>a?a:o+16383));return 1===r?(e=t[i-1],n.push(u[e>>2]+u[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],n.push(u[e>>10]+u[e>>4&63]+u[e<<2&63]+"=")),n.join("")}i.byteLength=n,i.toByteArray=a,i.fromByteArray=l;for(var u=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,d=p.length;f<d;++f)u[f]=p[f],c[p.charCodeAt(f)]=f;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],2:[function(t,e,i){},{}],3:[function(t,e,i){arguments[4][2][0].apply(i,arguments)},{dup:2}],4:[function(t,e,i){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";function r(t){if(t>W)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=n.prototype,e}function n(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return A(t)}return o(t,e,i)}function o(t,e,i){if("string"==typeof t)return l(t,e);if(ArrayBuffer.isView(t))return u(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Q(t,ArrayBuffer)||t&&Q(t.buffer,ArrayBuffer))return c(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return n.from(r,e,i);var o=h(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return n.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function s(t,e,i){return a(t),t<=0?r(t):void 0!==e?"string"==typeof i?r(t).fill(e,i):r(t).fill(e):r(t)}function A(t){return a(t),r(t<0?0:0|p(t))}function l(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!n.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var i=0|d(t,e),o=r(i),a=o.write(t,e);return a!==i&&(o=o.slice(0,a)),o}function u(t){for(var e=t.length<0?0:0|p(t.length),i=r(e),n=0;n<e;n+=1)i[n]=255&t[n];return i}function c(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),r.__proto__=n.prototype,r}function h(t){if(n.isBuffer(t)){var e=0|p(t.length),i=r(e);return 0===i.length?i:(t.copy(i,0,0,e),i)}return void 0!==t.length?"number"!=typeof t.length||H(t.length)?r(0):u(t):"Buffer"===t.type&&Array.isArray(t.data)?u(t.data):void 0}function p(t){if(t>=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return 0|t}function f(t){return+t!=t&&(t=0),n.alloc(+t)}function d(t,e){if(n.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Q(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return q(t).length;default:if(o)return r?-1:V(t).length;e=(""+e).toLowerCase(),o=!0}}function m(t,e,i){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,i);case"utf8":case"utf-8":return k(this,e,i);case"ascii":return P(this,e,i);case"latin1":case"binary":return M(this,e,i);case"base64":return S(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function g(t,e,i,r,o){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,H(i)&&(i=o?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(o)return-1;i=t.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof e&&(e=n.from(e,r)),n.isBuffer(e))return 0===e.length?-1:_(t,e,i,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):_(t,[e],i,r,o);throw new TypeError("val must be string, number or Buffer")}function _(t,e,i,r,n){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,A=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,A/=2,i/=2}var l;if(n){var u=-1;for(l=i;l<s;l++)if(o(t,l)===o(e,-1===u?0:l-u)){if(-1===u&&(u=l),l-u+1===A)return u*a}else-1!==u&&(l-=l-u),u=-1}else for(i+A>s&&(i=s-A),l=i;l>=0;l--){for(var c=!0,h=0;h<A;h++)if(o(t,l+h)!==o(e,h)){c=!1;break}if(c)return l}return-1}function v(t,e,i,r){i=Number(i)||0;var n=t.length-i;r?(r=Number(r))>n&&(r=n):r=n;var o=e.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(H(s))return a;t[i+a]=s}return a}function x(t,e,i,r){return G(V(e,t.length-i),t,i,r)}function b(t,e,i,r){return G(N(e),t,i,r)}function w(t,e,i,r){return b(t,e,i,r)}function E(t,e,i,r){return G(q(e),t,i,r)}function T(t,e,i,r){return G(j(e,t.length-i),t,i,r)}function S(t,e,i){return 0===e&&i===t.length?Z.fromByteArray(t):Z.fromByteArray(t.slice(e,i))}function k(t,e,i){i=Math.min(t.length,i);for(var r=[],n=e;n<i;){var o=t[n],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n+s<=i){var A,l,u,c;switch(s){case 1:o<128&&(a=o);break;case 2:A=t[n+1],128==(192&A)&&(c=(31&o)<<6|63&A)>127&&(a=c);break;case 3:A=t[n+1],l=t[n+2],128==(192&A)&&128==(192&l)&&(c=(15&o)<<12|(63&A)<<6|63&l)>2047&&(c<55296||c>57343)&&(a=c);break;case 4:A=t[n+1],l=t[n+2],u=t[n+3],128==(192&A)&&128==(192&l)&&128==(192&u)&&(c=(15&o)<<18|(63&A)<<12|(63&l)<<6|63&u)>65535&&c<1114112&&(a=c)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),n+=s}return C(r)}function C(t){var e=t.length;if(e<=Y)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=Y));return i}function P(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}function M(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}function I(t,e,i){var r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);for(var n="",o=e;o<i;++o)n+=U(t[o]);return n}function z(t,e,i){for(var r=t.slice(e,i),n="",o=0;o<r.length;o+=2)n+=String.fromCharCode(r[o]+256*r[o+1]);return n}function B(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,i,r,o,a){if(!n.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function L(t,e,i,r,n,o){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function R(t,e,i,r,n){return e=+e,i>>>=0,n||L(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,i,r,23,4),i+4}function O(t,e,i,r,n){return e=+e,i>>>=0,n||L(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,i,r,52,8),i+8}function F(t){if(t=t.split("=")[0],t=t.trim().replace(K,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){e=e||1/0;for(var i,r=t.length,n=null,o=[],a=0;a<r;++a){if((i=t.charCodeAt(a))>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function N(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function j(t,e){for(var i,r,n,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),r=i>>8,n=i%256,o.push(n),o.push(r);return o}function q(t){return Z.toByteArray(F(t))}function G(t,e,i,r){for(var n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}function Q(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function H(t){return t!==t}var Z=t("base64-js"),X=t("ieee754");i.Buffer=n,i.SlowBuffer=f,i.INSPECT_MAX_BYTES=50;var W=2147483647;i.kMaxLength=W,n.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),n.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=function(t,e,i){return o(t,e,i)},n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,n.alloc=function(t,e,i){return s(t,e,i)},n.allocUnsafe=function(t){return A(t)},n.allocUnsafeSlow=function(t){return A(t)},n.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==n.prototype},n.compare=function(t,e){if(Q(t,Uint8Array)&&(t=n.from(t,t.offset,t.byteLength)),Q(e,Uint8Array)&&(e=n.from(e,e.offset,e.byteLength)),!n.isBuffer(t)||!n.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,r=e.length,o=0,a=Math.min(i,r);o<a;++o)if(t[o]!==e[o]){i=t[o],r=e[o];break}return i<r?-1:r<i?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return n.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=n.allocUnsafe(e),o=0;for(i=0;i<t.length;++i){var a=t[i];if(Q(a,Uint8Array)&&(a=n.from(a)),!n.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},n.byteLength=d,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},n.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},n.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},n.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):m.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===n.compare(this,t)},n.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},n.prototype.compare=function(t,e,i,r,o){if(Q(t,Uint8Array)&&(t=n.from(t,t.offset,t.byteLength)),!n.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||i>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=i)return 0;if(r>=o)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var a=o-r,s=i-e,A=Math.min(a,s),l=this.slice(r,o),u=t.slice(e,i),c=0;c<A;++c)if(l[c]!==u[c]){a=l[c],s=u[c];break}return a<s?-1:s<a?1:0},n.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},n.prototype.indexOf=function(t,e,i){return g(this,t,e,i,!0)},n.prototype.lastIndexOf=function(t,e,i){return g(this,t,e,i,!1)},n.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,i);case"utf8":case"utf-8":return x(this,t,e,i);case"ascii":return b(this,t,e,i);case"latin1":case"binary":return w(this,t,e,i);case"base64":return E(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;n.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=n.prototype,r},n.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||B(t,e,this.length);for(var r=this[t],n=1,o=0;++o<e&&(n*=256);)r+=this[t+o]*n;return r},n.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||B(t,e,this.length);for(var r=this[t+--e],n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},n.prototype.readUInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||B(t,e,this.length);for(var r=this[t],n=1,o=0;++o<e&&(n*=256);)r+=this[t+o]*n;return n*=128,r>=n&&(r-=Math.pow(2,8*e)),r},n.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||B(t,e,this.length);for(var r=e,n=1,o=this[t+--r];r>0&&(n*=256);)o+=this[t+--r]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*e)),o},n.prototype.readInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,e){t>>>=0,e||B(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},n.prototype.readInt16BE=function(t,e){t>>>=0,e||B(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},n.prototype.readInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,e){return t>>>=0,e||B(t,4,this.length),X.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,e){return t>>>=0,e||B(t,4,this.length),X.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,e){return t>>>=0,e||B(t,8,this.length),X.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,e){return t>>>=0,e||B(t,8,this.length),X.read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,e,i,r){if(t=+t,e>>>=0,i>>>=0,!r){D(this,t,e,i,Math.pow(2,8*i)-1,0)}var n=1,o=0;for(this[e]=255&t;++o<i&&(n*=256);)this[e+o]=t/n&255;return e+i},n.prototype.writeUIntBE=function(t,e,i,r){if(t=+t,e>>>=0,i>>>=0,!r){D(this,t,e,i,Math.pow(2,8*i)-1,0)}var n=i-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+i},n.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,1,255,0),this[e]=255&t,e+1},n.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},n.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},n.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},n.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},n.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var n=Math.pow(2,8*i-1);D(this,t,e,i,n-1,-n)}var o=0,a=1,s=0;for(this[e]=255&t;++o<i&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+i},n.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var n=Math.pow(2,8*i-1);D(this,t,e,i,n-1,-n)}var o=i-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+i},n.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},n.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},n.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},n.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},n.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},n.prototype.writeFloatLE=function(t,e,i){return R(this,t,e,!0,i)},n.prototype.writeFloatBE=function(t,e,i){return R(this,t,e,!1,i)},n.prototype.writeDoubleLE=function(t,e,i){return O(this,t,e,!0,i)},n.prototype.writeDoubleBE=function(t,e,i){return O(this,t,e,!1,i)},n.prototype.copy=function(t,e,i,r){if(!n.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);var o=r-i;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,i,r);else if(this===t&&i<e&&e<r)for(var a=o-1;a>=0;--a)t[a+e]=this[a+i];else Uint8Array.prototype.set.call(t,this.subarray(i,r),e);return o},n.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!n.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var o=t.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(t=o)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<i;++a)this[a]=t;else{var s=n.isBuffer(t)?t:n.from(t,r),A=s.length;if(0===A)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<i-e;++a)this[a+e]=s[a%A]}return this};var K=/[^+\/0-9A-Za-z-_]/g},{"base64-js":1,ieee754:29}],5:[function(t,e,i){"use strict";var r=function(){};r.timer=function(t,e,i){var r=t-new Date,n={DAYS:864e5,HOURS:36e5,MINUTES:6e4,SECONDS:1e3},o=function(){if(r>0){var t=r,o=Math.floor(t/n.DAYS);t%=n.DAYS;var s=Math.floor(t/n.HOURS);t%=n.HOURS;var A=Math.floor(t/n.MINUTES);t%=n.MINUTES;var l=Math.floor(t/n.SECONDS);e({days:o,hours:s,minutes:A,seconds:l}),r-=1e3}else r-=1e3,clearInterval(a),i()},a=setInterval(function(t){return function(){o.call(t)}}(this),1e3),s=function(){var t=r,e=Math.floor(t/n.DAYS);t%=n.DAYS;var i=Math.floor(t/n.HOURS);t%=n.HOURS;var o=Math.floor(t/n.MINUTES);return t%=n.MINUTES,{days:e,hours:i,minutes:o,seconds:Math.floor(t/n.SECONDS)}};return o.call(this),{abort:function(){clearInterval(a)},getTimeRemaining:s}},e.exports=r},{}],6:[function(t,e,i){!function(t,i){"use strict";"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.matchesSelector=i()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var r=e[i],n=r+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}})},{}],7:[function(t,e,i){!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.EvEmitter=i()}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},r=i[t]=i[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var r=i.indexOf(e);return-1!=r&&i.splice(r,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var r=this._onceEvents&&this._onceEvents[t],n=0;n<i.length;n++){var o=i[n];r&&r[o]&&(this.off(t,o),delete r[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})},{}],8:[function(t,e,i){!function(i,r){"function"==typeof define&&define.amd?define(["desandro-matches-selector/matches-selector"],function(t){return r(i,t)}):"object"==typeof e&&e.exports?e.exports=r(i,t("desandro-matches-selector")):i.fizzyUIUtils=r(i,i.matchesSelector)}(window,function(t,e){"use strict";var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e};var r=Array.prototype.slice;i.makeArray=function(t){return Array.isArray(t)?t:null===t||void 0===t?[]:"object"==typeof t&&"number"==typeof t.length?r.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,r){t=i.makeArray(t);var n=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!r)return void n.push(t);e(t,r)&&n.push(t);for(var i=t.querySelectorAll(r),o=0;o<i.length;o++)n.push(i[o])}}),n},i.debounceMethod=function(t,e,i){i=i||100;var r=t.prototype[e],n=e+"Timeout";t.prototype[e]=function(){var t=this[n];clearTimeout(t);var e=arguments,o=this;this[n]=setTimeout(function(){r.apply(o,e),delete o[n]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,r){i.docReady(function(){var o=i.toDashed(r),a="data-"+o,s=document.querySelectorAll("["+a+"]"),A=document.querySelectorAll(".js-"+o),l=i.makeArray(s).concat(i.makeArray(A)),u=a+"-options",c=t.jQuery;l.forEach(function(t){var i,o=t.getAttribute(a)||t.getAttribute(u);try{i=o&&JSON.parse(o)}catch(e){return void(n&&n.error("Error parsing "+a+" on "+t.className+": "+e))}var s=new e(t,i);c&&c.data(t,r,s)})})},i})},{"desandro-matches-selector":6}],9:[function(t,e,i){!function(i,r){"function"==typeof define&&define.amd?define(["./flickity","fizzy-ui-utils/utils"],function(t,e){return r(i,t,e)}):"object"==typeof e&&e.exports?e.exports=r(i,t("./flickity"),t("fizzy-ui-utils")):r(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,i){"use strict";function r(t){var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element)}),e}var n=e.prototype;return n.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var n=this.cells.length;e=void 0===e?n:e;var o=r(i),a=e==n;if(a)this.slider.appendChild(o);else{var s=this.cells[e].element;this.slider.insertBefore(o,s)}if(0===e)this.cells=i.concat(this.cells);else if(a)this.cells=this.cells.concat(i);else{var A=this.cells.splice(e,n-e);this.cells=this.cells.concat(i).concat(A)}this._sizeCells(i),this.cellChange(e,!0)}},n.append=function(t){this.insert(t,this.cells.length)},n.prepend=function(t){this.insert(t,0)},n.remove=function(t){var e=this.getCells(t);if(e&&e.length){var r=this.cells.length-1;e.forEach(function(t){t.remove();var e=this.cells.indexOf(t);r=Math.min(e,r),i.removeFrom(this.cells,t)},this),this.cellChange(r,!0)}},n.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},n.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var r=this.getCell(i);r&&(this.selectedIndex=this.getCellSlideIndex(r)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e})},{"./flickity":13,"fizzy-ui-utils":8}],10:[function(t,e,i){!function(i,r){"function"==typeof define&&define.amd?define(["fizzy-ui-utils/utils"],function(t){return r(i,t)}):"object"==typeof e&&e.exports?e.exports=r(i,t("fizzy-ui-utils")):(i.Flickity=i.Flickity||{},i.Flickity.animatePrototype=r(i,i.fizzyUIUtils))}(window,function(t,e){"use strict";var i={};return i.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},i.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame(function(){e.animate()})}},i.positionSlider=function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=this.isAnimating?"translate3d("+i+",0,0)":"translateX("+i+")";var r=this.slides[0];if(r){var n=-this.x-r.target,o=n/this.slidesWidth;this.dispatchEvent("scroll",null,[o,n])}},i.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},i.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},i.settle=function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},i.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},i._shiftCells=function(t,e,i){for(var r=0;r<t.length;r++){var n=t[r],o=e>0?i:0;n.wrapShift(o),e-=n.size.outerWidth}},i._unshiftCells=function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},i.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},i.applyForce=function(t){this.velocity+=t},i.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},i.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},i.applyDragForce=function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},i.applySelectedAttraction=function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var t=-1*this.selectedSlide.target-this.x,e=t*this.options.selectedAttraction;this.applyForce(e)}},i})},{"fizzy-ui-utils":8}],11:[function(t,e,i){!function(i,r){"function"==typeof define&&define.amd?define(["get-size/get-size"],function(t){return r(i,t)}):"object"==typeof e&&e.exports?e.exports=r(i,t("get-size")):(i.Flickity=i.Flickity||{},i.Flickity.Cell=r(i,i.getSize))}(window,function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var r=i.prototype;return r.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-selected","false"),this.x=0,this.shift=0},r.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.removeAttribute("aria-selected"),this.element.style[t]=""},r.getSize=function(){this.size=e(this.element)},r.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},r.updateTarget=r.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},r.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},r.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},r.remove=function(){this.element.parentNode.removeChild(this.element)},i})},{"get-size":23}],12:[function(t,e,i){!function(i,r){"function"==typeof define&&define.amd?define(["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(t,e,n){return r(i,t,e,n)}):"object"==typeof e&&e.exports?e.exports=r(i,t("./flickity"),t("unidragger"),t("fizzy-ui-utils")):i.Flickity=r(i,i.Flickity,i.Unidragger,i.fizzyUIUtils)}(window,function(t,e,i,r){"use strict";function n(){return{x:t.pageXOffset,y:t.pageYOffset}}r.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var o=e.prototype;r.extend(o,i.prototype),o._touchActionValue="pan-y";var a="createTouch"in document,s=!1;o._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),a&&!s&&(t.addEventListener("touchmove",function(){}),s=!0)},o.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},o.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},o.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},o.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},o.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},o._uiChangeDrag=function(){delete this.isFreeScrolling},o._childUIPointerDownDrag=function(t){t.preventDefault(),this.pointerDownFocus(t)},o.pointerDown=function(e,i){
if(!this.isDraggable)return void this._pointerDownDefault(e,i);this.okayPointerDown(e)&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=n(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i))},o._pointerDownDefault=function(t,e){this.pointerDownPointer=e,this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var A={INPUT:!0,TEXTAREA:!0,SELECT:!0};return o.pointerDownFocus=function(t){A[t.target.nodeName]||this.focus()},o._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,r=A[t.target.nodeName];e||i||r||t.preventDefault()},o.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},o.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},o.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},o.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},o.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},o.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var r=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x=i.x%this.slideableWidth);var n=this.dragStartPosition+i.x*r;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);n=n>o?.5*(n+o):n;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);n=n<a?.5*(n+a):n}this.dragX=n,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},o.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var r=this.getRestingPosition();this.isFreeScrolling=-r>this.slides[0].target&&-r<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},o.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),r=this._getClosestResting(t,e,-1);return i.distance<r.distance?i.index:r.index},o._getClosestResting=function(t,e,i){for(var r=this.selectedIndex,n=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,n)&&(r+=i,n=e,null!==(e=this.getSlideDistance(-t,r)));)e=Math.abs(e);return{distance:n,index:r-i}},o.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&i>1,o=n?r.modulo(e,i):e,a=this.slides[o];if(!a)return null;var s=n?this.slideableWidth*Math.floor(e/i):0;return t-(a.target+s)},o.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},o.staticClick=function(t,e){var i=this.getParentCell(t.target),r=i&&i.element,n=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,r,n])},o.onscroll=function(){var t=n(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e})},{"./flickity":13,"fizzy-ui-utils":8,unidragger:38}],13:[function(t,e,i){!function(i,r){if("function"==typeof define&&define.amd)define(["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(t,e,n,o,a,s){return r(i,t,e,n,o,a,s)});else if("object"==typeof e&&e.exports)e.exports=r(i,t("ev-emitter"),t("get-size"),t("fizzy-ui-utils"),t("./cell"),t("./slide"),t("./animate"));else{var n=i.Flickity;i.Flickity=r(i,i.EvEmitter,i.getSize,i.fizzyUIUtils,n.Cell,n.Slide,n.animatePrototype)}}(window,function(t,e,i,r,n,o,a){"use strict";function s(t,e){for(t=r.makeArray(t);t.length;)e.appendChild(t.shift())}function A(t,e){var i=r.getQueryElement(t);if(!i)return void(c&&c.error("Bad element for Flickity: "+(i||t)));if(this.element=i,this.element.flickityGUID){var n=p[this.element.flickityGUID];return n.option(e),n}l&&(this.$element=l(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e),this._create()}var l=t.jQuery,u=t.getComputedStyle,c=t.console,h=0,p={};A.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},A.createMethods=[];var f=A.prototype;r.extend(f,e.prototype),f._create=function(){var e=this.guid=++h;this.element.flickityGUID=e,p[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this);for(var i in this.options.on){var r=this.options.on[i];this.on(i,r)}A.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(t){r.extend(this.options,t)},f.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();s(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var t,e=this.options.initialIndex;t=this.isInitActivated?this.selectedIndex:void 0!==e&&this.cells[e]?e:0,this.select(t,!1,!0),this.isInitActivated=!0,this.dispatchEvent("ready")}},f._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},f._filterFindCellElements=function(t){return r.filterFindElements(t,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new n(t,this)},this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(t){t=t||0,this.maxCellHeight=t?this.maxCellHeight||0:0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var r=this.cells.length,n=t;n<r;n++){var o=this.cells[n];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=r?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(t){t.forEach(function(t){t.getSize()})},f.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",r=this._getCanCellFit();this.cells.forEach(function(e,n){if(!t.cells.length)return void t.addCell(e);var a=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);r.call(this,n,a)?t.addCell(e):(t.updateTarget(),t=new o(this),this.slides.push(t),t.addCell(e))},this),t.updateTarget(),this.updateSelectedSlide()}},f._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),r=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*r}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var d={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var t=d[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},f._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},f._getGapCells=function(t,e,i){for(var r=[];t>0;){var n=this.cells[e];if(!n)break;r.push(n),e+=i,t-=n.size.outerWidth}return r},f._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",r=this.slideableWidth-this.getLastCell().size[i],n=r<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],a=r-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){n?t.target=r*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,a))},this)}},f.dispatchEvent=function(t,e,i){var r=e?[e].concat(i):i;if(this.emitEvent(t,r),l&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var n=t;if(e){var o=l.Event(e);o.type=t,n=o}this.$element.trigger(n,i)}},f.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=r.modulo(t,this.slides.length)),this.slides[t])){var n=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=n&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},f._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&e>1))return t;var i=r.modulo(t,e),n=Math.abs(i-this.selectedIndex),o=Math.abs(i+e-this.selectedIndex),a=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&o<n?t+=e:!this.isDragSelect&&a<n&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},f.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},f.next=function(t,e){this.select(this.selectedIndex+1,t,e)},f.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectCell=function(t,e,i){var r=this.queryCell(t);if(r){var n=this.getCellSlideIndex(r);this.select(n,e,i)}},f.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){if(-1!=this.slides[e].cells.indexOf(t))return e}},f.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},f.getCells=function(t){t=r.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getCell(t);i&&e.push(i)},this),e},f.getCellElements=function(){return this.cells.map(function(t){return t.element})},f.getParentCell=function(t){var e=this.getCell(t);return e||(t=r.getParent(t,".flickity-slider > *"),this.getCell(t))},f.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var n=[],o=e-t;o<=e+t;o++){var a=this.options.wrapAround?r.modulo(o,i):o,s=this.slides[a];s&&(n=n.concat(s.getCellElements()))}return n},f.queryCell=function(t){return"number"==typeof t?this.cells[t]:("string"==typeof t&&(t=this.element.querySelector(t)),this.getCell(t))},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},f.onresize=function(){this.watchCSS(),this.resize()},r.debounceMethod(A,"onresize",150),f.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=r.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},f.watchCSS=function(){this.options.watchCSS&&(-1!=u(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},f.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=A.keyboardHandlers[t.keyCode];i&&i.call(this)}},A.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},f.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),s(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.emitEvent("destroy"),l&&this.$element&&l.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete p[this.guid]},r.extend(f,a),A.data=function(t){t=r.getQueryElement(t);var e=t&&t.flickityGUID;return e&&p[e]},r.htmlInit(A,"flickity"),l&&l.bridget&&l.bridget("flickity",A),A.setJQuery=function(t){l=t},A.Cell=n,A})},{"./animate":10,"./cell":11,"./slide":19,"ev-emitter":7,"fizzy-ui-utils":8,"get-size":23}],14:[function(t,e,i){/*!
 * Flickity v2.1.2
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2018 Metafizzy
 */
!function(i,r){"function"==typeof define&&define.amd?define(["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],r):"object"==typeof e&&e.exports&&(e.exports=r(t("./flickity"),t("./drag"),t("./prev-next-button"),t("./page-dots"),t("./player"),t("./add-remove-cell"),t("./lazyload")))}(window,function(t){return t})},{"./add-remove-cell":9,"./drag":12,"./flickity":13,"./lazyload":15,"./page-dots":16,"./player":17,"./prev-next-button":18}],15:[function(t,e,i){!function(i,r){"function"==typeof define&&define.amd?define(["./flickity","fizzy-ui-utils/utils"],function(t,e){return r(i,t,e)}):"object"==typeof e&&e.exports?e.exports=r(i,t("./flickity"),t("fizzy-ui-utils")):r(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,i){"use strict";function r(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),r=t.getAttribute("data-flickity-lazyload-src"),n=t.getAttribute("data-flickity-lazyload-srcset");if(e||r||n)return[t]}var o=t.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return i.makeArray(o)}function n(t,e){this.img=t,this.flickity=e,this.load()}e.createMethods.push("_createLazyload");var o=e.prototype;return o._createLazyload=function(){this.on("select",this.lazyLoad)},o.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),o=[];i.forEach(function(t){var e=r(t);o=o.concat(e)}),o.forEach(function(t){new n(t,this)},this)}},n.prototype.handleEvent=i.handleEvent,n.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},n.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},n.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},n.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),r=i&&i.element;this.flickity.cellSizeChange(r),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,r)},e.LazyLoader=n,e})},{"./flickity":13,"fizzy-ui-utils":8}],16:[function(t,e,i){!function(i,r){"function"==typeof define&&define.amd?define(["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,n){return r(i,t,e,n)}):"object"==typeof e&&e.exports?e.exports=r(i,t("./flickity"),t("tap-listener"),t("fizzy-ui-utils")):r(i,i.Flickity,i.TapListener,i.fizzyUIUtils)}(window,function(t,e,i,r){"use strict";function n(t){this.parent=t,this._create()}n.prototype=new i,n.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},n.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},n.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},n.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},n.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],r=this.dots.length,n=r+t,o=r;o<n;o++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(a),i.push(a)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},n.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},n.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},n.prototype.onTap=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},n.prototype.destroy=function(){this.deactivate()},e.PageDots=n,r.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new n(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=n,e})},{"./flickity":13,"fizzy-ui-utils":8,"tap-listener":37}],17:[function(t,e,i){!function(i,r){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(t,e,i){return r(t,e,i)}):"object"==typeof e&&e.exports?e.exports=r(t("ev-emitter"),t("fizzy-ui-utils"),t("./flickity")):r(i.EvEmitter,i.fizzyUIUtils,i.Flickity)}(window,function(t,e,i){"use strict";function r(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}r.prototype=Object.create(t.prototype),r.prototype.play=function(){if("playing"!=this.state){if(document.hidden)return void document.addEventListener("visibilitychange",this.onVisibilityPlay);this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()}},r.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},r.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},r.prototype.clear=function(){clearTimeout(this.timeout)},r.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},r.prototype.unpause=function(){"paused"==this.state&&this.play()},r.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},r.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var n=i.prototype;return n._createPlayer=function(){this.player=new r(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},n.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},n.playPlayer=function(){this.player.play()},n.stopPlayer=function(){this.player.stop()},n.pausePlayer=function(){this.player.pause()},n.unpausePlayer=function(){this.player.unpause()},n.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},n.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},n.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=r,i})},{"./flickity":13,"ev-emitter":7,"fizzy-ui-utils":8}],18:[function(t,e,i){!function(i,r){"function"==typeof define&&define.amd?define(["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,n){return r(i,t,e,n)}):"object"==typeof e&&e.exports?e.exports=r(i,t("./flickity"),t("tap-listener"),t("fizzy-ui-utils")):r(i,i.Flickity,i.TapListener,i.fizzyUIUtils)}(window,function(t,e,i,r){"use strict";function n(t,e){this.direction=t,this.parent=e,this._create()}function o(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}var a="http://www.w3.org/2000/svg";n.prototype=Object.create(i.prototype),n.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},n.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},n.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},n.prototype.createSVG=function(){var t=document.createElementNS(a,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(a,"path"),i=o(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},n.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},n.prototype.handleEvent=r.handleEvent,n.prototype.onclick=function(t){var e=document.activeElement;e&&e==this.element&&this.onTap(t,t)},n.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},n.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},n.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)return void this.enable();var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()},n.prototype.destroy=function(){this.deactivate()},r.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var s=e.prototype;return s._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new n(-1,this),this.nextButton=new n(1,this),this.on("activate",this.activatePrevNextButtons))},s.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},s.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=n,e})},{"./flickity":13,"fizzy-ui-utils":8,"tap-listener":37}],19:[function(t,e,i){!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():(t.Flickity=t.Flickity||{},t.Flickity.Slide=i())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,r=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+r*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.changeSelected(!0)},e.unselect=function(){this.changeSelected(!1)},e.changeSelected=function(t){var e=t?"add":"remove";this.cells.forEach(function(i){i.element.classList[e]("is-selected"),i.element.setAttribute("aria-selected",t.toString())})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t})},{}],20:[function(t,e,i){function r(t,e){"object"!=typeof e?e={hash:!!e}:void 0===e.hash&&(e.hash=!0);for(var i=e.hash?{}:"",r=e.serializer||(e.hash?a:s),n=t&&t.elements?t.elements:[],o=Object.create(null),u=0;u<n.length;++u){var c=n[u];if((e.disabled||!c.disabled)&&c.name&&(l.test(c.nodeName)&&!A.test(c.type))){var h=c.name,p=c.value;if("checkbox"!==c.type&&"radio"!==c.type||c.checked||(p=void 0),e.empty){if("checkbox"!==c.type||c.checked||(p=""),"radio"===c.type&&(o[c.name]||c.checked?c.checked&&(o[c.name]=!0):o[c.name]=!1),void 0==p&&"radio"==c.type)continue}else if(!p)continue;if("select-multiple"!==c.type)i=r(i,h,p);else{p=[];for(var f=c.options,d=!1,m=0;m<f.length;++m){var y=f[m],g=e.empty&&!y.value,_=y.value||g;y.selected&&_&&(d=!0,i=e.hash&&"[]"!==h.slice(h.length-2)?r(i,h+"[]",y.value):r(i,h,y.value))}!d&&e.empty&&(i=r(i,h,""))}}}if(e.empty)for(var h in o)o[h]||(i=r(i,h,""));return i}function n(t){var e=[],i=/^([^\[\]]*)/,r=new RegExp(u),n=i.exec(t);for(n[1]&&e.push(n[1]);null!==(n=r.exec(t));)e.push(n[1]);return e}function o(t,e,i){if(0===e.length)return t=i;var r=e.shift(),n=r.match(/^\[(.+?)\]$/);if("[]"===r)return t=t||[],Array.isArray(t)?t.push(o(null,e,i)):(t._values=t._values||[],t._values.push(o(null,e,i))),t;if(n){var a=n[1],s=+a;isNaN(s)?(t=t||{},t[a]=o(t[a],e,i)):(t=t||[],t[s]=o(t[s],e,i))}else t[r]=o(t[r],e,i);return t}function a(t,e,i){if(e.match(u))o(t,n(e),i);else{var r=t[e];r?(Array.isArray(r)||(t[e]=[r]),t[e].push(i)):t[e]=i}return t}function s(t,e,i){return i=i.replace(/(\r)?\n/g,"\r\n"),i=encodeURIComponent(i),i=i.replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+i}var A=/^(?:submit|button|image|reset|file)$/i,l=/^(?:input|select|textarea|keygen)/i,u=/(\[[^\[\]]*\])/g;e.exports=r},{}],21:[function(t,e,i){function r(t){for(var e=null,i=0;i<t.length;i++)if(null!==e)for(var r=0;r<t[i].length;r++)e.push(t[i][r]);else e=t[i];return e}function n(t,e){var i=t.features;if(!i)throw new Error("No features found");return r(i.map(function(t){return o(t,e)}))}function o(t,e){var i=t.type,o=t.geometry,a=o&&o.type;if(i===h)return n(t,e);if(i!==c)throw new Error("Unhandled type: "+i);if(a!==p&&a!==f)throw new Error("Unhandled geometry type: "+a);return r((a===p?[o.coordinates]:o.coordinates).map(function(t){return u.polyfill(t,e,!0)}))}function a(t,e){void 0===e&&(e={});var i=[u.h3ToGeoBoundary(t,!0)];return{type:c,id:t,properties:e,geometry:{type:p,coordinates:i}}}function s(t,e){void 0===e&&(e={});var i=u.h3SetToMultiPolygon(t,!0),r=i.length>1,n=r?f:p,o=r?i:i[0]||[];return{type:c,properties:e,geometry:{type:n,coordinates:o}}}function A(t,e){void 0===e&&(e={});var i=t.map(function(t){return[u.h3ToGeoBoundary(t,{geoJson:!0})]});return{type:c,properties:e,geometry:{type:f,coordinates:i}}}function l(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r],o=e?e(n):{};i.push(a(n,o))}return{type:h,features:i}}var u=t("h3-js"),c="Feature",h="FeatureCollection",p="Polygon",f="MultiPolygon";e.exports={featureToH3Set:o,h3ToFeature:a,h3SetToFeature:s,h3SetToMultiPolygonFeature:A,h3SetToFeatureCollection:l}},{"h3-js":28}],22:[function(t,e,i){e.exports=t("./dist/src/geojson2h3")},{"./dist/src/geojson2h3":21}],23:[function(t,e,i){/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */
!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.getSize=i()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<l;e++){t[A[e]]=0}return t}function r(t){var e=getComputedStyle(t);return e||s("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function n(){if(!u){u=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=r(e);a=200==Math.round(t(n.width)),o.isBoxSizeOuter=a,i.removeChild(e)}}function o(e){if(n(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=r(e);if("none"==o.display)return i();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var u=s.isBorderBox="border-box"==o.boxSizing,c=0;c<l;c++){var h=A[c],p=o[h],f=parseFloat(p);s[h]=isNaN(f)?0:f}var d=s.paddingLeft+s.paddingRight,m=s.paddingTop+s.paddingBottom,y=s.marginLeft+s.marginRight,g=s.marginTop+s.marginBottom,_=s.borderLeftWidth+s.borderRightWidth,v=s.borderTopWidth+s.borderBottomWidth,x=u&&a,b=t(o.width);!1!==b&&(s.width=b+(x?0:d+_));var w=t(o.height);return!1!==w&&(s.height=w+(x?0:m+v)),s.innerWidth=s.width-(d+_),s.innerHeight=s.height-(m+v),s.outerWidth=s.width+y,s.outerHeight=s.height+g,s}}var a,s="undefined"==typeof console?e:function(t){console.error(t)},A=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=A.length,u=!1;return o})},{}],24:[function(t,e,i){(function(t){/*!
 * VERSION: 2.0.2
 * DATE: 2018-08-27
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var i=void 0!==e&&e.exports&&void 0!==t?t:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";i._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var r=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i},n=function(t,e,i){var r,n,o=t.cycle;for(r in o)n=o[r],t[r]="function"==typeof n?n(i,e[i]):n[i%n.length];delete t.cycle},o=function(t,e,r){i.call(this,t,e,r),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=o.prototype.render},a=i._internals,s=a.isSelector,A=a.isArray,l=o.prototype=i.to({},.1,{}),u=[];o.version="2.0.2",l.constructor=o,l.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=i.killTweensOf,o.getTweensOf=i.getTweensOf,o.lagSmoothing=i.lagSmoothing,o.ticker=i.ticker,o.render=i.render,l.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),i.prototype.invalidate.call(this)},l.updateTo=function(t,e){var r,n=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(r in t)this.vars[r]=t[r];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,A=1/(1-n),l=this._firstPT;l;)s=l.s+l.c,l.c*=A,l.s=s-l.c,l=l._next;return this},l.render=function(t,e,r){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,o,s,A,l,u,c,h,p,f=this._dirty?this.totalDuration():this._totalDuration,d=this._time,m=this._totalTime,y=this._cycle,g=this._duration,_=this._rawPrevTime;if(t>=f-1e-7&&t>=0?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,o="onComplete",r=r||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(_<0||t<=0&&t>=-1e-7||1e-10===_&&"isPause"!==this.data)&&_!==t&&(r=!0,_>1e-10&&(o="onReverseComplete")),this._rawPrevTime=h=!e||t||_===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===g&&_>0)&&(o="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||r)&&(_>=0&&(r=!0),this._rawPrevTime=h=!e||t||_===t?t:1e-10)),this._initted||(r=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(A=g+this._repeatDelay,this._cycle=this._totalTime/A>>0,0!==this._cycle&&this._cycle===this._totalTime/A&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*A,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time,(p=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==p||this._initted?this._yoyoEase=p=!0===p?this._ease:p instanceof Ease?p:Ease.map[p]:(p=this.vars.ease,this._yoyoEase=p=p?p instanceof Ease?p:"function"==typeof p?new Ease(p,this.vars.easeParams):Ease.map[p]||i.defaultEase:i.defaultEase)),this.ratio=p?1-p.getRatio((g-this._time)/g):0)),this._time>g?this._time=g:this._time<0&&(this._time=0)),this._easeType&&!p?(l=this._time/g,u=this._easeType,c=this._easePower,(1===u||3===u&&l>=.5)&&(l=1-l),3===u&&(l*=2),1===c?l*=l:2===c?l*=l*l:3===c?l*=l*l*l:4===c&&(l*=l*l*l*l),1===u?this.ratio=1-l:2===u?this.ratio=l:this._time/g<.5?this.ratio=l/2:this.ratio=1-l/2):p||(this.ratio=this._ease.getRatio(this._time/g))),d===this._time&&!r&&y===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=d,this._totalTime=m,this._rawPrevTime=_,this._cycle=y,a.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||n||p?n&&this._ease._calcEnd&&!p&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/g)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==d&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,!0,r):o||(o="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==g||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,r),e||(this._totalTime!==m||o)&&this._callback("onUpdate")),this._cycle!==y&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(this._gc&&!r||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,r),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===g&&1e-10===this._rawPrevTime&&1e-10!==h&&(this._rawPrevTime=0)))},o.to=function(t,e,i){return new o(t,e,i)},o.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new o(t,e,i)},o.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new o(t,e,r)},o.staggerTo=o.allTo=function(t,e,a,l,c,h,p){l=l||0;var f,d,m,y,g=0,_=[],v=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),c.apply(p||a.callbackScope||this,h||u)},x=a.cycle,b=a.startAt&&a.startAt.cycle;for(A(t)||("string"==typeof t&&(t=i.selector(t)||t),s(t)&&(t=r(t))),t=t||[],l<0&&(t=r(t),t.reverse(),l*=-1),f=t.length-1,m=0;m<=f;m++){d={};for(y in a)d[y]=a[y];if(x&&(n(d,t,m),null!=d.duration&&(e=d.duration,delete d.duration)),b){b=d.startAt={};for(y in a.startAt)b[y]=a.startAt[y];n(d.startAt,t,m)}d.delay=g+(d.delay||0),m===f&&c&&(d.onComplete=v),_[m]=new o(t[m],e,d),g+=l}return _},o.staggerFrom=o.allFrom=function(t,e,i,r,n,a,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,o.staggerTo(t,e,i,r,n,a,s)},o.staggerFromTo=o.allFromTo=function(t,e,i,r,n,a,s,A){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,o.staggerTo(t,e,r,n,a,s,A)},o.delayedCall=function(t,e,i,r,n){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:n,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var c=function(t,e){for(var r=[],n=0,o=t._first;o;)o instanceof i?r[n++]=o:(e&&(r[n++]=o),r=r.concat(c(o,e)),n=r.length),o=o._next;return r},h=o.getAllTweens=function(e){return c(t._rootTimeline,e).concat(c(t._rootFramesTimeline,e))};o.killAll=function(t,i,r,n){null==i&&(i=!0),null==r&&(r=!0);var o,a,s,A=h(0!=n),l=A.length,u=i&&r&&n;for(s=0;s<l;s++)a=A[s],(u||a instanceof e||(o=a.target===a.vars.onComplete)&&r||i&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var n,l,u,c,h,p=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),s(t)&&(t=r(t)),A(t))for(c=t.length;--c>-1;)o.killChildTweensOf(t[c],e);else{n=[];for(u in p)for(l=p[u].target.parentNode;l;)l===t&&(n=n.concat(p[u].tweens)),l=l.parentNode;for(h=n.length,c=0;c<h;c++)e&&n[c].totalTime(n[c].totalDuration()),n[c]._enabled(!1,!1)}}};var p=function(t,i,r,n){i=!1!==i,r=!1!==r,n=!1!==n;for(var o,a,s=h(n),A=i&&r&&n,l=s.length;--l>-1;)a=s[l],(A||a instanceof e||(o=a.target===a.vars.onComplete)&&r||i&&!o)&&a.paused(t)};return o.pauseAll=function(t,e,i){p(!0,t,e,i)},o.resumeAll=function(t,e,i){p(!1,t,e,i)},o.globalTimeScale=function(e){var r=t._rootTimeline,n=i.ticker.time;return arguments.length?(e=e||1e-10,r._startTime=n-(n-r._startTime)*r._timeScale/e,r=t._rootFramesTimeline,n=i.ticker.frame,r._startTime=n-(n-r._startTime)*r._timeScale/e,r._timeScale=t._rootTimeline._timeScale=e,e):r._timeScale},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),i._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,r){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,r,n=this.vars;for(r in n)i=n[r],A(i)&&-1!==i.join("").indexOf("{self}")&&(n[r]=this._swapSelfInParams(i));A(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},o=r._internals,a=n._internals={},s=o.isSelector,A=o.isArray,l=o.lazyTweens,u=o.lazyRender,c=i._gsDefine.globals,h=function(t){var e,i={};for(e in t)i[e]=t[e];return i},p=function(t,e,i){var r,n,o=t.cycle;for(r in o)n=o[r],t[r]="function"==typeof n?n(i,e[i]):n[i%n.length];delete t.cycle},f=a.pauseCallback=function(){},d=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i},m=n.prototype=new e;return n.version="2.0.2",m.constructor=n,m.kill()._gc=m._forcingPlayhead=m._hasPause=!1,m.to=function(t,e,i,n){var o=i.repeat&&c.TweenMax||r;return e?this.add(new o(t,e,i),n):this.set(t,i,n)},m.from=function(t,e,i,n){return this.add((i.repeat&&c.TweenMax||r).from(t,e,i),n)},m.fromTo=function(t,e,i,n,o){var a=n.repeat&&c.TweenMax||r;return e?this.add(a.fromTo(t,e,i,n),o):this.set(t,n,o)},m.staggerTo=function(t,e,i,o,a,A,l,u){var c,f,m=new n({onComplete:A,onCompleteParams:l,callbackScope:u,smoothChildTiming:this.smoothChildTiming}),y=i.cycle;for("string"==typeof t&&(t=r.selector(t)||t),t=t||[],s(t)&&(t=d(t)),o=o||0,o<0&&(t=d(t),t.reverse(),o*=-1),f=0;f<t.length;f++)c=h(i),c.startAt&&(c.startAt=h(c.startAt),c.startAt.cycle&&p(c.startAt,t,f)),y&&(p(c,t,f),null!=c.duration&&(e=c.duration,delete c.duration)),m.to(t[f],e,c,f*o);return this.add(m,a)},m.staggerFrom=function(t,e,i,r,n,o,a,s){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,r,n,o,a,s)},m.staggerFromTo=function(t,e,i,r,n,o,a,s,A){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,r,n,o,a,s,A)},m.call=function(t,e,i,n){return this.add(r.delayedCall(0,t,e,i),n)},m.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new r(t,0,e),i)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var i,o,a,s,A=new n(t),l=A._timeline;for(null==e&&(e=!0),l._remove(A,!0),A._startTime=0,A._rawPrevTime=A._time=A._totalTime=l._time,a=l._first;a;)s=a._next,e&&a instanceof r&&a.target===a.vars.onComplete||(o=a._startTime-a._delay,o<0&&(i=1),A.add(a,o)),a=s;return l.add(A,0),i&&A.totalDuration(),A},m.add=function(i,o,a,s){var l,u,c,h,p,f;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,i)),!(i instanceof t)){if(i instanceof Array||i&&i.push&&A(i)){for(a=a||"normal",s=s||0,l=o,u=i.length,c=0;c<u;c++)A(h=i[c])&&(h=new n({tweens:h})),this.add(h,l),"string"!=typeof h&&"function"!=typeof h&&("sequence"===a?l=h._startTime+h.totalDuration()/h._timeScale:"start"===a&&(h._startTime-=h.delay())),l+=s;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,o);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=r.delayedCall(0,i)}if(e.prototype.add.call(this,i,o),i._time&&(l=Math.max(0,Math.min(i.totalDuration(),(this.rawTime()-i._startTime)*i._timeScale)),Math.abs(l-i._totalTime)>1e-5&&i.render(l,!1,!1)),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,f=p.rawTime()>i._startTime;p._timeline;)f&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},m.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&A(e)){for(var r=e.length;--r>-1;)this.remove(e[r]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},m._remove=function(t,i){return e.prototype._remove.call(this,t,i),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},m.insert=m.insertMultiple=function(t,e,i,r){return this.add(t,e||0,i,r)},m.appendMultiple=function(t,e,i,r){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,r)},m.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},m.addPause=function(t,e,i,n){var o=r.delayedCall(0,f,i,n||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},m.removeLabel=function(t){return delete this._labels[t],this},m.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},m._parseTimeOrLabel=function(e,i,r,n){var o,a;if(n instanceof t&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&A(n)))for(a=n.length;--a>-1;)n[a]instanceof t&&n[a].timeline===this&&this.remove(n[a]);if(o="number"!=typeof e||i?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof i)return this._parseTimeOrLabel(i,r&&"number"==typeof e&&null==this._labels[i]?e-o:0,r);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=o);else{if(-1===(a=e.indexOf("=")))return null==this._labels[e]?r?this._labels[e]=o+i:i:this._labels[e]+i;i=parseInt(e.charAt(a-1)+"1",10)*Number(e.substr(a+1)),e=a>1?this._parseTimeOrLabel(e.substr(0,a-1),0,r):o}return Number(e)+i},m.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(t,e){return this.play(t,e)},m.gotoAndStop=function(t,e){return this.pause(t,e)},m.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,n,o,a,s,A,c,h=this._time,p=this._dirty?this.totalDuration():this._totalDuration,f=this._startTime,d=this._timeScale,m=this._paused;if(h!==this._time&&(t+=this._time-h),t>=p-1e-7&&t>=0)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(n=!0,a="onComplete",s=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(s=!0,this._rawPrevTime>1e-10&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=p+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==h||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(a="onReverseComplete",n=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(s=n=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(s=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&n)for(r=this._first;r&&0===r._startTime;)r._duration||(n=!1),r=r._next;t=0,this._initted||(s=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=h)for(r=this._first;r&&r._startTime<=t&&!A;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(A=r),r=r._next;else for(r=this._last;r&&r._startTime>=t&&!A;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(A=r),r=r._prev;A&&(this._time=t=A._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==h&&this._first||i||s||A){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==h&&t>0&&(this._active=!0),0===h&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(c=this._time)>=h)for(r=this._first;r&&(o=r._next,c===this._time&&(!this._paused||m));)(r._active||r._startTime<=c&&!r._paused&&!r._gc)&&(A===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=o;else for(r=this._last;r&&(o=r._prev,c===this._time&&(!this._paused||m));){if(r._active||r._startTime<=h&&!r._paused&&!r._gc){if(A===r){for(A=r._prev;A&&A.endTime()>this._time;)A.render(A._reversed?A.totalDuration()-(t-A._startTime)*A._timeScale:(t-A._startTime)*A._timeScale,e,i),A=A._prev;A=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)}r=o}this._onUpdate&&(e||(l.length&&u(),this._callback("onUpdate"))),a&&(this._gc||f!==this._startTime&&d===this._timeScale||(0===this._time||p>=this.totalDuration())&&(n&&(l.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},m._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},m.getChildren=function(t,e,i,n){n=n||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<n||(a instanceof r?!1!==e&&(o[s++]=a):(!1!==i&&(o[s++]=a),!1!==t&&(o=o.concat(a.getChildren(!0,e,i)),s=o.length))),a=a._next;return o},m.getTweensOf=function(t,e){var i,n,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),i=r.getTweensOf(t),n=i.length;--n>-1;)(i[n].timeline===this||e&&this._contains(i[n]))&&(a[s++]=i[n]);return o&&this._enabled(!1,!0),a},m.recent=function(){return this._recent},m._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},m.shiftChildren=function(t,e,i){i=i||0;for(var r,n=this._first,o=this._labels;n;)n._startTime>=i&&(n._startTime+=t),n=n._next;if(e)for(r in o)o[r]>=i&&(o[r]+=t);return this._uncache(!0)},m._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),r=i.length,n=!1;--r>-1;)i[r]._kill(t,e)&&(n=!0);return n},m.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},m._enabled=function(t,i){if(t===this._gc)for(var r=this._first;r;)r._enabled(t,!0),r=r._next;return e.prototype._enabled.call(this,t,i)},m.totalTime=function(e,i,r){this._forcingPlayhead=!0;var n=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,n},m.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,r=0,n=this._last,o=999999999999;n;)e=n._prev,n._dirty&&n.totalDuration(),n._startTime>o&&this._sortChildren&&!n._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(n,n._startTime-n._delay),this._calculatingDuration=0):o=n._startTime,n._startTime<0&&!n._paused&&(r-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale,this._time-=n._startTime,this._totalTime-=n._startTime,this._rawPrevTime-=n._startTime),this.shiftChildren(-n._startTime,!1,-9999999999),o=0),i=n._startTime+n._totalDuration/n._timeScale,i>r&&(r=i),n=e;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},m.paused=function(e){if(!e)for(var i=this._first,r=this._time;i;)i._startTime===r&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},m.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},m.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},n},!0),i._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,r){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},o=e._internals,a=o.lazyTweens,s=o.lazyRender,A=i._gsDefine.globals,l=new r(null,null,1,0),u=n.prototype=new t;return u.constructor=n,u.kill()._gc=!1,n.version="2.0.2",u.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},u.addCallback=function(t,i,r,n){return this.add(e.delayedCall(0,t,r,n),i)},u.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),r=i.length,n=this._parseTimeOrLabel(e);--r>-1;)i[r]._startTime===n&&i[r]._enabled(!1,!1);return this},u.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},u.tweenTo=function(t,i){i=i||{};var r,n,o,a={ease:l,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},s=i.repeat&&A.TweenMax||e;for(n in i)a[n]=i[n];return a.time=this._parseTimeOrLabel(t),r=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new s(this,r,a),a.onStart=function(){o.target.paused(!0),o.vars.time===o.target.time()||r!==o.duration()||o.isFromTo||o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale).render(o.time(),!0,!0),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||o,i.onStartParams||[])},o},u.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var r=this.tweenTo(e,i);return r.isFromTo=1,r.duration(Math.abs(r.vars.time-t)/this._timeScale||.001)},u.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,n,o,A,l,u,c,h,p=this._time,f=this._dirty?this.totalDuration():this._totalDuration,d=this._duration,m=this._totalTime,y=this._startTime,g=this._timeScale,_=this._rawPrevTime,v=this._paused,x=this._cycle;if(p!==this._time&&(t+=this._time-p),t>=f-1e-7&&t>=0)this._locked||(this._totalTime=f,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(n=!0,A="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||_<0||1e-10===_)&&_!==t&&this._first&&(l=!0,_>1e-10&&(A="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=d,t=d+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===d&&1e-10!==_&&(_>0||t<0&&_>=0)&&!this._locked)&&(A="onReverseComplete",n=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=n=!0,A="onReverseComplete"):_>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=d||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&n)for(r=this._first;r&&0===r._startTime;)r._duration||(n=!1),r=r._next;t=0,this._initted||(l=!0)}else if(0===d&&_<0&&(l=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(u=d+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=d-this._time),this._time>d?(this._time=d,t=d+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=p||this._repeat&&x!==this._cycle)for(r=this._first;r&&r._startTime<=t&&!c;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(c=r),r=r._next;else for(r=this._last;r&&r._startTime>=t&&!c;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(c=r),r=r._prev;c&&c._startTime<d&&(this._time=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var b=this._yoyo&&0!=(1&x),w=b===(this._yoyo&&0!=(1&this._cycle)),E=this._totalTime,T=this._cycle,S=this._rawPrevTime,k=this._time;if(this._totalTime=x*d,this._cycle<x?b=!b:this._totalTime+=d,this._time=p,this._rawPrevTime=0===d?_-1e-4:_,this._cycle=x,this._locked=!0,p=b?0:d,this.render(p,e,0===d),e||this._gc||this.vars.onRepeat&&(this._cycle=T,this._locked=!1,this._callback("onRepeat")),p!==this._time)return;if(w&&(this._cycle=x,this._locked=!0,p=b?d+1e-4:-1e-4,this.render(p,!0,!1)),this._locked=!1,this._paused&&!v)return;this._time=k,this._totalTime=E,this._cycle=T,this._rawPrevTime=S}if(!(this._time!==p&&this._first||i||l||c))return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(h=this._time)>=p)for(r=this._first;r&&(o=r._next,h===this._time&&(!this._paused||v));)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(c===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=o;else for(r=this._last;r&&(o=r._prev,h===this._time&&(!this._paused||v));){if(r._active||r._startTime<=p&&!r._paused&&!r._gc){if(c===r){for(c=r._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,i),c=c._prev;c=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)}r=o}this._onUpdate&&(e||(a.length&&s(),this._callback("onUpdate"))),A&&(this._locked||this._gc||y!==this._startTime&&g===this._timeScale||(0===this._time||f>=this.totalDuration())&&(n&&(a.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[A]&&this._callback(A)))},u.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var r,n,o=[],a=this.getChildren(t,e,i),s=0,A=a.length;for(r=0;r<A;r++)n=a[r],n.isActive()&&(o[s++]=n);return o},u.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),r=i.length;for(e=0;e<r;e++)if(i[e].time>t)return i[e].name;return null},u.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},u.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},u.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},u.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},u.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],r=[],n=[],o={},a=i._gsDefine.globals,s=function(t,e,i,r){i===r&&(i=r-(r-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=r,this.da=r-t,this.ca=i-t,this.ba=e-t},A=function(t,e,i,r){var n={a:t},o={},a={},s={c:r},A=(t+e)/2,l=(e+i)/2,u=(i+r)/2,c=(A+l)/2,h=(l+u)/2,p=(h-c)/8;return n.b=A+(t-A)/4,o.b=c+p,n.c=o.a=(n.b+o.b)/2,o.c=a.a=(c+h)/2,a.b=h-p,s.b=u+(r-u)/4,a.c=s.a=(a.b+s.b)/2,[n,o,a,s]},l=function(t,i,o,a,s){var l,u,c,h,p,f,d,m,y,g,_,v,x,b=t.length-1,w=0,E=t[0].a;for(l=0;l<b;l++)p=t[w],u=p.a,c=p.d,h=t[w+1].d,s?(_=e[l],v=r[l],x=(v+_)*i*.25/(a?.5:n[l]||.5),f=c-(c-u)*(a?.5*i:0!==_?x/_:0),d=c+(h-c)*(a?.5*i:0!==v?x/v:0),m=c-(f+((d-f)*(3*_/(_+v)+.5)/4||0))):(f=c-(c-u)*i*.5,d=c+(h-c)*i*.5,m=c-(f+d)/2),f+=m,d+=m,p.c=y=f,p.b=0!==l?E:E=p.a+.6*(p.c-p.a),p.da=c-u,p.ca=y-u,p.ba=E-u,o?(g=A(u,E,y,c),t.splice(w,1,g[0],g[1],g[2],g[3]),w+=4):w++,E=d;p=t[w],p.b=E,p.c=E+.4*(p.d-E),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=E-p.a,o&&(g=A(p.a,E,p.c,p.d),t.splice(w,1,g[0],g[1],g[2],g[3]))},u=function(t,i,n,o){var a,A,l,u,c,h,p=[];if(o)for(t=[o].concat(t),A=t.length;--A>-1;)"string"==typeof(h=t[A][i])&&"="===h.charAt(1)&&(t[A][i]=o[i]+Number(h.charAt(0)+h.substr(2)));if((a=t.length-2)<0)return p[0]=new s(t[0][i],0,0,t[0][i]),p;for(A=0;A<a;A++)l=t[A][i],u=t[A+1][i],p[A]=new s(l,0,0,u),n&&(c=t[A+2][i],e[A]=(e[A]||0)+(u-l)*(u-l),r[A]=(r[A]||0)+(c-u)*(c-u));return p[A]=new s(t[A][i],0,0,t[A+1][i]),p},c=function(t,i,a,s,A,c){var h,p,f,d,m,y,g,_,v={},x=[],b=c||t[0];A="string"==typeof A?","+A+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==i&&(i=1);for(p in t[0])x.push(p);if(t.length>1){for(_=t[t.length-1],g=!0,h=x.length;--h>-1;)if(p=x[h],Math.abs(b[p]-_[p])>.05){g=!1;break}g&&(t=t.concat(),c&&t.unshift(c),t.push(t[1]),c=t[t.length-3])}for(e.length=r.length=n.length=0,h=x.length;--h>-1;)p=x[h],o[p]=-1!==A.indexOf(","+p+","),v[p]=u(t,p,o[p],c);for(h=e.length;--h>-1;)e[h]=Math.sqrt(e[h]),r[h]=Math.sqrt(r[h]);if(!s){for(h=x.length;--h>-1;)if(o[p])for(f=v[x[h]],y=f.length-1,
d=0;d<y;d++)m=f[d+1].da/r[d]+f[d].da/e[d]||0,n[d]=(n[d]||0)+m*m;for(h=n.length;--h>-1;)n[h]=Math.sqrt(n[h])}for(h=x.length,d=a?4:1;--h>-1;)p=x[h],f=v[p],l(f,i,a,s,o[p]),g&&(f.splice(0,d),f.splice(f.length-d,d));return v},h=function(t,e,i){e=e||"soft";var r,n,o,a,A,l,u,c,h,p,f,d={},m="cubic"===e?3:2,y="soft"===e,g=[];if(y&&i&&(t=[i].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(h in t[0])g.push(h);for(l=g.length;--l>-1;){for(h=g[l],d[h]=A=[],p=0,c=t.length,u=0;u<c;u++)r=null==i?t[u][h]:"string"==typeof(f=t[u][h])&&"="===f.charAt(1)?i[h]+Number(f.charAt(0)+f.substr(2)):Number(f),y&&u>1&&u<c-1&&(A[p++]=(r+A[p-2])/2),A[p++]=r;for(c=p-m+1,p=0,u=0;u<c;u+=m)r=A[u],n=A[u+1],o=A[u+2],a=2===m?0:A[u+3],A[p++]=f=3===m?new s(r,n,o,a):new s(r,(2*n+r)/3,(2*n+o)/3,o);A.length=p}return d},p=function(t,e,i){for(var r,n,o,a,s,A,l,u,c,h,p,f=1/i,d=t.length;--d>-1;)for(h=t[d],o=h.a,a=h.d-o,s=h.c-o,A=h.b-o,r=n=0,u=1;u<=i;u++)l=f*u,c=1-l,r=n-(n=(l*l*a+3*c*(l*s+c*A))*l),p=d*i+u-1,e[p]=(e[p]||0)+r*r},f=function(t,e){e=e>>0||6;var i,r,n,o,a=[],s=[],A=0,l=0,u=e-1,c=[],h=[];for(i in t)p(t[i],a,e);for(n=a.length,r=0;r<n;r++)A+=Math.sqrt(a[r]),o=r%e,h[o]=A,o===u&&(l+=A,o=r/e>>0,c[o]=h,s[o]=l,A=0,h=[]);return{length:l,lengths:s,segments:c}},d=i._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var r,n,o,a,s,A=e.values||[],l={},u=A[0],p=e.autoRotate||i.vars.orientToBezier;this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",!0===p?0:Number(p)||0]]:null;for(r in u)this._props.push(r);for(o=this._props.length;--o>-1;)r=this._props[o],this._overwriteProps.push(r),n=this._func[r]="function"==typeof t[r],l[r]=n?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(t[r]),s||l[r]!==A[0][r]&&(s=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?c(A,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):h(A,e.type,l),this._segCount=this._beziers[r].length,this._timeRes){var d=f(this._beziers,this._timeRes);this._length=d.length,this._lengths=d.lengths,this._segments=d.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),o=p.length;--o>-1;){for(a=0;a<3;a++)r=p[o][a],this._func[r]="function"==typeof t[r]&&t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)];r=p[o][2],this._initialRotations[o]=(this._func[r]?this._func[r].call(this._target):this._target[r])||0,this._overwriteProps.push(r)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,r,n,o,a,s,A,l,u,c,h=this._segCount,p=this._func,f=this._target,d=e!==this._startRatio;if(this._timeRes){if(u=this._lengths,c=this._curSeg,e*=this._length,n=this._li,e>this._l2&&n<h-1){for(l=h-1;n<l&&(this._l2=u[++n])<=e;);this._l1=u[n-1],this._li=n,this._curSeg=c=this._segments[n],this._s2=c[this._s1=this._si=0]}else if(e<this._l1&&n>0){for(;n>0&&(this._l1=u[--n])>=e;);0===n&&e<this._l1?this._l1=0:n++,this._l2=u[n],this._li=n,this._curSeg=c=this._segments[n],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(i=n,e-=this._l1,n=this._si,e>this._s2&&n<c.length-1){for(l=c.length-1;n<l&&(this._s2=c[++n])<=e;);this._s1=c[n-1],this._si=n}else if(e<this._s1&&n>0){for(;n>0&&(this._s1=c[--n])>=e;);0===n&&e<this._s1?this._s1=0:n++,this._s2=c[n],this._si=n}s=(n+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else i=e<0?0:e>=1?h-1:h*e>>0,s=(e-i*(1/h))*h;for(r=1-s,n=this._props.length;--n>-1;)o=this._props[n],a=this._beziers[o][i],A=(s*s*a.da+3*r*(s*a.ca+r*a.ba))*s+a.a,this._mod[o]&&(A=this._mod[o](A,f)),p[o]?f[o](A):f[o]=A;if(this._autoRotate){var m,y,g,_,v,x,b,w=this._autoRotate;for(n=w.length;--n>-1;)o=w[n][2],x=w[n][3]||0,b=!0===w[n][4]?1:t,a=this._beziers[w[n][0]],m=this._beziers[w[n][1]],a&&m&&(a=a[i],m=m[i],y=a.a+(a.b-a.a)*s,_=a.b+(a.c-a.b)*s,y+=(_-y)*s,_+=(a.c+(a.d-a.c)*s-_)*s,g=m.a+(m.b-m.a)*s,v=m.b+(m.c-m.b)*s,g+=(v-g)*s,v+=(m.c+(m.d-m.c)*s-v)*s,A=d?Math.atan2(v-g,_-y)*b+x:this._initialRotations[n],this._mod[o]&&(A=this._mod[o](A,f)),p[o]?f[o](A):f[o]=A)}}}),m=d.prototype;d.bezierThrough=c,d.cubicToQuadratic=A,d._autoCSS=!0,d.quadraticToCubic=function(t,e,i){return new s(t,(2*e+t)/3,(2*e+i)/3,i)},d._cssRegister=function(){var t=a.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,r=e._setPluginRatio,n=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,s,A){e instanceof Array&&(e={values:e}),A=new d;var l,u,c,h=e.values,p=h.length-1,f=[],m={};if(p<0)return s;for(l=0;l<=p;l++)c=i(t,h[l],a,s,A,p!==l),f[l]=c.end;for(u in e)m[u]=e[u];return m.values=f,s=new n(t,"bezier",0,0,c.pt,2),s.data=c,s.plugin=A,s.setRatio=r,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(l=!0===m.autoRotate?0:Number(m.autoRotate),m.autoRotate=null!=c.end.left?[["left","top","rotation",l,!1]]:null!=c.end.x&&[["x","y","rotation",l,!1]]),m.autoRotate&&(a._transform||a._enableTransforms(!1),c.autoRotate=a._target._gsTransform,c.proxy.rotation=c.autoRotate.rotation||0,a._overwriteProps.push("rotation")),A._onInitTween(c.proxy,m,a._tween),s}})}},m._mod=function(t){for(var e,i=this._overwriteProps,r=i.length;--r>-1;)(e=t[i[r]])&&"function"==typeof e&&(this._mod[i[r]]=e)},m._kill=function(t){var e,i,r=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=r.length;--i>-1;)r[i]===e&&r.splice(i,1);if(r=this._autoRotate)for(i=r.length;--i>-1;)t[r[i][2]]&&r.splice(i,1);return this._super._kill.call(this,t)}}(),i._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var r,n,o,a,s=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},A=i._gsDefine.globals,l={},u=s.prototype=new t("css");u.constructor=s,s.version="2.0.2",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,u="px",s.suffixMap={top:u,right:u,bottom:u,left:u,width:u,height:u,fontSize:u,padding:u,margin:u,perspective:u,lineHeight:""};var c,h,p,f,d,m,y,g,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,v=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,E=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,k=/^(rgb|hsl)/,C=/([A-Z])/g,P=/-([a-z])/gi,M=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,I=function(t,e){return e.toUpperCase()},z=/(?:Left|Right|Width)/i,B=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,L=/,(?=[^\)]*(?:\(|$))/gi,R=/[\s,\(]/i,O=Math.PI/180,F=180/Math.PI,U={},V={style:{}},N=i.document||{createElement:function(){return V}},j=function(t,e){return N.createElementNS?N.createElementNS(e||"http://www.w3.org/1999/xhtml",t):N.createElement(t)},q=j("div"),G=j("img"),Q=s._internals={_specialProps:l},H=(i.navigator||{}).userAgent||"",Z=function(){var t=H.indexOf("Android"),e=j("a");return p=-1!==H.indexOf("Safari")&&-1===H.indexOf("Chrome")&&(-1===t||parseFloat(H.substr(t+8,2))>3),d=p&&parseFloat(H.substr(H.indexOf("Version/")+8,2))<6,f=-1!==H.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(H)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(H))&&(m=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),X=function(t){return E.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(t){i.console&&console.log(t)},Y="",K="",J=function(t,e){e=e||q;var i,r,n=e.style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===n[i[r]+t];);return r>=0?(K=3===r?"ms":i[r],Y="-"+K.toLowerCase()+"-",K+t):null},$=("undefined"!=typeof window?window:N.defaultView||{getComputedStyle:function(){}}).getComputedStyle,tt=s.getStyle=function(t,e,i,r,n){var o;return Z||"opacity"!==e?(!r&&t.style[e]?o=t.style[e]:(i=i||$(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(C,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==n||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:n):X(t)},et=Q.convertToPixels=function(t,i,r,n,o){if("px"===n||!n&&"lineHeight"!==i)return r;if("auto"===n||!r)return 0;var a,A,l,u=z.test(i),c=t,h=q.style,p=r<0,f=1===r;if(p&&(r=-r),f&&(r*=100),"lineHeight"!==i||n)if("%"===n&&-1!==i.indexOf("border"))a=r/100*(u?t.clientWidth:t.clientHeight);else{if(h.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==n&&c.appendChild&&"v"!==n.charAt(0)&&"rem"!==n)h[u?"borderLeftWidth":"borderTopWidth"]=r+n;else{if(c=t.parentNode||N.body,-1!==tt(c,"display").indexOf("flex")&&(h.position="absolute"),A=c._gsCache,l=e.ticker.frame,A&&u&&A.time===l)return A.width*r/100;h[u?"width":"height"]=r+n}c.appendChild(q),a=parseFloat(q[u?"offsetWidth":"offsetHeight"]),c.removeChild(q),u&&"%"===n&&!1!==s.cacheWidths&&(A=c._gsCache=c._gsCache||{},A.time=l,A.width=a/r*100),0!==a||o||(a=et(t,i,r,n,!0))}else A=$(t).lineHeight,t.style.lineHeight=r,a=parseFloat($(t).lineHeight),t.style.lineHeight=A;return f&&(a/=100),p?-a:a},it=Q.calculateOffset=function(t,e,i){if("absolute"!==tt(t,"position",i))return 0;var r="left"===e?"Left":"Top",n=tt(t,"margin"+r,i);return t["offset"+r]-(et(t,e,parseFloat(n),n.replace(w,""))||0)},rt=function(t,e){var i,r,n,o={};if(e=e||$(t,null))if(i=e.length)for(;--i>-1;)n=e[i],-1!==n.indexOf("-transform")&&Mt!==n||(o[n.replace(P,I)]=e.getPropertyValue(n));else for(i in e)-1!==i.indexOf("Transform")&&Pt!==i||(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(P,I)]=e[i]);return Z||(o.opacity=X(t)),r=Gt(t,e,!1),o.rotation=r.rotation,o.skewX=r.skewX,o.scaleX=r.scaleX,o.scaleY=r.scaleY,o.x=r.x,o.y=r.y,zt&&(o.z=r.z,o.rotationX=r.rotationX,o.rotationY=r.rotationY,o.scaleZ=r.scaleZ),o.filters&&delete o.filters,o},nt=function(t,e,i,r,n){var o,a,s,A={},l=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=i[a])||n&&n[a])&&-1===a.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(A[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(b,"")?o:0:it(t,a),void 0!==l[a]&&(s=new _t(l,a,l[a],s))));if(r)for(a in r)"className"!==a&&(A[a]=r[a]);return{difs:A,firstMPT:s}},ot={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],st=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||$(t))[e]||0;if(t.getCTM&&Nt(t))return t.getBBox()[e]||0;var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=ot[e],o=n.length;for(i=i||$(t,null);--o>-1;)r-=parseFloat(tt(t,"padding"+n[o],i,!0))||0,r-=parseFloat(tt(t,"border"+n[o]+"Width",i,!0))||0;return r},At=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,r=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":r[0],o=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":r[1];if(r.length>3&&!e){for(r=t.split(", ").join(",").split(","),t=[],i=0;i<r.length;i++)t.push(At(r[i]));return t.join(",")}return null==o?o="center"===n?"50%":"0":"center"===o&&(o="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t=n+" "+o+(r.length>2?" "+r[2]:""),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==o.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(n.replace(b,"")),e.oy=parseFloat(o.replace(b,"")),e.v=t),e||t},lt=function(t,e){return"function"==typeof t&&(t=t(g,y)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ut=function(t,e){"function"==typeof t&&(t=t(g,y));var i="string"==typeof t&&"="===t.charAt(1);return"string"==typeof t&&"v"===t.charAt(t.length-2)&&(t=(i?t.substr(0,2):0)+window["inner"+("vh"===t.substr(-2)?"Height":"Width")]*(parseFloat(i?t.substr(2):t)/100)),null==t?e:i?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ct=function(t,e,i,r){var n,o,a,s,A;return"function"==typeof t&&(t=t(g,y)),null==t?s=e:"number"==typeof t?s=t:(n=360,o=t.split("_"),A="="===t.charAt(1),a=(A?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:F)-(A?0:e),o.length&&(r&&(r[i]=e+a),-1!==t.indexOf("short")&&(a%=n)!==a%(n/2)&&(a=a<0?a+n:a-n),-1!==t.indexOf("_cw")&&a<0?a=(a+9999999999*n)%n-(a/n|0)*n:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*n)%n-(a/n|0)*n)),s=e+a),s<1e-6&&s>-1e-6&&(s=0),s},ht={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pt=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},ft=s.parseColor=function(t,e){var i,r,n,o,a,s,A,l,u,c,h;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ht[t])i=ht[t];else if("#"===t.charAt(0))4===t.length&&(r=t.charAt(1),n=t.charAt(2),o=t.charAt(3),t="#"+r+r+n+n+o+o),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=h=t.match(_),e){if(-1!==t.indexOf("="))return t.match(v)}else a=Number(i[0])%360/360,s=Number(i[1])/100,A=Number(i[2])/100,n=A<=.5?A*(s+1):A+s-A*s,r=2*A-n,i.length>3&&(i[3]=Number(i[3])),i[0]=pt(a+1/3,r,n),i[1]=pt(a,r,n),i[2]=pt(a-1/3,r,n);else i=t.match(_)||ht.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ht.black;return e&&!h&&(r=i[0]/255,n=i[1]/255,o=i[2]/255,l=Math.max(r,n,o),u=Math.min(r,n,o),A=(l+u)/2,l===u?a=s=0:(c=l-u,s=A>.5?c/(2-l-u):c/(l+u),a=l===r?(n-o)/c+(n<o?6:0):l===n?(o-r)/c+2:(r-n)/c+4,a*=60),i[0]=a+.5|0,i[1]=100*s+.5|0,i[2]=100*A+.5|0),i},dt=function(t,e){var i,r,n,o=t.match(mt)||[],a=0,s="";if(!o.length)return t;for(i=0;i<o.length;i++)r=o[i],n=t.substr(a,t.indexOf(r,a)-a),a+=n.length+r.length,r=ft(r,e),3===r.length&&r.push(1),s+=n+(e?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return s+t.substr(a)},mt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(u in ht)mt+="|"+u+"\\b";mt=new RegExp(mt+")","gi"),s.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];mt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=dt(t[0],e),t[1]=dt(t[1],e)),mt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=s.colorStringFilter);var yt=function(t,e,i,r){if(null==t)return function(t){return t};var n,o=e?(t.match(mt)||[""])[0]:"",a=t.split(o).join("").match(x)||[],s=t.substr(0,t.indexOf(a[0])),A=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",u=a.length,c=u>0?a[0].replace(_,""):"";return u?n=e?function(t){var e,h,p,f;if("number"==typeof t)t+=c;else if(r&&L.test(t)){for(f=t.replace(L,"|").split("|"),p=0;p<f.length;p++)f[p]=n(f[p]);return f.join(",")}if(e=(t.match(mt)||[o])[0],h=t.split(e).join("").match(x)||[],p=h.length,u>p--)for(;++p<u;)h[p]=i?h[(p-1)/2|0]:a[p];return s+h.join(l)+l+e+A+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,h;if("number"==typeof t)t+=c;else if(r&&L.test(t)){for(o=t.replace(L,"|").split("|"),h=0;h<o.length;h++)o[h]=n(o[h]);return o.join(",")}if(e=t.match(x)||[],h=e.length,u>h--)for(;++h<u;)e[h]=i?e[(h-1)/2|0]:a[h];return s+e.join(l)+A}:function(t){return t}},gt=function(t){return t=t.split(","),function(e,i,r,n,o,a,s){var A,l=(i+"").split(" ");for(s={},A=0;A<4;A++)s[t[A]]=l[A]=l[A]||l[(A-1)/2>>0];return n.parse(e,s,o,a)}},_t=(Q._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,r,n,o,a=this.data,s=a.proxy,A=a.firstMPT;A;)e=s[A.v],A.r?e=A.r(e):e<1e-6&&e>-1e-6&&(e=0),A.t[A.p]=e,A=A._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===t||0===t)for(A=a.firstMPT,o=1===t?"e":"b";A;){if(i=A.t,i.type){if(1===i.type){for(n=i.xs0+i.s+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i[o]=n}}else i[o]=i.s+i.xs0;A=A._next}},function(t,e,i,r,n){this.t=t,this.p=e,this.v=i,this.r=n,r&&(r._prev=this,this._next=r)}),vt=(Q._parseToProxy=function(t,e,i,r,n,o){var a,s,A,l,u,c=r,h={},p={},f=i._transform,d=U;for(i._transform=null,U=e,r=u=i.parse(t,e,r,n),U=d,o&&(i._transform=f,c&&(c._prev=null,c._prev&&(c._prev._next=null)));r&&r!==c;){if(r.type<=1&&(s=r.p,p[s]=r.s+r.c,h[s]=r.s,o||(l=new _t(r,"s",s,l,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)A="xn"+a,s=r.p+"_"+A,p[s]=r.data[A],h[s]=r[A],o||(l=new _t(r,A,s,l,r.rxp[A]));r=r._next}return{proxy:h,end:p,firstMPT:l,pt:u}},Q.CSSPropTween=function(t,e,i,n,o,s,A,l,u,c,h){this.t=t,this.p=e,this.s=i,this.c=n,this.n=A||e,t instanceof vt||a.push(this.n),this.r=l?"function"==typeof l?l:Math.round:l,this.type=s||0,u&&(this.pr=u,r=!0),this.b=void 0===c?i:c,this.e=void 0===h?i+n:h,o&&(this._next=o,o._prev=this)}),xt=function(t,e,i,r,n,o){var a=new vt(t,e,i,r-i,n,-1,o);return a.b=i,a.e=a.xs0=r,a},bt=s.parseComplex=function(t,e,i,r,n,o,a,A,l,u){i=i||o||"","function"==typeof r&&(r=r(g,y)),a=new vt(t,e,0,0,a,u?2:1,null,!1,A,i,r),r+="",n&&mt.test(r+i)&&(r=[i,r],s.colorStringFilter(r),i=r[0],r=r[1]);var h,p,f,d,m,x,b,w,E,T,S,k,C,P=i.split(", ").join(",").split(" "),M=r.split(", ").join(",").split(" "),I=P.length,z=!1!==c;for(-1===r.indexOf(",")&&-1===i.indexOf(",")||(-1!==(r+i).indexOf("rgb")||-1!==(r+i).indexOf("hsl")?(P=P.join(" ").replace(L,", ").split(" "),M=M.join(" ").replace(L,", ").split(" ")):(P=P.join(" ").split(",").join(", ").split(" "),M=M.join(" ").split(",").join(", ").split(" ")),I=P.length),I!==M.length&&(P=(o||"").split(" "),I=P.length),a.plugin=l,a.setRatio=u,mt.lastIndex=0,h=0;h<I;h++)if(d=P[h],m=M[h]+"",(w=parseFloat(d))||0===w)a.appendXtra("",w,lt(m,w),m.replace(v,""),!(!z||-1===m.indexOf("px"))&&Math.round,!0);else if(n&&mt.test(d))k=m.indexOf(")")+1,k=")"+(k?m.substr(k):""),C=-1!==m.indexOf("hsl")&&Z,T=m,d=ft(d,C),m=ft(m,C),E=d.length+m.length>6,E&&!Z&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(M[h]).join("transparent")):(Z||(E=!1),C?a.appendXtra(T.substr(0,T.indexOf("hsl"))+(E?"hsla(":"hsl("),d[0],lt(m[0],d[0]),",",!1,!0).appendXtra("",d[1],lt(m[1],d[1]),"%,",!1).appendXtra("",d[2],lt(m[2],d[2]),E?"%,":"%"+k,!1):a.appendXtra(T.substr(0,T.indexOf("rgb"))+(E?"rgba(":"rgb("),d[0],m[0]-d[0],",",Math.round,!0).appendXtra("",d[1],m[1]-d[1],",",Math.round).appendXtra("",d[2],m[2]-d[2],E?",":k,Math.round),E&&(d=d.length<4?1:d[3],a.appendXtra("",d,(m.length<4?1:m[3])-d,k,!1))),mt.lastIndex=0;else if(x=d.match(_)){if(!(b=m.match(v))||b.length!==x.length)return a;for(f=0,p=0;p<x.length;p++)S=x[p],T=d.indexOf(S,f),a.appendXtra(d.substr(f,T-f),Number(S),lt(b[p],S),"",!(!z||"px"!==d.substr(T+S.length,2))&&Math.round,0===p),f=T+S.length;a["xs"+a.l]+=d.substr(f)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+m:m;if(-1!==r.indexOf("=")&&a.data){for(k=a.xs0+a.data.s,h=1;h<a.l;h++)k+=a["xs"+h]+a.data["xn"+h];a.e=k+a["xs"+h]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},wt=9;for(u=vt.prototype,u.l=u.pr=0;--wt>0;)u["xn"+wt]=0,u["xs"+wt]="";u.xs0="",u._next=u._prev=u.xfirst=u.data=u.plugin=u.setRatio=u.rxp=null,u.appendXtra=function(t,e,i,r,n,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+t:t||"",i||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",s>0?(a.data["xn"+s]=e+i,a.rxp["xn"+s]=n,a["xn"+s]=e,a.plugin||(a.xfirst=new vt(a,"xn"+s,e,i,a.xfirst||a,0,a.n,n,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=n,a)):(a["xs"+s]+=e+(r||""),a)};var Et=function(t,e){e=e||{},this.p=e.prefix?J(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||yt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Tt=Q._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var r,n=t.split(","),o=e.defaultValue;for(i=i||[o],r=0;r<n.length;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||o,new Et(n[r],e)},St=Q._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Tt(t,{parser:function(t,i,r,n,o,a,s){var u=A.com.greensock.plugins[e];return u?(u._cssRegister(),l[r].parse(t,i,r,n,o,a,s)):(W("Error: "+e+" js file not loaded."),o)}})}};u=Et.prototype,u.parseComplex=function(t,e,i,r,n,o){var a,s,A,l,u,c,h=this.keyword;if(this.multi&&(L.test(i)||L.test(e)?(s=e.replace(L,"|").split("|"),A=i.replace(L,"|").split("|")):h&&(s=[e],A=[i])),A){for(l=A.length>s.length?A.length:s.length,a=0;a<l;a++)e=s[a]=s[a]||this.dflt,i=A[a]=A[a]||this.dflt,h&&(u=e.indexOf(h),c=i.indexOf(h),u!==c&&(-1===c?s[a]=s[a].split(h).join(""):-1===u&&(s[a]+=" "+h)));e=s.join(", "),i=A.join(", ")}return bt(t,this.p,e,i,this.clrs,this.dflt,r,this.pr,n,o)},u.parse=function(t,e,i,r,n,a,s){return this.parseComplex(t.style,this.format(tt(t,this.p,o,!1,this.dflt)),this.format(e),n,a)},s.registerSpecialProp=function(t,e,i){Tt(t,{parser:function(t,r,n,o,a,s,A){var l=new vt(t,n,0,0,a,2,n,!1,i);return l.plugin=s,l.setRatio=e(t,r,o._tween,n),l},priority:i})},s.useSVGTransformAttr=!0;var kt,Ct="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Pt=J("transform"),Mt=Y+"transform",It=J("transformOrigin"),zt=null!==J("perspective"),Bt=Q.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(!1===s.defaultForce3D||!zt)&&(s.defaultForce3D||"auto")},Dt=i.SVGElement,Lt=function(t,e,i){var r,n=N.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(r in i)n.setAttributeNS(null,r.replace(o,"$1-$2").toLowerCase(),i[r]);return e.appendChild(n),n},Rt=N.documentElement||{},Ot=function(){var t,e,r,n=m||/Android/i.test(H)&&!i.chrome;return N.createElementNS&&!n&&(t=Lt("svg",Rt),e=Lt("rect",t,{width:100,height:50,x:100}),r=e.getBoundingClientRect().width,e.style[It]="50% 50%",e.style[Pt]="scaleX(0.5)",n=r===e.getBoundingClientRect().width&&!(f&&zt),Rt.removeChild(t)),n}(),Ft=function(t,e,i,r,n,o){var a,A,l,u,c,h,p,f,d,m,y,g,_,v,x=t._gsTransform,b=qt(t,!0);x&&(_=x.xOrigin,v=x.yOrigin),(!r||(a=r.split(" ")).length<2)&&(p=t.getBBox(),0===p.x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),e=At(e).split(" "),a=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),i.xOrigin=u=parseFloat(a[0]),i.yOrigin=c=parseFloat(a[1]),r&&b!==jt&&(h=b[0],p=b[1],f=b[2],d=b[3],m=b[4],y=b[5],(g=h*d-p*f)&&(A=u*(d/g)+c*(-f/g)+(f*y-d*m)/g,l=u*(-p/g)+c*(h/g)-(h*y-p*m)/g,u=i.xOrigin=a[0]=A,c=i.yOrigin=a[1]=l)),x&&(o&&(i.xOffset=x.xOffset,i.yOffset=x.yOffset,x=i),n||!1!==n&&!1!==s.defaultSmoothOrigin?(A=u-_,l=c-v,x.xOffset+=A*b[0]+l*b[2]-A,x.yOffset+=A*b[1]+l*b[3]-l):x.xOffset=x.yOffset=0),o||t.setAttribute("data-svg-origin",a.join(" "))},Ut=function(t){var e,i=j("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,n=this.nextSibling,o=this.style.cssText;if(Rt.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Ut}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return n?r.insertBefore(this,n):r.appendChild(this),Rt.removeChild(i),this.style.cssText=o,e},Vt=function(t){try{return t.getBBox()}catch(e){return Ut.call(t,!0)}},Nt=function(t){return!(!Dt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Vt(t))},jt=[1,0,0,1,0,0],qt=function(t,e){var i,r,n,o,a,s,A=t._gsTransform||new Bt,l=t.style;if(Pt?r=tt(t,Mt,null,!0):t.currentStyle&&(r=t.currentStyle.filter.match(B),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),A.x||0,A.y||0].join(","):""),i=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,!Pt||!(s=!$(t)||"none"===$(t).display)&&t.parentNode||(s&&(o=l.display,l.display="block"),t.parentNode||(a=1,Rt.appendChild(t)),r=tt(t,Mt,null,!0),i=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,o?l.display=o:s&&Xt(l,"display"),a&&Rt.removeChild(t)),(A.svg||t.getCTM&&Nt(t))&&(i&&-1!==(l[Pt]+"").indexOf("matrix")&&(r=l[Pt],i=0),n=t.getAttribute("transform"),i&&n&&(n=t.transform.baseVal.consolidate().matrix,r="matrix("+n.a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")",i=0)),i)return jt;for(n=(r||"").match(_)||[],wt=n.length;--wt>-1;)o=Number(n[wt]),n[wt]=(a=o-(o|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+o:o;return e&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n},Gt=Q.getTransform=function(t,i,r,n){if(t._gsTransform&&r&&!n)return t._gsTransform;var o,a,A,l,u,c,h=r?t._gsTransform||new Bt:new Bt,p=h.scaleX<0,f=zt?parseFloat(tt(t,It,i,!1,"0 0 0").split(" ")[2])||h.zOrigin||0:0,d=parseFloat(s.defaultTransformPerspective)||0;if(h.svg=!(!t.getCTM||!Nt(t)),h.svg&&(Ft(t,tt(t,It,i,!1,"50% 50%")+"",h,t.getAttribute("data-svg-origin")),kt=s.useSVGTransformAttr||Ot),(o=qt(t))!==jt){if(16===o.length){var m,y,g,_,v,x=o[0],b=o[1],w=o[2],E=o[3],T=o[4],S=o[5],k=o[6],C=o[7],P=o[8],M=o[9],I=o[10],z=o[12],B=o[13],D=o[14],L=o[11],R=Math.atan2(k,I);h.zOrigin&&(D=-h.zOrigin,z=P*D-o[12],B=M*D-o[13],D=I*D+h.zOrigin-o[14]),h.rotationX=R*F,R&&(_=Math.cos(-R),v=Math.sin(-R),m=T*_+P*v,y=S*_+M*v,g=k*_+I*v,P=T*-v+P*_,M=S*-v+M*_,I=k*-v+I*_,L=C*-v+L*_,T=m,S=y,k=g),R=Math.atan2(-w,I),h.rotationY=R*F,R&&(_=Math.cos(-R),v=Math.sin(-R),m=x*_-P*v,y=b*_-M*v,g=w*_-I*v,M=b*v+M*_,I=w*v+I*_,L=E*v+L*_,x=m,b=y,w=g),R=Math.atan2(b,x),h.rotation=R*F,R&&(_=Math.cos(R),v=Math.sin(R),m=x*_+b*v,y=T*_+S*v,g=P*_+M*v,b=b*_-x*v,S=S*_-T*v,M=M*_-P*v,x=m,T=y,P=g),h.rotationX&&Math.abs(h.rotationX)+Math.abs(h.rotation)>359.9&&(h.rotationX=h.rotation=0,h.rotationY=180-h.rotationY),R=Math.atan2(T,S),h.scaleX=(1e5*Math.sqrt(x*x+b*b+w*w)+.5|0)/1e5,h.scaleY=(1e5*Math.sqrt(S*S+k*k)+.5|0)/1e5,h.scaleZ=(1e5*Math.sqrt(P*P+M*M+I*I)+.5|0)/1e5,x/=h.scaleX,T/=h.scaleY,b/=h.scaleX,S/=h.scaleY,Math.abs(R)>2e-5?(h.skewX=R*F,T=0,"simple"!==h.skewType&&(h.scaleY*=1/Math.cos(R))):h.skewX=0,h.perspective=L?1/(L<0?-L:L):0,h.x=z,h.y=B,h.z=D,h.svg&&(h.x-=h.xOrigin-(h.xOrigin*x-h.yOrigin*T),h.y-=h.yOrigin-(h.yOrigin*b-h.xOrigin*S))}else if(!zt||n||!o.length||h.x!==o[4]||h.y!==o[5]||!h.rotationX&&!h.rotationY){var O=o.length>=6,U=O?o[0]:1,V=o[1]||0,N=o[2]||0,j=O?o[3]:1;h.x=o[4]||0,h.y=o[5]||0,A=Math.sqrt(U*U+V*V),l=Math.sqrt(j*j+N*N),u=U||V?Math.atan2(V,U)*F:h.rotation||0,c=N||j?Math.atan2(N,j)*F+u:h.skewX||0,h.scaleX=A,h.scaleY=l,h.rotation=u,h.skewX=c,zt&&(h.rotationX=h.rotationY=h.z=0,h.perspective=d,h.scaleZ=1),h.svg&&(h.x-=h.xOrigin-(h.xOrigin*U+h.yOrigin*N),h.y-=h.yOrigin-(h.xOrigin*V+h.yOrigin*j))}Math.abs(h.skewX)>90&&Math.abs(h.skewX)<270&&(p?(h.scaleX*=-1,h.skewX+=h.rotation<=0?180:-180,h.rotation+=h.rotation<=0?180:-180):(h.scaleY*=-1,h.skewX+=h.skewX<=0?180:-180)),h.zOrigin=f;for(a in h)h[a]<2e-5&&h[a]>-2e-5&&(h[a]=0)}return r&&(t._gsTransform=h,h.svg&&(kt&&t.style[Pt]?e.delayedCall(.001,function(){Xt(t.style,Pt)}):!kt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),h},Qt=function(t){var e,i,r=this.data,n=-r.rotation*O,o=n+r.skewX*O,a=(Math.cos(n)*r.scaleX*1e5|0)/1e5,s=(Math.sin(n)*r.scaleX*1e5|0)/1e5,A=(Math.sin(o)*-r.scaleY*1e5|0)/1e5,l=(Math.cos(o)*r.scaleY*1e5|0)/1e5,u=this.t.style,c=this.t.currentStyle;if(c){i=s,s=-A,A=-i,e=c.filter,u.filter="";var h,p,f=this.t.offsetWidth,d=this.t.offsetHeight,y="absolute"!==c.position,g="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+s+", M21="+A+", M22="+l,_=r.x+f*r.xPercent/100,v=r.y+d*r.yPercent/100;if(null!=r.ox&&(h=(r.oxp?f*r.ox*.01:r.ox)-f/2,p=(r.oyp?d*r.oy*.01:r.oy)-d/2,_+=h-(h*a+p*s),v+=p-(h*A+p*l)),y?(h=f/2,p=d/2,g+=", Dx="+(h-(h*a+p*s)+_)+", Dy="+(p-(h*A+p*l)+v)+")"):g+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=e.replace(D,g):u.filter=g+" "+e,0!==t&&1!==t||1===a&&0===s&&0===A&&1===l&&(y&&-1===g.indexOf("Dx=0, Dy=0")||E.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!y){var x,b,T,S=m<8?1:-1;for(h=r.ieOffsetX||0,p=r.ieOffsetY||0,r.ieOffsetX=Math.round((f-((a<0?-a:a)*f+(s<0?-s:s)*d))/2+_),r.ieOffsetY=Math.round((d-((l<0?-l:l)*d+(A<0?-A:A)*f))/2+v),wt=0;wt<4;wt++)b=at[wt],x=c[b],i=-1!==x.indexOf("px")?parseFloat(x):et(this.t,b,parseFloat(x),x.replace(w,""))||0,T=i!==r[b]?wt<2?-r.ieOffsetX:-r.ieOffsetY:wt<2?h-r.ieOffsetX:p-r.ieOffsetY,u[b]=(r[b]=Math.round(i-T*(0===wt||2===wt?1:S)))+"px"}}},Ht=Q.set3DTransformRatio=Q.setTransformRatio=function(t){var e,i,r,n,o,a,s,A,l,u,c,h,p,d,m,y,g,_,v,x,b,w,E,T=this.data,S=this.t.style,k=T.rotation,C=T.rotationX,P=T.rotationY,M=T.scaleX,I=T.scaleY,z=T.scaleZ,B=T.x,D=T.y,L=T.z,R=T.svg,F=T.perspective,U=T.force3D,V=T.skewY,N=T.skewX;if(V&&(N+=V,k+=V),((1===t||0===t)&&"auto"===U&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!U)&&!L&&!F&&!P&&!C&&1===z||kt&&R||!zt)return void(k||N||R?(k*=O,w=N*O,E=1e5,i=Math.cos(k)*M,o=Math.sin(k)*M,r=Math.sin(k-w)*-I,a=Math.cos(k-w)*I,w&&"simple"===T.skewType&&(e=Math.tan(w-V*O),e=Math.sqrt(1+e*e),r*=e,a*=e,V&&(e=Math.tan(V*O),e=Math.sqrt(1+e*e),i*=e,o*=e)),R&&(B+=T.xOrigin-(T.xOrigin*i+T.yOrigin*r)+T.xOffset,D+=T.yOrigin-(T.xOrigin*o+T.yOrigin*a)+T.yOffset,kt&&(T.xPercent||T.yPercent)&&(m=this.t.getBBox(),B+=.01*T.xPercent*m.width,D+=.01*T.yPercent*m.height),m=1e-6,B<m&&B>-m&&(B=0),D<m&&D>-m&&(D=0)),v=(i*E|0)/E+","+(o*E|0)/E+","+(r*E|0)/E+","+(a*E|0)/E+","+B+","+D+")",R&&kt?this.t.setAttribute("transform","matrix("+v):S[Pt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+v):S[Pt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+M+",0,0,"+I+","+B+","+D+")");if(f&&(m=1e-4,M<m&&M>-m&&(M=z=2e-5),I<m&&I>-m&&(I=z=2e-5),!F||T.z||T.rotationX||T.rotationY||(F=0)),k||N)k*=O,y=i=Math.cos(k),g=o=Math.sin(k),N&&(k-=N*O,y=Math.cos(k),g=Math.sin(k),"simple"===T.skewType&&(e=Math.tan((N-V)*O),e=Math.sqrt(1+e*e),y*=e,g*=e,T.skewY&&(e=Math.tan(V*O),e=Math.sqrt(1+e*e),i*=e,o*=e))),r=-g,a=y;else{if(!(P||C||1!==z||F||R))return void(S[Pt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) translate3d(":"translate3d(")+B+"px,"+D+"px,"+L+"px)"+(1!==M||1!==I?" scale("+M+","+I+")":""));i=a=1,r=o=0}u=1,n=s=A=l=c=h=0,p=F?-1/F:0,d=T.zOrigin,m=1e-6,x=",",b="0",k=P*O,k&&(y=Math.cos(k),g=Math.sin(k),A=-g,c=p*-g,n=i*g,s=o*g,u=y,p*=y,i*=y,o*=y),k=C*O,k&&(y=Math.cos(k),g=Math.sin(k),e=r*y+n*g,_=a*y+s*g,l=u*g,h=p*g,n=r*-g+n*y,s=a*-g+s*y,u*=y,p*=y,r=e,a=_),1!==z&&(n*=z,s*=z,u*=z,p*=z),1!==I&&(r*=I,a*=I,l*=I,h*=I),1!==M&&(i*=M,o*=M,A*=M,c*=M),(d||R)&&(d&&(B+=n*-d,D+=s*-d,L+=u*-d+d),R&&(B+=T.xOrigin-(T.xOrigin*i+T.yOrigin*r)+T.xOffset,D+=T.yOrigin-(T.xOrigin*o+T.yOrigin*a)+T.yOffset),B<m&&B>-m&&(B=b),D<m&&D>-m&&(D=b),L<m&&L>-m&&(L=0)),v=T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix3d(":"matrix3d(",v+=(i<m&&i>-m?b:i)+x+(o<m&&o>-m?b:o)+x+(A<m&&A>-m?b:A),v+=x+(c<m&&c>-m?b:c)+x+(r<m&&r>-m?b:r)+x+(a<m&&a>-m?b:a),C||P||1!==z?(v+=x+(l<m&&l>-m?b:l)+x+(h<m&&h>-m?b:h)+x+(n<m&&n>-m?b:n),v+=x+(s<m&&s>-m?b:s)+x+(u<m&&u>-m?b:u)+x+(p<m&&p>-m?b:p)+x):v+=",0,0,0,0,1,0,",v+=B+x+D+x+L+x+(F?1+-L/F:1)+")",S[Pt]=v};u=Bt.prototype,
u.x=u.y=u.z=u.skewX=u.skewY=u.rotation=u.rotationX=u.rotationY=u.zOrigin=u.xPercent=u.yPercent=u.xOffset=u.yOffset=0,u.scaleX=u.scaleY=u.scaleZ=1,Tt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,r,n,a,A){if(r._lastParsedTransform===A)return n;r._lastParsedTransform=A;var l,u=A.scale&&"function"==typeof A.scale?A.scale:0;"function"==typeof A[i]&&(l=A[i],A[i]=e),u&&(A.scale=u(g,t));var c,h,p,f,d,m,_,v,x,b=t._gsTransform,w=t.style,E=Ct.length,T=A,S={},k=Gt(t,o,!0,T.parseTransform),C=T.transform&&("function"==typeof T.transform?T.transform(g,y):T.transform);if(k.skewType=T.skewType||k.skewType||s.defaultSkewType,r._transform=k,"rotationZ"in T&&(T.rotation=T.rotationZ),C&&"string"==typeof C&&Pt)h=q.style,h[Pt]=C,h.display="block",h.position="absolute",-1!==C.indexOf("%")&&(h.width=tt(t,"width"),h.height=tt(t,"height")),N.body.appendChild(q),c=Gt(q,null,!1),"simple"===k.skewType&&(c.scaleY*=Math.cos(c.skewX*O)),k.svg&&(m=k.xOrigin,_=k.yOrigin,c.x-=k.xOffset,c.y-=k.yOffset,(T.transformOrigin||T.svgOrigin)&&(C={},Ft(t,At(T.transformOrigin),C,T.svgOrigin,T.smoothOrigin,!0),m=C.xOrigin,_=C.yOrigin,c.x-=C.xOffset-k.xOffset,c.y-=C.yOffset-k.yOffset),(m||_)&&(v=qt(q,!0),c.x-=m-(m*v[0]+_*v[2]),c.y-=_-(m*v[1]+_*v[3]))),N.body.removeChild(q),c.perspective||(c.perspective=k.perspective),null!=T.xPercent&&(c.xPercent=ut(T.xPercent,k.xPercent)),null!=T.yPercent&&(c.yPercent=ut(T.yPercent,k.yPercent));else if("object"==typeof T){if(c={scaleX:ut(null!=T.scaleX?T.scaleX:T.scale,k.scaleX),scaleY:ut(null!=T.scaleY?T.scaleY:T.scale,k.scaleY),scaleZ:ut(T.scaleZ,k.scaleZ),x:ut(T.x,k.x),y:ut(T.y,k.y),z:ut(T.z,k.z),xPercent:ut(T.xPercent,k.xPercent),yPercent:ut(T.yPercent,k.yPercent),perspective:ut(T.transformPerspective,k.perspective)},null!=(d=T.directionalRotation))if("object"==typeof d)for(h in d)T[h]=d[h];else T.rotation=d;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(c.x=0,c.xPercent=ut(T.x,k.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(c.y=0,c.yPercent=ut(T.y,k.yPercent)),c.rotation=ct("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":k.rotation,k.rotation,"rotation",S),zt&&(c.rotationX=ct("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":k.rotationX||0,k.rotationX,"rotationX",S),c.rotationY=ct("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":k.rotationY||0,k.rotationY,"rotationY",S)),c.skewX=ct(T.skewX,k.skewX),c.skewY=ct(T.skewY,k.skewY)}for(zt&&null!=T.force3D&&(k.force3D=T.force3D,f=!0),p=k.force3D||k.z||k.rotationX||k.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,p||null==T.scale||(c.scaleZ=1);--E>-1;)x=Ct[E],((C=c[x]-k[x])>1e-6||C<-1e-6||null!=T[x]||null!=U[x])&&(f=!0,n=new vt(k,x,k[x],C,n),x in S&&(n.e=S[x]),n.xs0=0,n.plugin=a,r._overwriteProps.push(n.n));return C=T.transformOrigin,k.svg&&(C||T.svgOrigin)&&(m=k.xOffset,_=k.yOffset,Ft(t,At(C),c,T.svgOrigin,T.smoothOrigin),n=xt(k,"xOrigin",(b?k:c).xOrigin,c.xOrigin,n,"transformOrigin"),n=xt(k,"yOrigin",(b?k:c).yOrigin,c.yOrigin,n,"transformOrigin"),m===k.xOffset&&_===k.yOffset||(n=xt(k,"xOffset",b?m:k.xOffset,k.xOffset,n,"transformOrigin"),n=xt(k,"yOffset",b?_:k.yOffset,k.yOffset,n,"transformOrigin")),C="0px 0px"),(C||zt&&p&&k.zOrigin)&&(Pt?(f=!0,x=It,C=(C||tt(t,x,o,!1,"50% 50%"))+"",n=new vt(w,x,0,0,n,-1,"transformOrigin"),n.b=w[x],n.plugin=a,zt?(h=k.zOrigin,C=C.split(" "),k.zOrigin=(C.length>2&&(0===h||"0px"!==C[2])?parseFloat(C[2]):h)||0,n.xs0=n.e=C[0]+" "+(C[1]||"50%")+" 0px",n=new vt(k,"zOrigin",0,0,n,-1,n.n),n.b=h,n.xs0=n.e=k.zOrigin):n.xs0=n.e=C):At(C+"",k)),f&&(r._transformType=k.svg&&kt||!p&&3!==this._transformType?2:3),l&&(A[i]=l),u&&(A.scale=u),n},prefix:!0}),Tt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Tt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,r,a,s){e=this.format(e);var A,l,u,c,h,p,f,d,m,y,g,_,v,x,b,w,E=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=t.style;for(m=parseFloat(t.offsetWidth),y=parseFloat(t.offsetHeight),A=e.split(" "),l=0;l<E.length;l++)this.p.indexOf("border")&&(E[l]=J(E[l])),h=c=tt(t,E[l],o,!1,"0px"),-1!==h.indexOf(" ")&&(c=h.split(" "),h=c[0],c=c[1]),p=u=A[l],f=parseFloat(h),_=h.substr((f+"").length),v="="===p.charAt(1),v?(d=parseInt(p.charAt(0)+"1",10),p=p.substr(2),d*=parseFloat(p),g=p.substr((d+"").length-(d<0?1:0))||""):(d=parseFloat(p),g=p.substr((d+"").length)),""===g&&(g=n[i]||_),g!==_&&(x=et(t,"borderLeft",f,_),b=et(t,"borderTop",f,_),"%"===g?(h=x/m*100+"%",c=b/y*100+"%"):"em"===g?(w=et(t,"borderLeft",1,"em"),h=x/w+"em",c=b/w+"em"):(h=x+"px",c=b+"px"),v&&(p=parseFloat(h)+d+g,u=parseFloat(c)+d+g)),a=bt(T,E[l],h+" "+c,p+" "+u,!1,"0px",a);return a},prefix:!0,formatter:yt("0px 0px 0px 0px",!1,!0)}),Tt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,r,n,a){return bt(t.style,i,this.format(tt(t,i,o,!1,"0px 0px")),this.format(e),!1,"0px",n)},prefix:!0,formatter:yt("0px 0px",!1,!0)}),Tt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,n,a){var s,A,l,u,c,h,p="background-position",f=o||$(t,null),d=this.format((f?m?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),y=this.format(e);if(-1!==d.indexOf("%")!=(-1!==y.indexOf("%"))&&y.split(",").length<2&&(h=tt(t,"backgroundImage").replace(M,""))&&"none"!==h){for(s=d.split(" "),A=y.split(" "),G.setAttribute("src",h),l=2;--l>-1;)d=s[l],(u=-1!==d.indexOf("%"))!==(-1!==A[l].indexOf("%"))&&(c=0===l?t.offsetWidth-G.width:t.offsetHeight-G.height,s[l]=u?parseFloat(d)/100*c+"px":parseFloat(d)/c*100+"%");d=s.join(" ")}return this.parseComplex(t.style,d,y,n,a)},formatter:At}),Tt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="","co"===t.substr(0,2)?t:At(-1===t.indexOf(" ")?t+" "+t:t)}}),Tt("perspective",{defaultValue:"0px",prefix:!0}),Tt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Tt("transformStyle",{prefix:!0}),Tt("backfaceVisibility",{prefix:!0}),Tt("userSelect",{prefix:!0}),Tt("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),Tt("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Tt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,n,a){var s,A,l;return m<9?(A=t.currentStyle,l=m<8?" ":",",s="rect("+A.clipTop+l+A.clipRight+l+A.clipBottom+l+A.clipLeft+")",e=this.format(e).split(",").join(l)):(s=this.format(tt(t,this.p,o,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,n,a)}}),Tt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Tt("autoRound,strictUnits",{parser:function(t,e,i,r,n){return n}}),Tt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,n,a){var s=tt(t,"borderTopWidth",o,!1,"0px"),A=this.format(e).split(" "),l=A[0].replace(w,"");return"px"!==l&&(s=parseFloat(s)/et(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(s+" "+tt(t,"borderTopStyle",o,!1,"solid")+" "+tt(t,"borderTopColor",o,!1,"#000")),A.join(" "),n,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(mt)||["#000"])[0]}}),Tt("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Tt("float,cssFloat,styleFloat",{parser:function(t,e,i,r,n,o){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new vt(a,s,0,0,n,-1,i,!1,0,a[s],e)}});var Zt=function(t){var e,i=this.t,r=i.filter||tt(this.data,"filter")||"",n=this.s+this.c*t|0;100===n&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),e=!tt(this.data,"filter")):(i.filter=r.replace(S,""),e=!0)),e||(this.xn1&&(i.filter=r=r||"alpha(opacity="+n+")"),-1===r.indexOf("pacity")?0===n&&this.xn1||(i.filter=r+" alpha(opacity="+n+")"):i.filter=r.replace(E,"opacity="+n))};Tt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,n,a){var s=parseFloat(tt(t,"opacity",o,!1,"1")),A=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),l&&1===s&&"hidden"===tt(t,"visibility",o)&&0!==e&&(s=0),Z?n=new vt(A,"opacity",s,e-s,n):(n=new vt(A,"opacity",100*s,100*(e-s),n),n.xn1=l?1:0,A.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=a,n.setRatio=Zt),l&&(n=new vt(A,"visibility",0,0,n,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit"),n.xs0="inherit",r._overwriteProps.push(n.n),r._overwriteProps.push(i)),n}});var Xt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(C,"-$1").toLowerCase())):t.removeAttribute(e))},Wt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Xt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Tt("className",{parser:function(t,e,i,n,a,s,A){var l,u,c,h,p,f=t.getAttribute("class")||"",d=t.style.cssText;if(a=n._classNamePT=new vt(t,i,0,0,a,2),a.setRatio=Wt,a.pr=-11,r=!0,a.b=f,u=rt(t,o),c=t._gsClassPT){for(h={},p=c.data;p;)h[p.p]=1,p=p._next;c.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:f.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=nt(t,u,rt(t),A,h),t.setAttribute("class",f),a.data=l.firstMPT,t.style.cssText=d,a=a.xfirst=n.parse(t,l.difs,a,s)}});var Yt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,r,n,o,a=this.t.style,s=l.transform.parse;if("all"===this.e)a.cssText="",n=!0;else for(e=this.e.split(" ").join("").split(","),r=e.length;--r>-1;)i=e[r],l[i]&&(l[i].parse===s?n=!0:i="transformOrigin"===i?It:l[i].p),Xt(a,i);n&&(Xt(a,Pt),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Tt("clearProps",{parser:function(t,e,i,n,o){return o=new vt(t,i,0,0,o,2),o.setRatio=Yt,o.e=e,o.pr=-10,o.data=n._tween,r=!0,o}}),u="bezier,throwProps,physicsProps,physics2D".split(","),wt=u.length;wt--;)St(u[wt]);u=s.prototype,u._firstPT=u._lastParsedTransform=u._transform=null,u._onInitTween=function(t,e,i,A){if(!t.nodeType)return!1;this._target=y=t,this._tween=i,this._vars=e,g=A,c=e.autoRound,r=!1,n=e.suffixMap||s.suffixMap,o=$(t,""),a=this._overwriteProps;var u,f,m,_,v,x,b,w,E,S=t.style;if(h&&""===S.zIndex&&("auto"!==(u=tt(t,"zIndex",o))&&""!==u||this._addLazySet(S,"zIndex",0)),"string"==typeof e&&(_=S.cssText,u=rt(t,o),S.cssText=_+";"+e,u=nt(t,u,rt(t)).difs,!Z&&T.test(e)&&(u.opacity=parseFloat(RegExp.$1)),e=u,S.cssText=_),e.className?this._firstPT=f=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=f=this.parse(t,e,null),this._transformType){for(E=3===this._transformType,Pt?p&&(h=!0,""===S.zIndex&&("auto"!==(b=tt(t,"zIndex",o))&&""!==b||this._addLazySet(S,"zIndex",0)),d&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(E?"visible":"hidden"))):S.zoom=1,m=f;m&&m._next;)m=m._next;w=new vt(t,"transform",0,0,null,2),this._linkCSSP(w,null,m),w.setRatio=Pt?Ht:Qt,w.data=this._transform||Gt(t,o,!0),w.tween=i,w.pr=-1,a.pop()}if(r){for(;f;){for(x=f._next,m=_;m&&m.pr>f.pr;)m=m._next;(f._prev=m?m._prev:v)?f._prev._next=f:_=f,(f._next=m)?m._prev=f:v=f,f=x}this._firstPT=_}return!0},u.parse=function(t,e,i,r){var a,s,A,u,h,p,f,d,m,_,v=t.style;for(a in e){if(p=e[a],"function"==typeof p&&(p=p(g,y)),s=l[a])i=s.parse(t,p,a,this,i,r,e);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,t.style,"setProperty",$(t).getPropertyValue(a)+"",p+"",a,!1,a);continue}h=tt(t,a,o)+"",m="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||m&&k.test(p)?(m||(p=ft(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),i=bt(v,a,h,p,!0,"transparent",i,0,r)):m&&R.test(p)?i=bt(v,a,h,p,!0,null,i,0,r):(A=parseFloat(h),f=A||0===A?h.substr((A+"").length):"",""!==h&&"auto"!==h||("width"===a||"height"===a?(A=st(t,a,o),f="px"):"left"===a||"top"===a?(A=it(t,a,o),f="px"):(A="opacity"!==a?0:1,f="")),_=m&&"="===p.charAt(1),_?(u=parseInt(p.charAt(0)+"1",10),p=p.substr(2),u*=parseFloat(p),d=p.replace(w,"")):(u=parseFloat(p),d=m?p.replace(w,""):""),""===d&&(d=a in n?n[a]:f),p=u||0===u?(_?u+A:u)+d:e[a],f!==d&&(""===d&&"lineHeight"!==a||(u||0===u)&&A&&(A=et(t,a,A,f),"%"===d?(A/=et(t,a,100,"%")/100,!0!==e.strictUnits&&(h=A+"%")):"em"===d||"rem"===d||"vw"===d||"vh"===d?A/=et(t,a,1,d):"px"!==d&&(u=et(t,a,u,d),d="px"),_&&(u||0===u)&&(p=u+A+d))),_&&(u+=A),!A&&0!==A||!u&&0!==u?void 0!==v[a]&&(p||p+""!="NaN"&&null!=p)?(i=new vt(v,a,u||A||0,0,i,-1,a,!1,0,h,p),i.xs0="none"!==p||"display"!==a&&-1===a.indexOf("Style")?p:h):W("invalid "+a+" tween value: "+e[a]):(i=new vt(v,a,A,u-A,i,0,a,!1!==c&&("px"===d||"zIndex"===a),0,h,p),i.xs0=d))}r&&i&&!i.plugin&&(i.plugin=r)}return i},u.setRatio=function(t){var e,i,r,n=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(e=n.c*t+n.s,n.r?e=n.r(e):e<1e-6&&e>-1e-6&&(e=0),n.type)if(1===n.type)if(2===(r=n.l))n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(i=n.xs0+e+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;){if(2!==n.type)if(n.r&&-1!==n.type)if(e=n.r(n.s+n.c),n.type){if(1===n.type){for(r=n.l,i=n.xs0+e+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}}else n.t[n.p]=e+n.xs0;else n.t[n.p]=n.e;else n.setRatio(t);n=n._next}},u._enableTransforms=function(t){this._transform=this._transform||Gt(this._target,o,!0),this._transformType=this._transform.svg&&kt||!t&&3!==this._transformType?2:3};var Kt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};u._addLazySet=function(t,e,i){var r=this._firstPT=new vt(t,e,0,0,this._firstPT,2);r.e=i,r.setRatio=Kt,r.data=this},u._linkCSSP=function(t,e,i,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),i?i._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},u._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&(e.r=t[e.p]),e=e._next},u._kill=function(e){var i,r,n,o=e;if(e.autoAlpha||e.alpha){o={};for(r in e)o[r]=e[r];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(i=this._classNamePT)&&(n=i.xfirst,n&&n._prev?this._linkCSSP(n._prev,i._next,n._prev._prev):n===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,n._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==r&&i.plugin._kill&&(i.plugin._kill(e),r=i.plugin),i=i._next;return t.prototype._kill.call(this,o)};var Jt=function(t,e,i){var r,n,o,a;if(t.slice)for(n=t.length;--n>-1;)Jt(t[n],e,i);else for(r=t.childNodes,n=r.length;--n>-1;)o=r[n],a=o.type,o.style&&(e.push(rt(o)),i&&i.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Jt(o,e,i)};return s.cascadeTo=function(t,i,r){var n,o,a,s,A=e.to(t,i,r),l=[A],u=[],c=[],h=[],p=e._internals.reservedProps;for(t=A._targets||A.target,Jt(t,u,h),A.render(i,!0,!0),Jt(t,c),A.render(0,!0,!0),A._enabled(!0),n=h.length;--n>-1;)if(o=nt(h[n],u[n],c[n]),o.firstMPT){o=o.difs;for(a in r)p[a]&&(o[a]=r[a]);s={};for(a in o)s[a]=u[n][a];l.push(e.fromTo(h[n],i,s,o))}return l},t.activate([s]),s},!0),function(){var t=i._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(i){return(Math.round(i/t)*t*e|0)/e}},r=function(t,e){for(;t;)t.f||t.blob||(t.m=e||Math.round),t=t._next},n=t.prototype;n._onInitAllProps=function(){var t,i,n,o,a=this._tween,s=a.vars.roundProps,A={},l=a._propLookup.roundProps;if("object"!=typeof s||s.push)for("string"==typeof s&&(s=s.split(",")),n=s.length;--n>-1;)A[s[n]]=Math.round;else for(o in s)A[o]=e(s[o]);for(o in A)for(t=a._firstPT;t;)i=t._next,t.pg?t.t._mod(A):t.n===o&&(2===t.f&&t.t?r(t.t._firstPT,A[o]):(this._add(t.t,o,t.s,t.c,A[o]),i&&(i._prev=t._prev),t._prev?t._prev._next=i:a._firstPT===t&&(a._firstPT=i),t._next=t._prev=null,a._propLookup[o]=l)),t=i;return!1},n._add=function(t,e,i,r,n){this._addTween(t,e,i,i+r,e,n||Math.round),this._overwriteProps.push(e)}}(),function(){i._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,r){var n,o;if("function"!=typeof t.setAttribute)return!1;for(n in e)o=e[n],"function"==typeof o&&(o=o(r,t)),this._addTween(t,"setAttribute",t.getAttribute(n)+"",o+"",n,!1,n),this._overwriteProps.push(n);return!0}})}(),i._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,r){"object"!=typeof e&&(e={rotation:e}),this.finals={};var n,o,a,s,A,l,u=!0===e.useRadians?2*Math.PI:360;for(n in e)"useRadians"!==n&&(s=e[n],"function"==typeof s&&(s=s(r,t)),l=(s+"").split("_"),o=l[0],a=parseFloat("function"!=typeof t[n]?t[n]:t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]()),s=this.finals[n]="string"==typeof o&&"="===o.charAt(1)?a+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,A=s-a,l.length&&(o=l.join("_"),-1!==o.indexOf("short")&&(A%=u)!==A%(u/2)&&(A=A<0?A+u:A-u),-1!==o.indexOf("_cw")&&A<0?A=(A+9999999999*u)%u-(A/u|0)*u:-1!==o.indexOf("ccw")&&A>0&&(A=(A-9999999999*u)%u-(A/u|0)*u)),(A>1e-6||A<-1e-6)&&(this._addTween(t,n,a,a+A,n),this._overwriteProps.push(n)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,i._gsDefine("easing.Back",["easing.Ease"],function(t){var e,r,n,o,a=i.GreenSockGlobals||i,s=a.com.greensock,A=2*Math.PI,l=Math.PI/2,u=s._class,c=function(e,i){var r=u("easing."+e,function(){},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,r},h=t.register||function(){},p=function(t,e,i,r,n){var o=u("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new r},!0);return h(o,t),o},f=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},d=function(e,i){var r=u("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,n.config=function(t){return new r(t)},r},m=p("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),y=u("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),g=y.prototype=new t;return g.constructor=y,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},y.ease=new y(.7,.7),g.config=y.config=function(t,e,i){return new y(t,e,i)},e=u("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0),g=e.prototype=new t,g.constructor=e,g.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},g.config=e.config=function(t,i){return new e(t,i)},r=u("easing.ExpoScaleEase",function(t,e,i){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=i},!0),g=r.prototype=new t,g.constructor=r,g.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},g.config=r.config=function(t,e,i){return new r(t,e,i)},n=u("easing.RoughEase",function(e){e=e||{};for(var i,r,n,o,a,s,A=e.taper||"none",l=[],u=0,c=0|(e.points||20),h=c,p=!1!==e.randomize,d=!0===e.clamp,m=e.template instanceof t?e.template:null,y="number"==typeof e.strength?.4*e.strength:.4;--h>-1;)i=p?Math.random():1/c*h,r=m?m.getRatio(i):i,"none"===A?n=y:"out"===A?(o=1-i,n=o*o*y):"in"===A?n=i*i*y:i<.5?(o=2*i,n=o*o*.5*y):(o=2*(1-i),n=o*o*.5*y),p?r+=Math.random()*n-.5*n:h%2?r+=.5*n:r-=.5*n,d&&(r>1?r=1:r<0&&(r=0)),l[u++]={x:i,y:r};for(l.sort(function(t,e){return t.x-e.x}),s=new f(1,1,null),h=c;--h>-1;)a=l[h],s=new f(a.x,a.y,s);this._prev=new f(0,0,0!==s.t?s:s.next)},!0),g=n.prototype=new t,g.constructor=n,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new n(t)},n.ease=new n,p("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),p("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),o=function(e,i,r){var n=u("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||r)/(t<1?t:1),this._p3=this._p2/A*(Math.asin(1/this._p1)||0),this._p2=A/this._p2},!0),o=n.prototype=new t;return o.constructor=n,o.getRatio=i,o.config=function(t,e){return new n(t,e)},n},p("Elastic",o("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),o("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),o("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),p("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),p("Sine",c("SineOut",function(t){return Math.sin(t*l)}),c("SineIn",function(t){return 1-Math.cos(t*l)}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),u("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(a.SlowMo,"SlowMo","ease,"),h(n,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),m},!0)}),i._gsDefine&&i._gsQueue.pop()(),function(t,i){"use strict";var r={},n=t.document,o=t.GreenSockGlobals=t.GreenSockGlobals||t,a=o.TweenMax;if(a)return void 0!==e&&e.exports&&(e.exports=a),a;var s,A,l,u,c,h=function(t){var e,i=t.split("."),r=o;for(e=0;e<i.length;e++)r[i[e]]=r=r[i[e]]||{};return r},p=h("com.greensock"),f=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i},d=function(){},m=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),y={},g=function(i,n,a,s){this.sc=y[i]?y[i].sc:[],y[i]=this,this.gsClass=null,this.func=a;var A=[];this.check=function(l){for(var u,c,p,f,d=n.length,m=d;--d>-1;)(u=y[n[d]]||new g(n[d],[])).gsClass?(A[d]=u.gsClass,m--):l&&u.sc.push(this);if(0===m&&a){if(c=("com.greensock."+i).split("."),p=c.pop(),f=h(c.join("."))[p]=this.gsClass=a.apply(a,A),s)if(o[p]=r[p]=f,void 0!==e&&e.exports)if("TweenMax"===i){e.exports=r.TweenMax=f;for(d in r)f[d]=r[d]}else r.TweenMax&&(r.TweenMax[p]=f);else"function"==typeof define&&define.amd&&define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+i.split(".").pop(),[],function(){return f});for(d=0;d<this.sc.length;d++)this.sc[d].check()}},this.check(!0)},_=t._gsDefine=function(t,e,i,r){return new g(t,e,i,r)},v=p._class=function(t,e,i){return e=e||function(){},_(t,[],function(){return e},i),e};_.globals=o;var x=[0,0,1,1],b=v("easing.Ease",function(t,e,i,r){this._func=t,this._type=i||0,this._power=r||0,this._params=e?x.concat(e):x},!0),w=b.map={},E=b.register=function(t,e,i,r){for(var n,o,a,s,A=e.split(","),l=A.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(o=A[l],n=r?v("easing."+o,null,!0):p.easing[o]||{},a=u.length;--a>-1;)s=u[a],w[o+"."+s]=w[s+o]=n[s]=t.getRatio?t:t[s]||new t};for(l=b.prototype,l._calcEnd=!1,l.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,r=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?r*=r:2===i?r*=r*r:3===i?r*=r*r*r:4===i&&(r*=r*r*r*r),1===e?1-r:2===e?r:t<.5?r/2:1-r/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],A=s.length;--A>-1;)l=s[A]+",Power"+A,E(new b(null,null,1,A),l,"easeOut",!0),E(new b(null,null,2,A),l,"easeIn"+(0===A?",easeNone":"")),E(new b(null,null,3,A),l,"easeInOut");w.linear=p.easing.Linear.easeIn,w.swing=p.easing.Quad.easeInOut;var T=v("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});l=T.prototype,l.addEventListener=function(t,e,i,r,n){n=n||0;var o,a,s=this._listeners[t],A=0;for(this!==u||c||u.wake(),null==s&&(this._listeners[t]=s=[]),a=s.length;--a>-1;)o=s[a],o.c===e&&o.s===i?s.splice(a,1):0===A&&o.pr<n&&(A=a+1);s.splice(A,0,{c:e,s:i,up:r,pr:n})},l.removeEventListener=function(t,e){var i,r=this._listeners[t];if(r)for(i=r.length;--i>-1;)if(r[i].c===e)return void r.splice(i,1)},l.dispatchEvent=function(t){var e,i,r,n=this._listeners[t];if(n)for(e=n.length,e>1&&(n=n.slice(0)),i=this._eventTarget;--e>-1;)(r=n[e])&&(r.up?r.c.call(r.s||i,{type:t,target:i}):r.c.call(r.s||i))};var S=t.requestAnimationFrame,k=t.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},P=C();for(s=["ms","moz","webkit","o"],A=s.length;--A>-1&&!S;)S=t[s[A]+"RequestAnimationFrame"],k=t[s[A]+"CancelAnimationFrame"]||t[s[A]+"CancelRequestAnimationFrame"];v("Ticker",function(t,e){var i,r,o,a,s,A=this,l=C(),h=!(!1===e||!S)&&"auto",p=500,f=33,m=function(t){var e,n,u=C()-P;u>p&&(l+=u-f),P+=u,A.time=(P-l)/1e3,e=A.time-s,(!i||e>0||!0===t)&&(A.frame++,s+=e+(e>=a?.004:a-e),n=!0),!0!==t&&(o=r(m)),n&&A.dispatchEvent("tick")};T.call(A),A.time=A.frame=0,A.tick=function(){m(!0)},A.lagSmoothing=function(t,e){if(!arguments.length)return p<1e10;p=t||1e10,f=Math.min(e,p,0)},A.sleep=function(){null!=o&&(h&&k?k(o):clearTimeout(o),r=d,o=null,A===u&&(c=!1))},A.wake=function(t){null!==o?A.sleep():t?l+=-P+(P=C()):A.frame>10&&(P=C()-p+5),r=0===i?d:h&&S?S:function(t){return setTimeout(t,1e3*(s-A.time)+1|0)},A===u&&(c=!0),m(2)},A.fps=function(t){if(!arguments.length)return i;i=t,a=1/(i||60),s=this.time+a,A.wake()},A.useRAF=function(t){if(!arguments.length)return h;A.sleep(),h=t,A.fps(i)},A.fps(t),setTimeout(function(){"auto"===h&&A.frame<5&&"hidden"!==(n||{}).visibilityState&&A.useRAF(!1)},1500)}),l=p.Ticker.prototype=new p.events.EventDispatcher,l.constructor=p.Ticker;var M=v("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Y){c||u.wake();var i=this.vars.useFrames?W:Y;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});u=M.ticker=new p.Ticker,l=M.prototype,l._dirty=l._gc=l._initted=l._paused=!1,l._totalTime=l._time=0,l._rawPrevTime=-1,l._next=l._last=l._onUpdate=l._timeline=l.timeline=null,l._paused=!1;var I=function(){c&&C()-P>2e3&&("hidden"!==(n||{}).visibilityState||!u.lagSmoothing())&&u.wake();var t=setTimeout(I,2e3);t.unref&&t.unref()};I(),l.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},l.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},l.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},l.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},l.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},l.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},l.render=function(t,e,i){},l.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},l.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},l._enabled=function(t,e){return c||u.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},l._kill=function(t,e){return this._enabled(!1,!1)},l.kill=function(t,e){return this._kill(t,e),this},l._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},l._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},l._callback=function(t){var e=this.vars,i=e[t],r=e[t+"Params"],n=e[t+"Scope"]||e.callbackScope||this;switch(r?r.length:0){case 0:i.call(n);break;case 1:i.call(n,r[0]);break;case 2:i.call(n,r[0],r[1]);break;default:i.apply(n,r)}},l.eventCallback=function(t,e,i,r){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=m(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},l.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},l.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},l.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},l.totalTime=function(t,e,i){if(c||u.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,n=this._timeline;if(t>r&&!i&&(t=r),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?r-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(R.length&&J(),this.render(t,e,!1),R.length&&J())}return this},l.progress=l.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},l.startTime=function(t){
return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},l.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},l.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},l.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},l.paused=function(t){if(!arguments.length)return this._paused;var e,i,r=this._timeline;return t!=this._paused&&r&&(c||t||u.wake(),e=r.rawTime(),i=e-this._pauseTime,!t&&r.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=r.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var z=v("core.SimpleTimeline",function(t){M.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});l=z.prototype=new M,l.constructor=z,l.kill()._gc=!1,l._first=l._last=l._recent=null,l._sortChildren=!1,l.add=l.insert=function(t,e,i,r){var n,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=this.rawTime()-(t._timeline.rawTime()-t._pauseTime)),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),n=this._last,this._sortChildren)for(o=t._startTime;n&&n._startTime>o;)n=n._prev;return n?(t._next=n._next,n._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=n,this._recent=t,this._timeline&&this._uncache(!0),this},l._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},l.render=function(t,e,i){var r,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)r=n._next,(n._active||t>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r},l.rawTime=function(){return c||u.wake(),this._totalTime};var B=v("TweenLite",function(e,i,r){if(M.call(this,i,r),this.render=B.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:B.selector(e)||e;var n,o,a,s=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),A=this.vars.overwrite;if(this._overwrite=A=null==A?X[B.defaultOverwrite]:"number"==typeof A?A>>0:X[A],(s||e instanceof Array||e.push&&m(e))&&"number"!=typeof e[0])for(this._targets=a=f(e),this._propLookup=[],this._siblings=[],n=0;n<a.length;n++)o=a[n],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(n--,1),this._targets=a=a.concat(f(o))):(this._siblings[n]=$(o,this,!1),1===A&&this._siblings[n].length>1&&et(o,this,null,1,this._siblings[n])):"string"==typeof(o=a[n--]=B.selector(o))&&a.splice(n+1,1):a.splice(n--,1);else this._propLookup={},this._siblings=$(e,this,!1),1===A&&this._siblings.length>1&&et(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),D=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},L=function(t,e){var i,r={};for(i in t)Z[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!G[i]||G[i]&&G[i]._autoCSS)||(r[i]=t[i],delete t[i]);t.css=r};l=B.prototype=new M,l.constructor=B,l.kill()._gc=!1,l.ratio=0,l._firstPT=l._targets=l._overwrittenProps=l._startAt=null,l._notifyPluginsOfEnabled=l._lazy=!1,B.version="2.0.2",B.defaultEase=l._ease=new b(null,null,1,1),B.defaultOverwrite="auto",B.ticker=u,B.autoSleep=120,B.lagSmoothing=function(t,e){u.lagSmoothing(t,e)},B.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(B.selector=i,i(e)):(n||(n=t.document),n?n.querySelectorAll?n.querySelectorAll(e):n.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var R=[],O={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,U=/[\+-]=-?[\.\d]/,V=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m.call(this._tween,e,this._target||i.t,this._tween):e<1e-6&&e>-1e-6&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},N=function(t,e,i,r){var n,o,a,s,A,l,u,c=[],h=0,p="",f=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",i&&(i(c),t=c[0],e=c[1]),c.length=0,n=t.match(F)||[],o=e.match(F)||[],r&&(r._next=null,r.blob=1,c._firstPT=c._applyPT=r),A=o.length,s=0;s<A;s++)u=o[s],l=e.substr(h,e.indexOf(u,h)-h),p+=l||!s?l:",",h+=l.length,f?f=(f+1)%5:"rgba("===l.substr(-5)&&(f=1),u===n[s]||n.length<=s?p+=u:(p&&(c.push(p),p=""),a=parseFloat(n[s]),c.push(a),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:a,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-a)||0,f:0,m:f&&f<4?Math.round:0}),h+=u.length;return p+=e.substr(h),p&&c.push(p),c.setRatio=V,U.test(e)&&(c.end=null),c},j=function(t,e,i,r,n,o,a,s,A){"function"==typeof r&&(r=r(A||0,t));var l,u=typeof t[e],c="function"!==u?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),h="get"!==i?i:c?a?t[c](a):t[c]():t[e],p="string"==typeof r&&"="===r.charAt(1),f={t:t,p:e,s:h,f:"function"===u,pg:0,n:n||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:p?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-h||0};if(("number"!=typeof h||"number"!=typeof r&&!p)&&(a||isNaN(h)||!p&&isNaN(r)||"boolean"==typeof h||"boolean"==typeof r?(f.fp=a,l=N(h,p?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):r,s||B.defaultStringFilter,f),f={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:n||e,pr:0,m:0}):(f.s=parseFloat(h),p||(f.c=parseFloat(r)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},q=B._internals={isArray:m,isSelector:D,lazyTweens:R,blobDif:N},G=B._plugins={},Q=q.tweenLookup={},H=0,Z=q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},W=M._rootFramesTimeline=new z,Y=M._rootTimeline=new z,K=30,J=q.lazyRender=function(){var t,e=R.length;for(O={};--e>-1;)(t=R[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);R.length=0};Y._startTime=u.time,W._startTime=u.frame,Y._active=W._active=!0,setTimeout(J,1),M._updateRoot=B.render=function(){var t,e,i;if(R.length&&J(),Y.render((u.time-Y._startTime)*Y._timeScale,!1,!1),W.render((u.frame-W._startTime)*W._timeScale,!1,!1),R.length&&J(),u.frame>=K){K=u.frame+(parseInt(B.autoSleep,10)||120);for(i in Q){for(e=Q[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete Q[i]}if((!(i=Y._first)||i._paused)&&B.autoSleep&&!W._first&&1===u._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||u.sleep()}}},u.addEventListener("tick",M._updateRoot);var $=function(t,e,i){var r,n,o=t._gsTweenID;if(Q[o||(t._gsTweenID=o="t"+H++)]||(Q[o]={target:t,tweens:[]}),e&&(r=Q[o].tweens,r[n=r.length]=e,i))for(;--n>-1;)r[n]===e&&r.splice(n,1);return Q[o].tweens},tt=function(t,e,i,r){var n,o,a=t.vars.onOverwrite;return a&&(n=a(t,e,i,r)),a=B.onOverwrite,a&&(o=a(t,e,i,r)),!1!==n&&!1!==o},et=function(t,e,i,r,n){var o,a,s,A;if(1===r||r>=4){for(A=n.length,o=0;o<A;o++)if((s=n[o])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===r)break;return a}var l,u=e._startTime+1e-10,c=[],h=0,p=0===e._duration;for(o=n.length;--o>-1;)(s=n[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(l=l||it(e,0,p),0===it(s,l,p)&&(c[h++]=s)):s._startTime<=u&&s._startTime+s.totalDuration()/s._timeScale>u&&((p||!s._initted)&&u-s._startTime<=2e-10||(c[h++]=s)));for(o=h;--o>-1;)if(s=c[o],A=s._firstPT,2===r&&s._kill(i,t,e)&&(a=!0),2!==r||!s._firstPT&&s._initted&&A){if(2!==r&&!tt(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},it=function(t,e,i){for(var r=t._timeline,n=r._timeScale,o=t._startTime;r._timeline;){if(o+=r._startTime,n*=r._timeScale,r._paused)return-100;r=r._timeline}return o/=n,o>e?o-e:i&&o===e||!t._initted&&o-e<2e-10?1e-10:(o+=t.totalDuration()/t._timeScale/n)>e+1e-10?0:o-e-1e-10};l._init=function(){var t,e,i,r,n,o,a=this.vars,s=this._overwrittenProps,A=this._duration,l=!!a.immediateRender,u=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={};for(r in a.startAt)n[r]=a.startAt[r];if(n.data="isStart",n.overwrite=!1,n.immediateRender=!0,n.lazy=l&&!1!==a.lazy,n.startAt=n.delay=null,n.onUpdate=a.onUpdate,n.onUpdateParams=a.onUpdateParams,n.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=B.to(this.target||{},0,n),l)if(this._time>0)this._startAt=null;else if(0!==A)return}else if(a.runBackwards&&0!==A)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(r in a)Z[r]&&"autoCSS"!==r||(i[r]=a[r]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&!1!==a.lazy,i.immediateRender=l,this._startAt=B.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof b?u:"function"==typeof u?new b(u,a.easeParams):w[u]||B.defaultEase:B.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&B._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},l._initProps=function(e,i,r,n,o){var a,s,A,l,u,c;if(null==e)return!1;O[e._gsTweenID]&&J(),this.vars.css||e.style&&e!==t&&e.nodeType&&G.css&&!1!==this.vars.autoCSS&&L(this.vars,e);for(a in this.vars)if(c=this.vars[a],Z[a])c&&(c instanceof Array||c.push&&m(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[a]=c=this._swapSelfInParams(c,this));else if(G[a]&&(l=new G[a])._onInitTween(e,this.vars[a],this,o)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)i[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(A=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else i[a]=j.call(this,e,a,"get",c,a,0,null,this.vars.stringFilter,o);return n&&this._kill(n,e)?this._initProps(e,i,r,n,o):this._overwrite>1&&this._firstPT&&r.length>1&&et(e,this,i,this._overwrite,r)?(this._kill(i,e),this._initProps(e,i,r,n,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(O[e._gsTweenID]=!0),A)},l.render=function(t,e,i){var r,n,o,a,s=this._time,A=this._duration,l=this._rawPrevTime;if(t>=A-1e-7&&t>=0)this._totalTime=this._time=A,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0===A&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&t>=-1e-7||1e-10===l&&"isPause"!==this.data)&&l!==t&&(i=!0,l>1e-10&&(n="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===A&&l>0)&&(n="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===A&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(1e-10!==l||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||l===t?t:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/A,c=this._easeType,h=this._easePower;(1===c||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===h?u*=u:2===h?u*=u*u:3===h?u*=u*u*u:4===h&&(u*=u*u*u*u),this.ratio=1===c?1-u:2===c?u:t/A<.5?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/A);if(this._time!==s||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,R.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/A):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,!0,i):n||(n="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==A||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==s||r||i)&&this._callback("onUpdate")),n&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===A&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},l._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:B.selector(e)||e;var r,n,o,a,s,A,l,u,c,h=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline,p=this._firstPT;if((m(e)||D(e))&&"number"!=typeof e[0])for(r=e.length;--r>-1;)this._kill(t,e[r],i)&&(A=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(e===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(l=t||s,u=t!==n&&"all"!==n&&t!==s&&("object"!=typeof t||!t._tempKill),i&&(B.onOverwrite||this.vars.onOverwrite)){for(o in l)s[o]&&(c||(c=[]),c.push(o));if((c||!t)&&!tt(this,i,e,c))return!1}for(o in l)(a=s[o])&&(h&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,A=!0),a.pg&&a.t._kill(l)&&(A=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),u&&(n[o]=1);!this._firstPT&&this._initted&&p&&this._enabled(!1,!1)}}return A},l.invalidate=function(){return this._notifyPluginsOfEnabled&&B._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],M.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},l._enabled=function(t,e){if(c||u.wake(),t&&this._gc){var i,r=this._targets;if(r)for(i=r.length;--i>-1;)this._siblings[i]=$(r[i],this,!0);else this._siblings=$(this.target,this,!0)}return M.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&B._onPluginEvent(t?"_onEnable":"_onDisable",this)},B.to=function(t,e,i){return new B(t,e,i)},B.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new B(t,e,i)},B.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new B(t,e,r)},B.delayedCall=function(t,e,i,r,n){return new B(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},B.set=function(t,e){return new B(t,0,e)},B.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:B.selector(t)||t;var i,r,n,o;if((m(t)||D(t))&&"number"!=typeof t[0]){for(i=t.length,r=[];--i>-1;)r=r.concat(B.getTweensOf(t[i],e));for(i=r.length;--i>-1;)for(o=r[i],n=i;--n>-1;)o===r[n]&&r.splice(i,1)}else if(t._gsTweenID)for(r=$(t).concat(),i=r.length;--i>-1;)(r[i]._gc||e&&!r[i].isActive())&&r.splice(i,1);return r||[]},B.killTweensOf=B.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var r=B.getTweensOf(t,e),n=r.length;--n>-1;)r[n]._kill(i,t)};var rt=v("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=rt.prototype},!0);if(l=rt.prototype,rt.version="1.19.0",rt.API=2,l._firstPT=null,l._addTween=j,l.setRatio=V,l._kill=function(t){var e,i=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},l._mod=l._roundProps=function(t){for(var e,i=this._firstPT;i;)e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},B._onPluginEvent=function(t,e){var i,r,n,o,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,r=n;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:o)?s._prev._next=s:n=s,(s._next=r)?r._prev=s:o=s,s=a}s=e._firstPT=n}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(i=!0),s=s._next;return i},rt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===rt.API&&(G[(new t[e])._propName]=t[e]);return!0},_.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,r=t.priority||0,n=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){rt.call(this,i,r),this._overwriteProps=n||[]},!0===t.global),s=a.prototype=new rt(i);s.constructor=a,a.API=t.API;for(e in o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return a.version=t.version,rt.activate([a]),a},s=t._gsQueue){for(A=0;A<s.length;A++)s[A]();for(l in y)y[l].func||t.console.log("GSAP encountered missing dependency: "+l)}c=!1}(void 0!==e&&e.exports&&void 0!==t?t:this||window)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(t,e,i){var r="number",n=r;e.exports=[["sizeOfH3Index",r],["sizeOfGeoCoord",r],["sizeOfGeoBoundary",r],["sizeOfGeoPolygon",r],["sizeOfGeofence",r],["sizeOfLinkedGeoPolygon",r],["sizeOfCoordIJ",r],["h3IsValid","number",["number","number"]],["geoToH3","number",[r,r,"number"]],["h3ToGeo",null,["number","number",n]],["h3ToGeoBoundary",null,["number","number",n]],["maxKringSize",r,[r]],["kRing",null,["number","number",r,n]],["kRingDistances",null,["number","number",r,n,n]],["hexRing",null,["number","number",r,n]],["maxPolyfillSize",r,[n,"number"]],["polyfill",null,[n,"number",n]],["h3SetToLinkedGeo",null,[n,r,n]],["destroyLinkedPolygon",null,[n]],["compact",r,[n,n,r]],["uncompact",r,[n,r,n,r,"number"]],["maxUncompactSize",r,[n,r,"number"]],["h3IsPentagon","number",["number","number"]],["h3IsResClassIII","number",["number","number"]],["h3GetBaseCell",r,["number","number"]],["h3ToParent","number",["number","number","number"]],["h3ToChildren",null,["number","number","number",n]],["maxH3ToChildrenSize",r,["number","number","number"]],["h3IndexesAreNeighbors","number",["number","number","number","number"]],["getH3UnidirectionalEdge","number",["number","number","number","number"]],["getOriginH3IndexFromUnidirectionalEdge","number",["number","number"]],["getDestinationH3IndexFromUnidirectionalEdge","number",["number","number"]],["h3UnidirectionalEdgeIsValid","number",["number","number"]],["getH3IndexesFromUnidirectionalEdge",null,["number","number",n]],["getH3UnidirectionalEdgesFromHexagon",null,["number","number",n]],["getH3UnidirectionalEdgeBoundary",null,["number","number",n]],["h3Distance",r,["number","number","number","number"]],["experimentalH3ToLocalIj",r,["number","number","number","number",n]],["experimentalLocalIjToH3",r,["number","number",n,n]],["hexAreaM2",r,["number"]],["hexAreaKm2",r,["number"]],["edgeLengthM",r,["number"]],["edgeLengthKm",r,["number"]],["numHexagons",r,["number"]]]},{}],26:[function(t,e,i){function r(t){if("number"!=typeof t||t<0||t>15||Math.floor(t)!==t)throw new Error("Invalid resolution: "+t)}function n(t){if("string"!=typeof t)return[0,0];var e=parseInt(t.substring(0,t.length-8),at);return[parseInt(t.substring(t.length-8),at),e]}function o(t){if(t>=0)return t.toString(at);t&=2147483647;var e=s(8,t.toString(at));return e=(parseInt(e[0],at)+8).toString(at)+e.substring(1)}function a(t,e){return o(e)+s(8,o(t))}function s(t,e){for(var i=t-e.length,r="",n=0;n<i;n++)r+="0";return r+=e}function A(t,e,i){for(var r=t.length,n=rt._calloc(r,ct),o=i?1:0,a=i?0:1,s=0;s<2*r;s+=2)rt.HEAPF64.set([t[s/2][o],t[s/2][a]].map(et),n/lt+s);return rt.HEAPU32.set([r,n],e/st),e}function l(t,e){var i=t.length-1,r=rt._calloc(pt),n=0+ft,o=n+st;A(t[0],r+0,e);var a;if(i>0){a=rt._calloc(i,ft);for(var s=0;s<i;s++)A(t[s+1],a+ft*s,e)}return rt.setValue(r+n,i,"i32"),rt.setValue(r+o,a,"i32"),r}function u(t){var e=0+ft,i=e+st;rt._free(rt.getValue(t+0,"i8*"));for(var r=rt.getValue(t+e,"i32"),n=0;n<r;n++)rt._free(rt.getValue(t+i+ft*n,"i8*"));rt._free(t)}function c(t){return[t,rt.getTempRet0()]}function h(t){var e=c(t),i=e[0],r=e[1];return r?a(i,r):null}function p(t,e){void 0===e&&(e=0);var i=rt.getValue(t+st*e*2,"i32"),r=rt.getValue(t+st*(2*e+1),"i32");return r?a(i,r):null}function f(t,e,i){void 0===i&&(i=0),rt.HEAPU32.set(n(t),e/st+2*i)}function d(t,e){for(var i=[],r=0;r<e;r++){var n=p(t,r);null!==n&&i.push(n)}return i}function m(t,e){for(var i=e.length,r=0;r<i;r++)f(e[r],t,r)}function y(t){return it(rt.getValue(t,"double"))}function g(t){return[y(t),y(t+lt)]}function _(t){return[y(t+lt),y(t)]}function v(t,e,i){for(var r=rt.getValue(t,"i32"),n=t+lt,o=[],a=e?_:g,s=0;s<2*r;s+=2)o.push(a(n+lt*s));return i&&o.push(o[0]),o}function x(t,e){for(var i,r,n,o,a=[],s=e?_:g;t;){for(a.push(i=[]),r=rt.getValue(t,"i8*");r;){for(i.push(n=[]),o=rt.getValue(r,"i8*");o;)n.push(s(o)),o=rt.getValue(o+2*lt,"i8*");e&&n.push(n[0]),r=rt.getValue(r+2*At,"i8*")}t=rt.getValue(t+2*At,"i8*")}return a}function b(t){return{i:rt.getValue(t,"i32"),j:rt.getValue(t+st,"i32")}}function w(t,e){var i=e.i,r=e.j;rt.setValue(t,i,"i32"),rt.setValue(t+st,r,"i32")}function E(t){var e=n(t),i=e[0],r=e[1];return Boolean(ot.h3IsValid(i,r))}function T(t){var e=n(t),i=e[0],r=e[1];return Boolean(ot.h3IsPentagon(i,r))}function S(t){var e=n(t),i=e[0],r=e[1];return Boolean(ot.h3IsResClassIII(i,r))}function k(t){var e=n(t),i=e[0],r=e[1];return ot.h3GetBaseCell(i,r)}function C(t){return"string"!=typeof t?-1:parseInt(t.charAt(1),at)}function P(t,e,i){var r=rt._malloc(ct);rt.HEAPF64.set([t,e].map(et),r/lt);var n=h(ot.geoToH3(r,i));return rt._free(r),n}function M(t){var e=rt._malloc(ct),i=n(t),r=i[0],o=i[1];ot.h3ToGeo(r,o,e);var a=g(e);return rt._free(e),a}function I(t,e){var i=rt._malloc(ht),r=n(t),o=r[0],a=r[1];ot.h3ToGeoBoundary(o,a,i);var s=v(i,e,e);return rt._free(i),s}function z(t,e){var i=n(t),r=i[0],o=i[1];return h(ot.h3ToParent(r,o,e))}function B(t,e){var i=n(t),r=i[0],o=i[1],a=ot.maxH3ToChildrenSize(r,o,e),s=rt._calloc(a,ut);ot.h3ToChildren(r,o,e,s);var A=d(s,a);return rt._free(s),A}function D(t,e){var i=n(t),r=i[0],o=i[1],a=ot.maxKringSize(e),s=rt._calloc(a,ut);ot.kRing(r,o,e,s);var A=d(s,a);return rt._free(s),A}function L(t,e){var i=n(t),r=i[0],o=i[1],s=ot.maxKringSize(e),A=rt._calloc(s,ut),l=rt._calloc(s,st);ot.kRingDistances(r,o,e,A,l);for(var u=[],c=0;c<e+1;c++)u.push([]);for(var h=0;h<2*s;h+=2){var p=rt.getValue(A+st*h,"i32"),f=rt.getValue(A+st*(h+1),"i32"),d=rt.getValue(l+st*(h/2),"i32");0===p&&0===f||u[d].push(a(p,f))}return rt._free(A),rt._free(l),u}function R(t,e){var i=0===e?1:6*e,r=rt._calloc(i,ut);if(0!==ot.hexRing.apply(ot,n(t).concat([e],[r])))throw rt._free(r),new Error("Failed to get hexRing (encountered a pentagon?)");var o=d(r,i);return rt._free(r),o}function O(t,e,i){if(r(e),i=Boolean(i),0===t.length||0===t[0].length)return[];"number"==typeof t[0][0]&&(t=[t]);var n=l(t,i),o=ot.maxPolyfillSize(n,e),a=rt._calloc(o,ut);ot.polyfill(n,e,a);var s=d(a,o);return rt._free(a),u(n),s}function F(t,e){if(!t||!t.length)return[];var i=t.length,r=rt._calloc(i,ut);m(r,t);var n=rt._calloc(dt),o=n;ot.h3SetToLinkedGeo(r,i,n);var a=x(n,e);return ot.destroyLinkedPolygon(o),rt._free(o),rt._free(r),a}function U(t){if(!t||!t.length)return[];var e=t.length,i=rt._calloc(e,ut);m(i,t);var r=rt._calloc(e,ut);if(0!==ot.compact(i,r,e))throw rt._free(i),rt._free(r),new Error("Failed to compact, malformed input data (duplicate hexagons?)");var n=d(r,e);return rt._free(i),rt._free(r),n}function V(t,e){if(r(e),!t||!t.length)return[];var i=t.length,n=rt._calloc(i,ut);m(n,t);var o=ot.maxUncompactSize(n,i,e),a=rt._calloc(o,ut);if(0!==ot.uncompact(n,i,a,o,e))throw rt._free(n),rt._free(a),new Error("Failed to uncompact (bad resolution?)");var s=d(a,o);return rt._free(n),rt._free(a),s}function N(t,e){var i=n(t),r=i[0],o=i[1],a=n(e),s=a[0],A=a[1];return Boolean(ot.h3IndexesAreNeighbors(r,o,s,A))}function j(t,e){var i=n(t),r=i[0],o=i[1],a=n(e),s=a[0],A=a[1];return h(ot.getH3UnidirectionalEdge(r,o,s,A))}function q(t){var e=n(t),i=e[0],r=e[1];return h(ot.getOriginH3IndexFromUnidirectionalEdge(i,r))}function G(t){var e=n(t),i=e[0],r=e[1];return h(ot.getDestinationH3IndexFromUnidirectionalEdge(i,r))}function Q(t){var e=n(t),i=e[0],r=e[1];return Boolean(ot.h3UnidirectionalEdgeIsValid(i,r))}function H(t){var e=n(t),i=e[0],r=e[1],o=rt._calloc(2,ut);ot.getH3IndexesFromUnidirectionalEdge(i,r,o);var a=d(o,2);return rt._free(o),a}function Z(t){var e=n(t),i=e[0],r=e[1],o=rt._calloc(6,ut);ot.getH3UnidirectionalEdgesFromHexagon(i,r,o);var a=d(o,6);return rt._free(o),a}function X(t,e){var i=rt._malloc(ht),r=n(t),o=r[0],a=r[1];ot.getH3UnidirectionalEdgeBoundary(o,a,i);var s=v(i,e);return rt._free(i),s}function W(t,e){var i=n(t),r=i[0],o=i[1],a=n(e),s=a[0],A=a[1];return ot.h3Distance(r,o,s,A)}function Y(t,e){var i=rt._malloc(mt),r=ot.experimentalH3ToLocalIj.apply(ot,n(t).concat(n(e),[i])),o=b(i);switch(rt._free(i),r){case 0:return o;case 1:throw new Error("Incompatible origin and index.");case 2:default:throw new Error("Local IJ coordinates undefined for this origin and index pair. The index may be too far from the origin.");case 3:case 4:case 5:throw new Error("Encountered possible pentagon distortion")}}function K(t,e){if(!e||"number"!=typeof e.i||"number"!=typeof e.j)throw new Error("Coordinates must be provided as an {i, j} object");var i=rt._malloc(mt),r=rt._malloc(ut);w(i,e);var o=ot.experimentalLocalIjToH3.apply(ot,n(t).concat([i],[r])),a=p(r);if(rt._free(i),rt._free(r),0!==o)throw new Error("Index not defined for this origin and IJ coordinates pair. IJ coordinates may be too far from origin, or a pentagon distortion was encountered.");return a}function J(t,e){switch(r(t),e){case yt.m2:return ot.hexAreaM2(t);case yt.km2:return ot.hexAreaKm2(t);default:throw new Error("Unknown unit: "+e)}}function $(t,e){switch(r(t),e){case yt.m:return ot.edgeLengthM(t);case yt.km:return ot.edgeLengthKm(t);default:throw new Error("Unknown unit: "+e)}}function tt(t){r(t);var e=c(ot.numHexagons(t)),i=e[0],n=e[1];return n?n*Math.pow(2,32)+i:i}function et(t){return t*Math.PI/180}function it(t){return 180*t/Math.PI}var rt=t("../out/libh3"),nt=t("./bindings"),ot={};nt.forEach(function(t){ot[t[0]]=rt.cwrap.apply(rt,t)});var at=16,st=4,At=4,lt=8,ut=ot.sizeOfH3Index(),ct=ot.sizeOfGeoCoord(),ht=ot.sizeOfGeoBoundary(),pt=ot.sizeOfGeoPolygon(),ft=ot.sizeOfGeofence(),dt=ot.sizeOfLinkedGeoPolygon(),mt=ot.sizeOfCoordIJ(),yt={m:"m",km:"km",m2:"m2",km2:"km2"};e.exports={h3IsValid:E,h3IsPentagon:T,h3IsResClassIII:S,h3GetBaseCell:k,h3GetResolution:C,geoToH3:P,h3ToGeo:M,h3ToGeoBoundary:I,h3ToParent:z,h3ToChildren:B,kRing:D,kRingDistances:L,hexRing:R,polyfill:O,h3SetToMultiPolygon:F,compact:U,uncompact:V,h3IndexesAreNeighbors:N,getH3UnidirectionalEdge:j,getOriginH3IndexFromUnidirectionalEdge:q,getDestinationH3IndexFromUnidirectionalEdge:G,h3UnidirectionalEdgeIsValid:Q,getH3IndexesFromUnidirectionalEdge:H,getH3UnidirectionalEdgesFromHexagon:Z,getH3UnidirectionalEdgeBoundary:X,h3Distance:W,experimentalH3ToLocalIj:Y,experimentalLocalIjToH3:K,hexArea:J,edgeLength:$,numHexagons:tt,degsToRads:et,radsToDegs:it,UNITS:yt}},{"../out/libh3":27,"./bindings":25}],27:[function(t,e,i){(function(r,n){var o=function(e){function i(t){A(!ft);var e=pt;return pt=pt+t+15&-16,e}function o(t){A(_t);var e=At[_t>>2],i=e+t+15&-16;if(At[_t>>2]=i,i>=Bt){if(!w())return At[_t>>2]=e,0}return e}function a(t,e){return e||(e=vt),t=Math.ceil(t/e)*e}function s(t){switch(t){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===t[t.length-1])return 4;if("i"===t[0]){var e=parseInt(t.substr(1));return A(e%8==0),e/8}return 0}}function A(t,e){t||Z("Assertion failed: "+e)}function l(t){var e=W["_"+t];return A(e,"Cannot call unknown function "+t+", make sure it is exported"),e}function u(t,e,i,r,n){var o=l(t),a=[],s=0;if(r)for(var A=0;A<r.length;A++){var u=Et[i[A]];u?(0===s&&(s=le()),a[A]=u(r[A])):a[A]=r[A]}var c=o.apply(null,a);return"string"===e?c=f(c):"boolean"===e&&(c=Boolean(c)),0!==s&&Ae(s),c}function c(t,e,i){i=i||[];var r=l(t),n=i.every(function(t){return"number"===t});return"string"!==e&&n?r:function(){return u(t,e,i,arguments)}}function h(t,e,i,r){switch(i=i||"i8","*"===i.charAt(i.length-1)&&(i="i32"),i){case"i1":case"i8":nt[t>>0]=e;break;case"i16":at[t>>1]=e;break;case"i32":At[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Nt(tempDouble)>=1?tempDouble>0?(0|Qt(+qt(tempDouble/4294967296),4294967295))>>>0:~~+jt((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],At[t>>2]=tempI64[0],At[t+4>>2]=tempI64[1];break;case"float":ut[t>>2]=e;break;case"double":ct[t>>3]=e;break;default:Z("invalid type for setValue: "+i)}}function p(t,e,i){switch(e=e||"i8","*"===e.charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return nt[t>>0];case"i16":return at[t>>1];case"i32":case"i64":return At[t>>2];case"float":return ut[t>>2];case"double":return ct[t>>3];default:Z("invalid type for getValue: "+e)}return null}function f(t,e){if(0===e||!t)return"";for(var i,r=0,n=0;;){if(i=ot[t+n>>0],r|=i,0==i&&!e)break;if(n++,e&&n==e)break}e||(e=n);var o="";if(r<128){for(var a;e>0;)a=String.fromCharCode.apply(String,ot.subarray(t,t+Math.min(e,1024))),o=o?o+a:a,t+=1024,e-=1024;return o}return m(t)}function d(t,e){for(var i=e;t[i];)++i;if(i-e>16&&t.subarray&&kt)return kt.decode(t.subarray(e,i));for(var r,n,o,a,s,A,l="";;){if(!(r=t[e++]))return l;if(128&r)if(n=63&t[e++],192!=(224&r))if(o=63&t[e++],
224==(240&r)?r=(15&r)<<12|n<<6|o:(a=63&t[e++],240==(248&r)?r=(7&r)<<18|n<<12|o<<6|a:(s=63&t[e++],248==(252&r)?r=(3&r)<<24|n<<18|o<<12|a<<6|s:(A=63&t[e++],r=(1&r)<<30|n<<24|o<<18|a<<12|s<<6|A))),r<65536)l+=String.fromCharCode(r);else{var u=r-65536;l+=String.fromCharCode(55296|u>>10,56320|1023&u)}else l+=String.fromCharCode((31&r)<<6|n);else l+=String.fromCharCode(r)}}function m(t){return d(ot,t)}function y(t,e,i,r){if(!(r>0))return 0;for(var n=i,o=i+r-1,a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++a)),s<=127){if(i>=o)break;e[i++]=s}else if(s<=2047){if(i+1>=o)break;e[i++]=192|s>>6,e[i++]=128|63&s}else if(s<=65535){if(i+2>=o)break;e[i++]=224|s>>12,e[i++]=128|s>>6&63,e[i++]=128|63&s}else if(s<=2097151){if(i+3>=o)break;e[i++]=240|s>>18,e[i++]=128|s>>12&63,e[i++]=128|s>>6&63,e[i++]=128|63&s}else if(s<=67108863){if(i+4>=o)break;e[i++]=248|s>>24,e[i++]=128|s>>18&63,e[i++]=128|s>>12&63,e[i++]=128|s>>6&63,e[i++]=128|63&s}else{if(i+5>=o)break;e[i++]=252|s>>30,e[i++]=128|s>>24&63,e[i++]=128|s>>18&63,e[i++]=128|s>>12&63,e[i++]=128|s>>6&63,e[i++]=128|63&s}}return e[i]=0,i-n}function g(t,e,i){return y(t,ot,e,i)}function _(t,e){return t%e>0&&(t+=e-t%e),t}function v(t){W.buffer=rt=t}function x(){W.HEAP8=nt=new Int8Array(rt),W.HEAP16=at=new Int16Array(rt),W.HEAP32=At=new Int32Array(rt),W.HEAPU8=ot=new Uint8Array(rt),W.HEAPU16=st=new Uint16Array(rt),W.HEAPU32=lt=new Uint32Array(rt),W.HEAPF32=ut=new Float32Array(rt),W.HEAPF64=ct=new Float64Array(rt)}function b(){Z("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Bt+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function w(){var t=W.usingWasm?Ct:Pt,e=2147483648-t;if(At[_t>>2]>e)return!1;var i=Bt;for(Bt=Math.max(Bt,Mt);Bt<At[_t>>2];)Bt=Bt<=536870912?_(2*Bt,t):Math.min(_((3*Bt+2147483648)/4,t),e);var r=W.reallocBuffer(Bt);return r&&r.byteLength==Bt?(v(r),x(),!0):(Bt=i,!1)}function E(){return Bt}function T(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var i=e.func;"number"==typeof i?void 0===e.arg?W.dynCall_v(i):W.dynCall_vi(i,e.arg):i(void 0===e.arg?null:e.arg)}else e()}}function S(){if(W.preRun)for("function"==typeof W.preRun&&(W.preRun=[W.preRun]);W.preRun.length;)I(W.preRun.shift());T(Dt)}function k(){Ut||(Ut=!0,T(Lt))}function C(){T(Rt)}function P(){T(Ot),Vt=!0}function M(){if(W.postRun)for("function"==typeof W.postRun&&(W.postRun=[W.postRun]);W.postRun.length;)z(W.postRun.shift());T(Ft)}function I(t){Dt.unshift(t)}function z(t){Ft.unshift(t)}function B(t,e){nt.set(t,e)}function D(t){if(Ht--,W.monitorRunDependencies&&W.monitorRunDependencies(Ht),0==Ht&&(null!==Zt&&(clearInterval(Zt),Zt=null),Xt)){var e=Xt;Xt=null,e()}}function L(t){return String.prototype.startsWith?t.startsWith(Yt):0===t.indexOf(Yt)}function R(t,e,i,r){Z("Assertion failed: "+f(t)+", at: "+[e?f(e):"unknown filename",i,r?f(r):"unknown function"])}function O(t,e,i){return ot.set(ot.subarray(e,e+i),t),t}function F(t){return W.___errno_location&&(At[W.___errno_location()>>2]=t),t}function U(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];r>255&&(ie&&A(!1,"Character code "+r+" ("+String.fromCharCode(r)+")  at offset "+i+" not in 0x00-0xFF."),r&=255),e.push(String.fromCharCode(r))}return e.join("")}function V(t){if("boolean"==typeof $&&$){var e;try{e=n.from(t,"base64")}catch(i){e=new n(t,"base64")}return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}try{for(var i=re(t),r=new Uint8Array(i.length),o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}catch(t){throw new Error("Converting base64 string to bytes failed.")}}function N(t){if(L(t))return V(t.slice(Yt.length))}function j(){W.readAsync(Wt,ce,function(){throw"could not load memory initializer "+Wt})}function q(){var t=W.memoryInitializerRequest,e=t.response;if(200!==t.status&&0!==t.status){var i=N(W.memoryInitializerRequestURL);if(!i)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+t.status+", retrying "+Wt),void j();e=i.buffer}ce(e)}function G(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Q(t){function e(){W.calledRun||(W.calledRun=!0,xt||(k(),C(),W.onRuntimeInitialized&&W.onRuntimeInitialized(),M()))}t=t||W.arguments,Ht>0||(S(),Ht>0||W.calledRun||(W.setStatus?(W.setStatus("Running..."),setTimeout(function(){setTimeout(function(){W.setStatus("")},1),e()},1)):e()))}function H(t,e){e&&W.noExitRuntime&&0===t||(W.noExitRuntime||(xt=!0,bt=t,mt=pe,P(),W.onExit&&W.onExit(t)),$&&r.exit(t),W.quit(t,new G(t)))}function Z(t){throw W.onAbort&&W.onAbort(t),void 0!==t?(W.print(t),W.printErr(t),t=JSON.stringify(t)):t="",xt=!0,bt=1,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}e=e||{};var X,W=void 0!==e?e:{},Y={};for(X in W)W.hasOwnProperty(X)&&(Y[X]=W[X]);W.arguments=[],W.thisProgram="./this.program",W.quit=function(t,e){throw e},W.preRun=[],W.postRun=[];var K=!1,J=!1,$=!1,tt=!1;if(W.ENVIRONMENT)if("WEB"===W.ENVIRONMENT)K=!0;else if("WORKER"===W.ENVIRONMENT)J=!0;else if("NODE"===W.ENVIRONMENT)$=!0;else{if("SHELL"!==W.ENVIRONMENT)throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");tt=!0}else K="object"==typeof window,J="function"==typeof importScripts,$="object"==typeof r&&"function"==typeof t&&!K&&!J,tt=!K&&!$&&!J;if($){var et,it;W.read=function(e,i){var r;return r=N(e),r||(et||(et=t("fs")),it||(it=t("path")),e=it.normalize(e),r=et.readFileSync(e)),i?r:r.toString()},W.readBinary=function(t){var e=W.read(t,!0);return e.buffer||(e=new Uint8Array(e)),A(e.buffer),e},r.argv.length>1&&(W.thisProgram=r.argv[1].replace(/\\/g,"/")),W.arguments=r.argv.slice(2),r.on("unhandledRejection",function(t,e){r.exit(1)}),W.inspect=function(){return"[Emscripten Module object]"}}else tt?("undefined"!=typeof read&&(W.read=function(t){var e=N(t);return e?U(e):read(t)}),W.readBinary=function(t){var e;return(e=N(t))?e:"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(e=read(t,"binary"),A("object"==typeof e),e)},"undefined"!=typeof scriptArgs?W.arguments=scriptArgs:void 0!==arguments&&(W.arguments=arguments),"function"==typeof quit&&(W.quit=function(t,e){quit(t)})):(K||J)&&(W.read=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText}catch(e){var i=N(t);if(i)return U(i);throw e}},J&&(W.readBinary=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}catch(e){var i=N(t);if(i)return i;throw e}}),W.readAsync=function(t,e,i){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)return void e(r.response);var n=N(t);if(n)return void e(n.buffer);i()},r.onerror=i,r.send(null)},W.setWindowTitle=function(t){document.title=t});W.print="undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null,W.printErr="undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||W.print,W.print=W.print,W.printErr=W.printErr;for(X in Y)Y.hasOwnProperty(X)&&(W[X]=Y[X]);Y=void 0;var rt,nt,ot,at,st,At,lt,ut,ct,ht,pt,ft,dt,mt,yt,gt,_t,vt=16,xt=(new Array(0),0),bt=0,wt={stackSave:function(){le()},stackRestore:function(){Ae()},arrayToC:function(t){var e=se(t.length);return B(t,e),e},stringToC:function(t){var e=0;if(null!==t&&void 0!==t&&0!==t){var i=1+(t.length<<2);e=se(i),g(t,e,i)}return e}},Et={string:wt.stringToC,array:wt.arrayToC},Tt=2,St=4,kt="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,Ct=("undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),65536),Pt=16777216,Mt=16777216;ht=pt=dt=mt=yt=gt=_t=0,ft=!1,W.reallocBuffer||(W.reallocBuffer=function(t){var e;try{if(ArrayBuffer.transfer)e=ArrayBuffer.transfer(rt,t);else{var i=nt;e=new ArrayBuffer(t);new Int8Array(e).set(i)}}catch(t){return!1}return!!oe(e)&&e});var It;try{It=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),It(new ArrayBuffer(4))}catch(t){It=function(t){return t.byteLength}}var zt=W.TOTAL_STACK||5242880,Bt=W.TOTAL_MEMORY||33554432;if(Bt<zt&&W.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Bt+"! (TOTAL_STACK="+zt+")"),W.buffer?rt=W.buffer:(rt=new ArrayBuffer(Bt),W.buffer=rt),x(),At[0]=1668509029,at[1]=25459,115!==ot[2]||99!==ot[3])throw"Runtime error: expected the system to be little-endian!";var Dt=[],Lt=[],Rt=[],Ot=[],Ft=[],Ut=!1,Vt=!1,Nt=Math.abs,jt=(Math.cos,Math.sin,Math.tan,Math.acos,Math.asin,Math.atan,Math.atan2,Math.exp,Math.log,Math.sqrt,Math.ceil),qt=Math.floor,Gt=Math.pow,Qt=(Math.imul,Math.fround,Math.round,Math.min),Ht=(Math.max,Math.clz32,Math.trunc,0),Zt=null,Xt=null;W.preloadedImages={},W.preloadedAudios={};var Wt=null,Yt="data:application/octet-stream;base64,";ht=8,pt=ht+23296,Lt.push(),
Wt="data:application/octet-stream;base64,fqIF9vK26T8arpqSb/nzP9eubQuJ7PQ/l2hJ06lLBEBazrTZQuDwP91PtFxuj/W/U3VFAcU04z+D1KfHsdbcvwdaw/xDeN8/pXA4uiy62T/2uOTVhBzGP6CeYoyw2fo/8cN648Vj4z9gfAOOoqEHQKLX398JWts/hTEqQNY4/r+m+WNZrT20v3CLvCtBeOe/9nrIsiaQzb/fJOU7NjXgP6b5Y1mtPbQ/PApVCetDA0D2esiyJpDNP+DjSsWtFAXA9rjk1YQcxr+RuyUcRmr3v/HDeuPFY+O/hwsLZIwFyL+i19/fCVrbv6soXmggC/Q/U3VFAcU047+IMk8bJYcFQAdaw/xDeN+/BB/9vLXqBcB+ogX28rbpvxes7RWHSv6/165tC4ns9L8HEusDRlnjv1rOtNlC4PC/UwrUS4i0/D/KYuUXsSbMPwZSCj1cEeU/eVsrtP0I5z+T46E+2GHLv5gYSmes68I/MEWEuzXm7j96luoHofi7P0i64sXmy96/qXMspjfV6z8JpDR6e8XnPxljTGVQANe/vNrPsdgS4j8J9srWyfXpPy4BB9bDEtY/Mqf9i4U33j/kp1sLUAW7v3d/IJKeV+8/MrbLh2gAxj81GDm3X9fpv+yGrhAlocM/nI0gAo854j++mfsFITfSv9fhhCs7qeu/vxmK/9OG2j8OonVjr7LnP2XnU1rEWuW/xCUDrkc4tL/zp3GIRz3rP4ePT4sWOd4/ovMFnwtNzb8NonVjr7Lnv2XnU1rEWuU/xCUDrkc4tD/yp3GIRz3rv4mPT4sWOd6/ovMFnwtNzT/Wp1sLUAW7P3d/IJKeV++/MrbLh2gAxr81GDm3X9fpP++GrhAlocO/nI0gAo854r/AmfsFITfSP9bhhCs7qes/vxmK/9OG2r8JpDR6e8XnvxdjTGVQANc/vNrPsdgS4r8K9srWyfXpvysBB9bDEta/Mqf9i4U33r/NYuUXsSbMvwZSCj1cEeW/eVsrtP0I57+Q46E+2GHLP5wYSmes68K/MEWEuzXm7r9zluoHofi7v0i64sXmy94/qXMspjfV67/KxyBX1noWQDAcFHZaNAxAk1HNexDm9j8aVQdUlgoXQM424W/aUw1A0IZnbxAl+T/RZTCggvfoPyCAM4xC4BNA2ow54DL/BkBYVg5gz4zbP8tYLi4fehJAMT4vJOwyBECQnOFEZYUYQN3iyii8JBBAqqTQMkwQ/z+saY13A4sFQBbZf/3EJuM/iG7d1yomE0DO5gi1G90HQKDNbfMlb+w/Gi2b9jZPFEBACT1eZ0MMQLUrH0wqBPc/Uz41y1yCFkAVWpwuVvQLQGDN3ewHZvY/vuZkM9RaFkAVE4cmlQYIQMB+ZrkLFe0/PUNar/NjFECaFhjnzbgXQM65ApZJsA5A0Iyqu+7d+z8voNHbYrbBP2cADE8FTxFAaI3qZbjcAUBmG7blvrfcPxzViCbOjBJA0zbkFEpYBECsZLTz+U3EP4sWywfCYxFAsLlo1zEGAkAEv0dPRZEXQKMKYmY4YQ5Aey5pXMw/+z9NYkJoYbAFQJ67U8A8vOM/2eo30Nk4E0AoTglzJ1sKQIa1t3WqM/M/x2Cb1TyOFUC094pORXAOQJ4IuyzmXfs/jTVcw8uYF0AV3b1UxVANQGDTIDnmHvk/Pqh1xgsJF0CkEzisGuQCQPIBVaBDFtE/hcMycrbSEUDLoUW27DZQQWKh1vTphyJBfVwbqp0t9UACt+7mITTIQDkqN1FLqZtAwvuqXOicb0B1fXrHhBBCQM1EbAsqpRRAfAUODTCY5z8st7QaEve6P8WsF0M50Y4/PSditgmcYT+r1+N0SCA0P0vIrIMoBAc/i7xR0JJs2j4xRRTu8DKuPgAAzC5E7Y5CAADoJCasYUIAAFOwdDI0QgAA8KQXFQdCAAAAmD9h2kEAAACJ/yWuQc3MzOBIOoFBzczMTFOwU0EzMzMzX4AmQQAAAABIt/lAAAAAAMBjzUAzMzMzM8ugQJqZmZmZMXNAMzMzMzPzRUAzMzMzMzMZQM3MzMzMzOw/soF0sdlOkUCopiTr0Cp6QNt4ZjjUx2NAPwBnMcrnTUDW9yuuO5s2QPkueq68FiFAJuJFEPvVCUCq3vYRs4fzPwS76MvVht0/i5qjH/FRxj9pt52DVd+wP4GxR3Mngpk/nAT1gXJIgz+tbWQAoyltP6tkW2FVGFY/Lg8qVcizQD+oxkuXAOcwQcHKoQXQjRlBBhIUPyVRA0E+lj50WzTtQAfwFkiYE9ZA31FjQjSwwEDZPuQt9zqpQHIVi9+EEpNAyr7QyKzVfEDRdBt5BcxlQEknloQZelBA/v9JjRrpOEBowP3Zv9QiQCzyzzKpegxA0h6A68KT9T9o6Ls1kk/gP3oAAAAAAAAASgMAAAAAAAD6FgAAAAAAAMqgAAAAAAAAemUEAAAAAABKxh4AAAAAAPpr1wAAAAAAyvPjBQAAAAB6qjspAAAAAEqpoSABAAAA+qBr5AcAAADKZvE+NwAAAHrPmbiCAQAASqw0DJMKAAD6tXBVBUoAAMr5FFYlBgIAAgAAAAMAAAABAAAABQAAAAQAAAAGAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAAEAAAAAwAAAAYAAAAFAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAEAAAABgAAAAAAAAAFAAAAAwAAAAYAAAAEAAAABQAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAEAAAAFAAAAAgAAAAAAAAABAAAAAwAAAAYAAAAEAAAABgAAAAAAAAAFAAAAAgAAAAEAAAAEAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAGAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAABAAAAAUAAAAGAAAAAAAAAAEAAAADAAAABAAAAAUAAAAGAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAEAAAACAAAAAwAAAAUAAAAGAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAGAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAAAAAAGAAAAAAAAAAMAAAACAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABQAAAAQAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAQAAAAAAAAABgAAAAAAAAABAAAABQAAAAIAAAAEAAAAAwAAAAgAAAABAAAABwAAAAYAAAAJAAAAAAAAAAMAAAACAAAAAgAAAAYAAAAKAAAACwAAAAAAAAABAAAABQAAAAMAAAANAAAAAQAAAAcAAAAEAAAADAAAAAAAAAAEAAAAfwAAAA8AAAAIAAAAAwAAAAAAAAAMAAAABQAAAAIAAAASAAAACgAAAAgAAAAAAAAAEAAAAAYAAAAOAAAACwAAABEAAAABAAAACQAAAAIAAAAHAAAAFQAAAAkAAAATAAAAAwAAAA0AAAABAAAACAAAAAUAAAAWAAAAEAAAAAQAAAAAAAAADwAAAAkAAAATAAAADgAAABQAAAABAAAABwAAAAYAAAAKAAAACwAAABgAAAAXAAAABQAAAAIAAAASAAAACwAAABEAAAAXAAAAGQAAAAIAAAAGAAAACgAAAAwAAAAcAAAADQAAABoAAAAEAAAADwAAAAMAAAANAAAAGgAAABUAAAAdAAAAAwAAAAwAAAAHAAAADgAAAH8AAAARAAAAGwAAAAkAAAAUAAAABgAAAA8AAAAWAAAAHAAAAB8AAAAEAAAACAAAAAwAAAAQAAAAEgAAACEAAAAeAAAACAAAAAUAAAAWAAAAEQAAAAsAAAAOAAAABgAAACMAAAAZAAAAGwAAABIAAAAYAAAAHgAAACAAAAAFAAAACgAAABAAAAATAAAAIgAAABQAAAAkAAAABwAAABUAAAAJAAAAFAAAAA4AAAATAAAACQAAACgAAAAbAAAAJAAAABUAAAAmAAAAEwAAACIAAAANAAAAHQAAAAcAAAAWAAAAEAAAACkAAAAhAAAADwAAAAgAAAAfAAAAFwAAABgAAAALAAAACgAAACcAAAAlAAAAGQAAABgAAAB/AAAAIAAAACUAAAAKAAAAFwAAABIAAAAZAAAAFwAAABEAAAALAAAALQAAACcAAAAjAAAAGgAAACoAAAAdAAAAKwAAAAwAAAAcAAAADQAAABsAAAAoAAAAIwAAAC4AAAAOAAAAFAAAABEAAAAcAAAAHwAAACoAAAAsAAAADAAAAA8AAAAaAAAAHQAAACsAAAAmAAAALwAAAA0AAAAaAAAAFQAAAB4AAAAgAAAAMAAAADIAAAAQAAAAEgAAACEAAAAfAAAAKQAAACwAAAA1AAAADwAAABYAAAAcAAAAIAAAAB4AAAAYAAAAEgAAADQAAAAyAAAAJQAAACEAAAAeAAAAMQAAADAAAAAWAAAAEAAAACkAAAAiAAAAEwAAACYAAAAVAAAANgAAACQAAAAzAAAAIwAAAC4AAAAtAAAAOAAAABEAAAAbAAAAGQAAACQAAAAUAAAAIgAAABMAAAA3AAAAKAAAADYAAAAlAAAAJwAAADQAAAA5AAAAGAAAABcAAAAgAAAAJgAAAH8AAAAiAAAAMwAAAB0AAAAvAAAAFQAAACcAAAAlAAAAGQAAABcAAAA7AAAAOQAAAC0AAAAoAAAAGwAAACQAAAAUAAAAPAAAAC4AAAA3AAAAKQAAADEAAAA1AAAAPQAAABYAAAAhAAAAHwAAACoAAAA6AAAAKwAAAD4AAAAcAAAALAAAABoAAAArAAAAPgAAAC8AAABAAAAAGgAAACoAAAAdAAAALAAAADUAAAA6AAAAQQAAABwAAAAfAAAAKgAAAC0AAAAnAAAAIwAAABkAAAA/AAAAOwAAADgAAAAuAAAAPAAAADgAAABEAAAAGwAAACgAAAAjAAAALwAAACYAAAArAAAAHQAAAEUAAAAzAAAAQAAAADAAAAAxAAAAHgAAACEAAABDAAAAQgAAADIAAAAxAAAAfwAAAD0AAABCAAAAIQAAADAAAAApAAAAMgAAADAAAAAgAAAAHgAAAEYAAABDAAAANAAAADMAAABFAAAANgAAAEcAAAAmAAAALwAAACIAAAA0AAAAOQAAAEYAAABKAAAAIAAAACUAAAAyAAAANQAAAD0AAABBAAAASwAAAB8AAAApAAAALAAAADYAAABHAAAANwAAAEkAAAAiAAAAMwAAACQAAAA3AAAAKAAAADYAAAAkAAAASAAAADwAAABJAAAAOAAAAEQAAAA/AAAATQAAACMAAAAuAAAALQAAADkAAAA7AAAASgAAAE4AAAAlAAAAJwAAADQAAAA6AAAAfwAAAD4AAABMAAAALAAAAEEAAAAqAAAAOwAAAD8AAABOAAAATwAAACcAAAAtAAAAOQAAADwAAABIAAAARAAAAFAAAAAoAAAANwAAAC4AAAA9AAAANQAAADEAAAApAAAAUQAAAEsAAABCAAAAPgAAACsAAAA6AAAAKgAAAFIAAABAAAAATAAAAD8AAAB/AAAAOAAAAC0AAABPAAAAOwAAAE0AAABAAAAALwAAAD4AAAArAAAAVAAAAEUAAABSAAAAQQAAADoAAAA1AAAALAAAAFYAAABMAAAASwAAAEIAAABDAAAAUQAAAFUAAAAxAAAAMAAAAD0AAABDAAAAQgAAADIAAAAwAAAAVwAAAFUAAABGAAAARAAAADgAAAA8AAAALgAAAFoAAABNAAAAUAAAAEUAAAAzAAAAQAAAAC8AAABZAAAARwAAAFQAAABGAAAAQwAAADQAAAAyAAAAUwAAAFcAAABKAAAARwAAAFkAAABJAAAAWwAAADMAAABFAAAANgAAAEgAAAB/AAAASQAAADcAAABQAAAAPAAAAFgAAABJAAAAWwAAAEgAAABYAAAANgAAAEcAAAA3AAAASgAAAE4AAABTAAAAXAAAADQAAAA5AAAARgAAAEsAAABBAAAAPQAAADUAAABeAAAAVgAAAFEAAABMAAAAVgAAAFIAAABgAAAAOgAAAEEAAAA+AAAATQAAAD8AAABEAAAAOAAAAF0AAABPAAAAWgAAAE4AAABKAAAAOwAAADkAAABfAAAAXAAAAE8AAABPAAAATgAAAD8AAAA7AAAAXQAAAF8AAABNAAAAUAAAAEQAAABIAAAAPAAAAGMAAABaAAAAWAAAAFEAAABVAAAAXgAAAGUAAAA9AAAAQgAAAEsAAABSAAAAYAAAAFQAAABiAAAAPgAAAEwAAABAAAAAUwAAAH8AAABKAAAARgAAAGQAAABXAAAAXAAAAFQAAABFAAAAUgAAAEAAAABhAAAAWQAAAGIAAABVAAAAVwAAAGUAAABmAAAAQgAAAEMAAABRAAAAVgAAAEwAAABLAAAAQQAAAGgAAABgAAAAXgAAAFcAAABTAAAAZgAAAGQAAABDAAAARgAAAFUAAABYAAAASAAAAFsAAABJAAAAYwAAAFAAAABpAAAAWQAAAGEAAABbAAAAZwAAAEUAAABUAAAARwAAAFoAAABNAAAAUAAAAEQAAABqAAAAXQAAAGMAAABbAAAASQAAAFkAAABHAAAAaQAAAFgAAABnAAAAXAAAAFMAAABOAAAASgAAAGwAAABkAAAAXwAAAF0AAABPAAAAWgAAAE0AAABtAAAAXwAAAGoAAABeAAAAVgAAAFEAAABLAAAAawAAAGgAAABlAAAAXwAAAFwAAABPAAAATgAAAG0AAABsAAAAXQAAAGAAAABoAAAAYgAAAG4AAABMAAAAVgAAAFIAAABhAAAAfwAAAGIAAABUAAAAZwAAAFkAAABvAAAAYgAAAG4AAABhAAAAbwAAAFIAAABgAAAAVAAAAGMAAABQAAAAaQAAAFgAAABqAAAAWgAAAHEAAABkAAAAZgAAAFMAAABXAAAAbAAAAHIAAABcAAAAZQAAAGYAAABrAAAAcAAAAFEAAABVAAAAXgAAAGYAAABlAAAAVwAAAFUAAAByAAAAcAAAAGQAAABnAAAAWwAAAGEAAABZAAAAdAAAAGkAAABvAAAAaAAAAGsAAABuAAAAcwAAAFYAAABeAAAAYAAAAGkAAABYAAAAZwAAAFsAAABxAAAAYwAAAHQAAABqAAAAXQAAAGMAAABaAAAAdQAAAG0AAABxAAAAawAAAH8AAABlAAAAXgAAAHMAAABoAAAAcAAAAGwAAABkAAAAXwAAAFwAAAB2AAAAcgAAAG0AAABtAAAAbAAAAF0AAABfAAAAdQAAAHYAAABqAAAAbgAAAGIAAABoAAAAYAAAAHcAAABvAAAAcwAAAG8AAABhAAAAbgAAAGIAAAB0AAAAZwAAAHcAAABwAAAAawAAAGYAAABlAAAAeAAAAHMAAAByAAAAcQAAAGMAAAB0AAAAaQAAAHUAAABqAAAAeQAAAHIAAABwAAAAZAAAAGYAAAB2AAAAeAAAAGwAAABzAAAAbgAAAGsAAABoAAAAeAAAAHcAAABwAAAAdAAAAGcAAAB3AAAAbwAAAHEAAABpAAAAeQAAAHUAAAB/AAAAbQAAAHYAAABxAAAAeQAAAGoAAAB2AAAAeAAAAGwAAAByAAAAdQAAAHkAAABtAAAAdwAAAG8AAABzAAAAbgAAAHkAAAB0AAAAeAAAAHgAAABzAAAAcgAAAHAAAAB5AAAAdwAAAHYAAAB5AAAAdAAAAHgAAAB3AAAAdQAAAHEAAAB2AAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEgAAAAAAAAAYAAAAAAAAACEAAAAAAAAAHgAAAAAAAAAgAAAAAwAAADEAAAABAAAAMAAAAAMAAAAyAAAAAwAAAAgAAAAAAAAABQAAAAUAAAAKAAAABQAAABYAAAAAAAAAEAAAAAAAAAASAAAAAAAAACkAAAABAAAAIQAAAAAAAAAeAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAACAAAABQAAAA8AAAABAAAACAAAAAAAAAAFAAAABQAAAB8AAAABAAAAFgAAAAAAAAAQAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAOAAAAAAAAAAoAAAAAAAAACwAAAAAAAAARAAAAAwAAABgAAAABAAAAFwAAAAMAAAAZAAAAAwAAAAAAAAAAAAAAAQAAAAUAAAAJAAAABQAAAAUAAAAAAAAAAgAAAAAAAAAGAAAAAAAAABIAAAABAAAACgAAAAAAAAALAAAAAAAAAAQAAAABAAAAAwAAAAUAAAAHAAAABQAAAAgAAAABAAAAAAAAAAAAAAABAAAABQAAABAAAAABAAAABQAAAAAAAAACAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAmAAAAAAAAAAkAAAAAAAAAEwAAAAAAAAAiAAAAAwAAAA4AAAABAAAAFAAAAAMAAAAkAAAAAwAAAAMAAAAAAAAADQAAAAUAAAAdAAAABQAAAAEAAAAAAAAABwAAAAAAAAAVAAAAAAAAAAYAAAABAAAACQAAAAAAAAATAAAAAAAAAAQAAAACAAAADAAAAAUAAAAaAAAABQAAAAAAAAABAAAAAwAAAAAAAAANAAAABQAAAAIAAAABAAAAAQAAAAAAAAAHAAAAAAAAABoAAAAAAAAAKgAAAAAAAAA6AAAAAAAAAB0AAAAAAAAAKwAAAAAAAAA+AAAAAwAAACYAAAABAAAALwAAAAMAAABAAAAAAwAAAAwAAAAAAAAAHAAAAAUAAAAsAAAABQAAAA0AAAAAAAAAGgAAAAAAAAAqAAAAAAAAABUAAAABAAAAHQAAAAAAAAArAAAAAAAAAAQAAAADAAAADwAAAAUAAAAfAAAABQAAAAMAAAABAAAADAAAAAAAAAAcAAAABQAAAAcAAAABAAAADQAAAAAAAAAaAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAxAAAAAAAAACwAAAAAAAAANQAAAAAAAAA9AAAAAwAAADoAAAABAAAAQQAAAAMAAABLAAAAAwAAAA8AAAAAAAAAFgAAAAUAAAAhAAAABQAAABwAAAAAAAAAHwAAAAAAAAApAAAAAAAAACoAAAABAAAALAAAAAAAAAA1AAAAAAAAAAQAAAAEAAAACAAAAAUAAAAQAAAABQAAAAwAAAABAAAADwAAAAAAAAAWAAAABQAAABoAAAABAAAAHAAAAAAAAAAfAAAAAAAAADIAAAAAAAAAMAAAAAAAAAAxAAAAAwAAACAAAAAAAAAAHgAAAAMAAAAhAAAAAwAAABgAAAADAAAAEgAAAAMAAAAQAAAAAwAAAEYAAAAAAAAAQwAAAAAAAABCAAAAAwAAADQAAAADAAAAMgAAAAAAAAAwAAAAAAAAACUAAAADAAAAIAAAAAAAAAAeAAAAAwAAAFMAAAAAAAAAVwAAAAMAAABVAAAAAwAAAEoAAAADAAAARgAAAAAAAABDAAAAAAAAADkAAAABAAAANAAAAAMAAAAyAAAAAAAAABkAAAAAAAAAFwAAAAAAAAAYAAAAAwAAABEAAAAAAAAACwAAAAMAAAAKAAAAAwAAAA4AAAADAAAABgAAAAMAAAACAAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAlAAAAAwAAACMAAAADAAAAGQAAAAAAAAAXAAAAAAAAABsAAAADAAAAEQAAAAAAAAALAAAAAwAAAD8AAAAAAAAAOwAAAAMAAAA5AAAAAwAAADgAAAADAAAALQAAAAAAAAAnAAAAAAAAAC4AAAADAAAAIwAAAAMAAAAZAAAAAAAAACQAAAAAAAAAFAAAAAAAAAAOAAAAAwAAACIAAAAAAAAAEwAAAAMAAAAJAAAAAwAAACYAAAADAAAAFQAAAAMAAAAHAAAAAwAAADcAAAAAAAAAKAAAAAAAAAAbAAAAAwAAADYAAAADAAAAJAAAAAAAAAAUAAAAAAAAADMAAAADAAAAIgAAAAAAAAATAAAAAwAAAEgAAAAAAAAAPAAAAAMAAAAuAAAAAwAAAEkAAAADAAAANwAAAAAAAAAoAAAAAAAAAEcAAAADAAAANgAAAAMAAAAkAAAAAAAAAEAAAAAAAAAALwAAAAAAAAAmAAAAAwAAAD4AAAAAAAAAKwAAAAMAAAAdAAAAAwAAADoAAAADAAAAKgAAAAMAAAAaAAAAAwAAAFQAAAAAAAAARQAAAAAAAAAzAAAAAwAAAFIAAAADAAAAQAAAAAAAAAAvAAAAAAAAAEwAAAADAAAAPgAAAAAAAAArAAAAAwAAAGEAAAAAAAAAWQAAAAMAAABHAAAAAwAAAGIAAAADAAAAVAAAAAAAAABFAAAAAAAAAGAAAAADAAAAUgAAAAMAAABAAAAAAAAAAEsAAAAAAAAAQQAAAAAAAAA6AAAAAwAAAD0AAAAAAAAANQAAAAMAAAAsAAAAAwAAADEAAAADAAAAKQAAAAMAAAAfAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABMAAAAAwAAAFEAAAADAAAASwAAAAAAAABBAAAAAAAAAEIAAAADAAAAPQAAAAAAAAA1AAAAAwAAAGsAAAAAAAAAaAAAAAMAAABgAAAAAwAAAGUAAAADAAAAXgAAAAAAAABWAAAAAAAAAFUAAAADAAAAUQAAAAMAAABLAAAAAAAAADkAAAAAAAAAOwAAAAAAAAA/AAAAAwAAAEoAAAAAAAAATgAAAAMAAABPAAAAAwAAAFMAAAADAAAAXAAAAAMAAABfAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAtAAAAAwAAADQAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAEYAAAADAAAASgAAAAAAAABOAAAAAwAAABgAAAAAAAAAFwAAAAMAAAAZAAAAAwAAACAAAAADAAAAJQAAAAAAAAAnAAAAAwAAADIAAAADAAAANAAAAAAAAAA5AAAAAAAAAC4AAAAAAAAAPAAAAAAAAABIAAAAAwAAADgAAAAAAAAARAAAAAMAAABQAAAAAwAAAD8AAAADAAAATQAAAAMAAABaAAAAAwAAABsAAAAAAAAAKAAAAAMAAAA3AAAAAwAAACMAAAAAAAAALgAAAAAAAAA8AAAAAAAAAC0AAAADAAAAOAAAAAAAAABEAAAAAwAAAA4AAAAAAAAAFAAAAAMAAAAkAAAAAwAAABEAAAADAAAAGwAAAAAAAAAoAAAAAwAAABkAAAADAAAAIwAAAAAAAAAuAAAAAAAAAEcAAAAAAAAAWQAAAAAAAABhAAAAAwAAAEkAAAAAAAAAWwAAAAMAAABnAAAAAwAAAEgAAAADAAAAWAAAAAMAAABpAAAAAwAAADMAAAAAAAAARQAAAAMAAABUAAAAAwAAADYAAAAAAAAARwAAAAAAAABZAAAAAAAAADcAAAADAAAASQAAAAAAAABbAAAAAwAAACYAAAAAAAAALwAAAAMAAABAAAAAAwAAACIAAAADAAAAMwAAAAAAAABFAAAAAwAAACQAAAADAAAANgAAAAAAAABHAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABrAAAAAwAAAGIAAAAAAAAAbgAAAAMAAABzAAAAAwAAAGEAAAADAAAAbwAAAAMAAAB3AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABeAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABoAAAAAAAAAFQAAAADAAAAYgAAAAAAAABuAAAAAwAAADoAAAAAAAAAQQAAAAMAAABLAAAAAwAAAD4AAAADAAAATAAAAAAAAABWAAAAAwAAAEAAAAADAAAAUgAAAAAAAABgAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABTAAAAAwAAAGUAAAAAAAAAZgAAAAMAAABkAAAAAwAAAGsAAAADAAAAcAAAAAMAAAByAAAAAwAAAEIAAAAAAAAAQwAAAAMAAABGAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABXAAAAAAAAAF4AAAADAAAAZQAAAAAAAABmAAAAAwAAADEAAAAAAAAAMAAAAAMAAAAyAAAAAwAAAD0AAAADAAAAQgAAAAAAAABDAAAAAwAAAEsAAAADAAAAUQAAAAAAAABVAAAAAAAAAF8AAAAAAAAAXAAAAAAAAABTAAAAAAAAAE8AAAAAAAAATgAAAAAAAABKAAAAAwAAAD8AAAABAAAAOwAAAAMAAAA5AAAAAwAAAG0AAAAAAAAAbAAAAAAAAABkAAAABQAAAF0AAAABAAAAXwAAAAAAAABcAAAAAAAAAE0AAAABAAAATwAAAAAAAABOAAAAAAAAAHUAAAAEAAAAdgAAAAUAAAByAAAABQAAAGoAAAABAAAAbQAAAAAAAABsAAAAAAAAAFoAAAABAAAAXQAAAAEAAABfAAAAAAAAAFoAAAAAAAAATQAAAAAAAAA/AAAAAAAAAFAAAAAAAAAARAAAAAAAAAA4AAAAAwAAAEgAAAABAAAAPAAAAAMAAAAuAAAAAwAAAGoAAAAAAAAAXQAAAAAAAABPAAAABQAAAGMAAAABAAAAWgAAAAAAAABNAAAAAAAAAFgAAAABAAAAUAAAAAAAAABEAAAAAAAAAHUAAAADAAAAbQAAAAUAAABfAAAABQAAAHEAAAABAAAAagAAAAAAAABdAAAAAAAAAGkAAAABAAAAYwAAAAEAAABaAAAAAAAAAGkAAAAAAAAAWAAAAAAAAABIAAAAAAAAAGcAAAAAAAAAWwAAAAAAAABJAAAAAwAAAGEAAAABAAAAWQAAAAMAAABHAAAAAwAAAHEAAAAAAAAAYwAAAAAAAABQAAAABQAAAHQAAAABAAAAaQAAAAAAAABYAAAAAAAAAG8AAAABAAAAZwAAAAAAAABbAAAAAAAAAHUAAAACAAAAagAAAAUAAABaAAAABQAAAHkAAAABAAAAcQAAAAAAAABjAAAAAAAAAHcAAAABAAAAdAAAAAEAAABpAAAAAAAAAHcAAAAAAAAAbwAAAAAAAABhAAAAAAAAAHMAAAAAAAAAbgAAAAAAAABiAAAAAwAAAGsAAAABAAAAaAAAAAMAAABgAAAAAwAAAHkAAAAAAAAAdAAAAAAAAABnAAAABQAAAHgAAAABAAAAdwAAAAAAAABvAAAAAAAAAHAAAAABAAAAcwAAAAAAAABuAAAAAAAAAHUAAAABAAAAcQAAAAUAAABpAAAABQAAAHYAAAABAAAAeQAAAAAAAAB0AAAAAAAAAHIAAAABAAAAeAAAAAEAAAB3AAAAAAAAAHIAAAAAAAAAcAAAAAAAAABrAAAAAAAAAGQAAAAAAAAAZgAAAAAAAABlAAAAAwAAAFMAAAABAAAAVwAAAAMAAABVAAAAAwAAAHYAAAAAAAAAeAAAAAAAAABzAAAABQAAAGwAAAABAAAAcgAAAAAAAABwAAAAAAAAAFwAAAABAAAAZAAAAAAAAABmAAAAAAAAAHUAAAAAAAAAeQAAAAUAAAB3AAAABQAAAG0AAAABAAAAdgAAAAAAAAB4AAAAAAAAAF8AAAABAAAAbAAAAAEAAAByAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAADAAAABgAAAAIAAAAFAAAAAQAAAAQAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAGFsZ29zLmMAcG9seWZpbGwAYWRqYWNlbnRGYWNlRGlyW3RtcEZpamsuZmFjZV1bZmlqay5mYWNlXSA9PSBLSQBmYWNlaWprLmMAX2ZhY2VJamtQZW50VG9HZW9Cb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbY2VudGVySUpLLmZhY2VdW2ZhY2UyXSA9PSBLSQBfZmFjZUlqa1RvR2VvQm91bmRhcnkAcG9seWdvbi0+bmV4dCA9PSBOVUxMAGxpbmtlZEdlby5jAGFkZE5ld0xpbmtlZFBvbHlnb24AbmV4dCAhPSBOVUxMAGxvb3AgIT0gTlVMTABhZGROZXdMaW5rZWRMb29wAHBvbHlnb24tPmZpcnN0ID09IE5VTEwAYWRkTGlua2VkTG9vcABjb29yZCAhPSBOVUxMAGFkZExpbmtlZENvb3JkAGxvb3AtPmZpcnN0ID09IE5VTEwAaW5uZXJMb29wcyAhPSBOVUxMAG5vcm1hbGl6ZU11bHRpUG9seWdvbgBiYm94ZXMgIT0gTlVMTABjYW5kaWRhdGVzICE9IE5VTEwAZmluZFBvbHlnb25Gb3JIb2xlAGNhbmRpZGF0ZUJCb3hlcyAhPSBOVUxMAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAEAAAABAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAQAAAAABAAAAAAAAAAAAAAEAAAABAAAAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";var Kt=pt;pt+=16;var Jt=function(t,e,r,n){var a,l;"number"==typeof t?(a=!0,l=t):(a=!1,l=t.length);var u,c="string"==typeof e?e:null;if(u=r==St?n:["function"==typeof ae?ae:i,se,i,o][void 0===r?Tt:r](Math.max(l,c?1:e.length)),a){var p;for(n=u,A(0==(3&u)),p=u+(-4&l);n<p;n+=4)At[n>>2]=0;for(p=u+l;n<p;)nt[n++>>0]=0;return u}if("i8"===c)return t.subarray||t.slice?ot.set(t,u):ot.set(new Uint8Array(t),u),u;for(var f,d,m,y=0;y<l;){var g=t[y];f=c||e[y],0!==f?("i64"==f&&(f="i32"),h(u+y,g,f),m!==f&&(d=s(f),m=f),y+=d):y++}return u}([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",Tt),$t=jt,te=Nt,ee=Gt;_t=i(4),dt=mt=a(pt),yt=dt+zt,gt=a(yt),At[_t>>2]=gt,ft=!0;var ie=!1,re="function"==typeof atob?atob:function(t){var e,i,r,n,o,a,s,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{n=A.indexOf(t.charAt(u++)),o=A.indexOf(t.charAt(u++)),a=A.indexOf(t.charAt(u++)),s=A.indexOf(t.charAt(u++)),e=n<<2|o>>4,i=(15&o)<<4|a>>2,r=(3&a)<<6|s,l+=String.fromCharCode(e),64!==a&&(l+=String.fromCharCode(i)),64!==s&&(l+=String.fromCharCode(r))}while(u<t.length);return l}
;W.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:It},W.asmLibraryArg={abort:Z,assert:A,enlargeMemory:w,getTotalMemory:E,abortOnCannotGrowMemory:b,___assert_fail:R,___setErrNo:F,_emscripten_memcpy_big:O,_llvm_ceil_f64:$t,_llvm_fabs_f64:te,_llvm_pow_f64:ee,DYNAMICTOP_PTR:_t,tempDoublePtr:Kt,ABORT:xt,STACKTOP:mt,STACK_MAX:yt,cttz_i8:Jt};var ne=function(t,e,i){"almost asm";function r(t){return!(16777215&hi(t)||hi(t)<=16777215||hi(t)>2147483648)&&(Ke=new Ye(t),$e=new Je(t),ei=new ti(t),ri=new ii(t),oi=new ni(t),si=new ai(t),li=new Ai(t),ci=new ui(t),i=t,!0)}function n(t){t|=0;var e=0;return e=di,di=di+t|0,di=di+15&-16,0|e}function o(){return 0|di}function a(t){t|=0,di=t}function s(t,e){t|=0,e|=0,di=t,mi=e}function A(t,e){t|=0,e|=0,gi||(gi=t,_i=e)}function l(t){t|=0,vi=t}function u(){return 0|vi}function c(t){return t|=0,1+(0|Bi(3*t|0,t+1|0))|0}function h(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0;if(n=1+(0|Bi(3*i|0,i+1|0))|0,o=n<<2,a=0|Ie(o),!(0|f(t,e,i,r,a)))return void ze(a);Ze(0|r,0,n<<3|0),Ze(0|a,0,0|o),d(t,e,i,r,a,n,0),ze(a)}function p(t,e,i,r,n){t|=0,e|=0,i|=0,r|=0,n|=0;var o=0;o=1+(0|Bi(3*i|0,i+1|0))|0,0|f(t,e,i,r,n)&&(Ze(0|r,0,o<<3|0),Ze(0|n,0,o<<2|0),d(t,e,i,r,n,o,0))}function f(t,e,i,r,n){t|=0,e|=0,i|=0,r|=0,n|=0;var o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0;if(f=di,di=di+16|0,p=f,o=r,ei[o>>2]=t,ei[o+4>>2]=e,o=0!=(0|n),o&&(ei[n>>2]=0),0|St(t,e))return p=1,di=f,0|p;ei[p>>2]=0;t:do{if(o)for(l=0,u=0,c=1,h=1,o=t;;){if((0|c)>(0|i)){o=0;break t}if(!(l|u)){if(o=0|m(o,e,4,p),e=vi,0==(0|o)&0==(0|e)){o=2;break t}if(0|St(o,e)){o=1;break t}}if(o=0|m(o,e,0|ei[1928+(u<<2)>>2],p),e=vi,0==(0|o)&0==(0|e)){o=2;break t}if(t=r+(h<<3)|0,ei[t>>2]=o,ei[t+4>>2]=e,ei[n+(h<<2)>>2]=c,t=l+1|0,a=(0|t)==(0|c),s=u+1|0,A=6==(0|s),0|St(o,e)){o=1;break}l=a?0:t,u=a?A?0:s:u,c=c+(A&a&1)|0,h=h+1|0}else for(l=0,u=0,c=1,h=1,o=t;;){if((0|c)>(0|i)){o=0;break t}if(!(l|u)){if(o=0|m(o,e,4,p),e=vi,0==(0|o)&0==(0|e)){o=2;break t}if(0|St(o,e)){o=1;break t}}if(o=0|m(o,e,0|ei[1928+(u<<2)>>2],p),e=vi,0==(0|o)&0==(0|e)){o=2;break t}if(t=r+(h<<3)|0,ei[t>>2]=o,ei[t+4>>2]=e,t=l+1|0,a=(0|t)==(0|c),s=u+1|0,A=6==(0|s),0|St(o,e)){o=1;break}l=a?0:t,u=a?A?0:s:u,c=c+(A&a&1)|0,h=h+1|0}}while(0);return p=o,di=f,0|p}function d(t,e,i,r,n,o,a){t|=0,e|=0,i|=0,r|=0,n|=0,o|=0,a|=0;var s=0,A=0,l=0,u=0,c=0,h=0,p=0;if(c=di,di=di+16|0,u=c,0==(0|t)&0==(0|e))return void(di=c);if(s=0|qe(0|t,0|e,0|o,((0|o)<0)<<31>>31|0),A=r+(s<<3)|0,h=A,p=0|ei[h>>2],h=0|ei[h+4>>2],l=(0|p)==(0|t)&(0|h)==(0|e),!(0==(0|p)&0==(0|h)|l))do{s=(s+1|0)%(0|o)|0,A=r+(s<<3)|0,p=A,h=0|ei[p>>2],p=0|ei[p+4>>2],l=(0|h)==(0|t)&(0|p)==(0|e)}while(!(0==(0|h)&0==(0|p)|l));return s=n+(s<<2)|0,(l?(0|ei[s>>2])<=(0|a):0)?void(di=c):(p=A,ei[p>>2]=t,ei[p+4>>2]=e,ei[s>>2]=a,(0|a)>=(0|i)?void(di=c):(p=a+1|0,ei[u>>2]=0,h=0|m(t,e,2,u),d(h,vi,i,r,n,o,p),ei[u>>2]=0,h=0|m(t,e,3,u),d(h,vi,i,r,n,o,p),ei[u>>2]=0,h=0|m(t,e,1,u),d(h,vi,i,r,n,o,p),ei[u>>2]=0,h=0|m(t,e,5,u),d(h,vi,i,r,n,o,p),ei[u>>2]=0,h=0|m(t,e,4,u),d(h,vi,i,r,n,o,p),ei[u>>2]=0,h=0|m(t,e,6,u),d(h,vi,i,r,n,o,p),void(di=c)))}function m(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0;if((0|ei[r>>2])>0){n=0;do{i=0|X(i),n=n+1|0}while((0|n)<(0|ei[r>>2]))}for(A=0|Ge(0|t,0|e,45),l=127&A,s=0|It(t,e),o=0|Ge(0|t,0|e,52),o=(15&o)-1|0;;){if(-1==(0|o)){a=5;break}if(u=3*(14-o|0)|0,c=0|Ge(0|t,0|e,0|u),c&=7,h=0==(0|Ot(o+1|0)),n=0|Qe(7,0,0|u),e&=~vi,u=0|Qe(0|ei[(h?2344:1952)+(28*c|0)+(i<<2)>>2],0,0|u),i=0|ei[(h?2540:2148)+(28*c|0)+(i<<2)>>2],t=u|t&~n,e|=vi,n=0==(0|i)){i=0;break}o=o+((1^n)<<31>>31)|0}5==(0|a)&&(h=0|ei[2736+(28*l|0)+(i<<2)>>2],c=0|Qe(0|h,0,45),t|=c,e=vi|-1040385&e,i=0|ei[6152+(28*l|0)+(i<<2)>>2],127==(127&h|0)&&(h=0|Qe(0|ei[2736+(28*l|0)+20>>2],0,45),i=0|ei[6152+(28*l|0)+20>>2],t=0|Bt(h|t,vi|-1040385&e),ei[r>>2]=1+(0|ei[r>>2]),e=vi)),a=0|Ge(0|t,0|e,45),a&=127;t:do{if(0|b(a)){e:do{if(1==(0|It(t,e))){if((0|l)!=(0|a)){if(0|S(a,0|ei[9568+(28*l|0)>>2])){t=0|Lt(t,e),o=1,e=vi;break}t=0|Bt(t,e),o=1,e=vi;break}switch(0|s){case 5:t=0|Lt(t,e),ei[r>>2]=5+(0|ei[r>>2]),o=0,e=vi;break e;case 3:t=0|Bt(t,e),ei[r>>2]=1+(0|ei[r>>2]),o=0,e=vi;break e;default:return c=0,h=0,vi=c,0|h}}else o=0}while(0);if((0|i)>0){n=0;do{t=0|zt(t,e),e=vi,n=n+1|0}while((0|n)!=(0|i))}if((0|l)!=(0|a)){if(!(0|w(a))){if(0!=(0|o)|5!=(0|It(t,e)))break;ei[r>>2]=1+(0|ei[r>>2]);break}switch(127&A){case 8:case 118:break t}3!=(0|It(t,e))&&(ei[r>>2]=1+(0|ei[r>>2]))}}else if((0|i)>0){n=0;do{t=0|Bt(t,e),e=vi,n=n+1|0}while((0|n)!=(0|i))}}while(0);return ei[r>>2]=((0|ei[r>>2])+i|0)%6|0,c=e,h=t,vi=c,0|h}function y(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0;if(u=di,di=di+16|0,l=u,!i)return l=r,ei[l>>2]=t,ei[l+4>>2]=e,l=0,di=u,0|l;ei[l>>2]=0;t:do{if(0|St(t,e))t=1;else{if(o=(0|i)>0){n=0,A=t;do{if(A=0|m(A,e,4,l),e=vi,0==(0|A)&0==(0|e)){t=2;break t}if(n=n+1|0,0|St(A,e)){t=1;break t}}while((0|n)<(0|i));if(s=r,ei[s>>2]=A,ei[s+4>>2]=e,s=i+-1|0,o){for(a=0,o=1,n=A,t=e;;){if(n=0|m(n,t,2,l),t=vi,0==(0|n)&0==(0|t)){t=2;break t}if(c=r+(o<<3)|0,ei[c>>2]=n,ei[c+4>>2]=t,o=o+1|0,0|St(n,t)){t=1;break t}if((0|(a=a+1|0))>=(0|i)){a=0;break}}for(;;){if(n=0|m(n,t,3,l),t=vi,0==(0|n)&0==(0|t)){t=2;break t}if(c=r+(o<<3)|0,ei[c>>2]=n,ei[c+4>>2]=t,o=o+1|0,0|St(n,t)){t=1;break t}if((0|(a=a+1|0))>=(0|i)){a=0;break}}for(;;){if(n=0|m(n,t,1,l),t=vi,0==(0|n)&0==(0|t)){t=2;break t}if(c=r+(o<<3)|0,ei[c>>2]=n,ei[c+4>>2]=t,o=o+1|0,0|St(n,t)){t=1;break t}if((0|(a=a+1|0))>=(0|i)){a=0;break}}for(;;){if(n=0|m(n,t,5,l),t=vi,0==(0|n)&0==(0|t)){t=2;break t}if(c=r+(o<<3)|0,ei[c>>2]=n,ei[c+4>>2]=t,o=o+1|0,0|St(n,t)){t=1;break t}if((0|(a=a+1|0))>=(0|i)){a=0;break}}for(;;){if(n=0|m(n,t,4,l),t=vi,0==(0|n)&0==(0|t)){t=2;break t}if(c=r+(o<<3)|0,ei[c>>2]=n,ei[c+4>>2]=t,o=o+1|0,0|St(n,t)){t=1;break t}if((0|(a=a+1|0))>=(0|i)){a=0;break}}for(;;){if(n=0|m(n,t,6,l),t=vi,0==(0|n)&0==(0|t)){t=2;break t}if((0|a)!=(0|s)){if(c=r+(o<<3)|0,ei[c>>2]=n,ei[c+4>>2]=t,0|St(n,t)){t=1;break t}o=o+1|0}if((0|(a=a+1|0))>=(0|i)){a=A,o=e;break}}}else a=A,n=A,o=e,t=e}else a=r,ei[a>>2]=t,ei[a+4>>2]=e,a=t,n=t,o=e,t=e;t=1&((0|a)!=(0|n)|(0|o)!=(0|t))}}while(0);return c=t,di=u,0|c}function g(t,e){t|=0,e|=0;var i=0,r=0;return i=di,di=di+32|0,r=i,le(t,r),e=0|z(r,e),e=1+(0|Bi(3*e|0,e+1|0))|0,di=i,0|e}function _(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0;if(c=di,di=di+32|0,r=c+16|0,l=c,u=0|Ie(32+(ei[t+8>>2]<<5)|0),u||Fi(22219,21828,672,21836),ue(t,u),a=0|z(u,e),s=0|Bi(3*a|0,a+1|0),A=s+1|0,M(u,r),e=0|Ft(r,e),r=vi,n=A<<2,o=0|Ie(n),0|f(e,r,a,i,o)&&(Ze(0|i,0,A<<3|0),Ze(0|o,0,0|n),d(e,r,a,i,o,A,0)),ze(o),(0|s)<0)return ze(u),void(di=c);r=l+8|0,e=0;do{n=i+(e<<3)|0,a=n,o=0|ei[a>>2],a=0|ei[a+4>>2],!!(0==(0|o)&0==(0|a))||(Nt(o,a,l),h=+ct(+ci[l>>3]),ci[l>>3]=h,h=+ht(+ci[r>>3]),ci[r>>3]=h,0|ce(t,u,l))||(s=n,ei[s>>2]=0,ei[s+4>>2]=0),e=e+1|0}while((0|e)!=(0|A));ze(u),di=c}function v(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0,s=0,A=0,l=0;if(l=di,di=di+176|0,A=l,(0|e)<1)return Ee(i,0,0),void(di=l);a=t,a=0|Ge(0|ei[a>>2],0|ei[a+4>>2],52),Ee(i,(0|e)>6?e:6,15&a),a=0;do{if(r=t+(a<<3)|0,jt(0|ei[r>>2],0|ei[r+4>>2],A),(0|(r=0|ei[A>>2]))>0){s=0;do{o=A+8+(s<<4)|0,s=s+1|0,r=A+8+(((0|s)%(0|r)|0)<<4)|0,n=0|Pe(i,r,o),n?ke(i,n):Ce(i,o,r),r=0|ei[A>>2]}while((0|s)<(0|r))}a=a+1|0}while((0|a)!=(0|e));di=l}function x(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0;if(o=di,di=di+32|0,r=o,n=o+16|0,v(t,e,n),ei[i>>2]=0,ei[i+4>>2]=0,ei[i+8>>2]=0,!(t=0|Se(n)))return te(i),Te(n),void(di=o);do{e=0|Kt(i);do{Jt(e,t),a=t+16|0,ei[r>>2]=ei[a>>2],ei[r+4>>2]=ei[a+4>>2],ei[r+8>>2]=ei[a+8>>2],ei[r+12>>2]=ei[a+12>>2],ke(n,t),t=0|Me(n,r)}while(0!=(0|t));t=0|Se(n)}while(0!=(0|t));te(i),Te(n),di=o}function b(t){return t|=0,0|ei[9568+(28*t|0)+16>>2]}function w(t){return 4==(0|(t|=0))|117==(0|t)|0}function E(t){return t|=0,0|ei[12984+(216*(0|ei[t>>2])|0)+(72*(0|ei[t+4>>2])|0)+(24*(0|ei[t+8>>2])|0)+(ei[t+12>>2]<<3)>>2]}function T(t){return t|=0,0|ei[12984+(216*(0|ei[t>>2])|0)+(72*(0|ei[t+4>>2])|0)+(24*(0|ei[t+8>>2])|0)+(ei[t+12>>2]<<3)+4>>2]}function S(t,e){return t|=0,e|=0,(0|ei[9568+(28*t|0)+20>>2])==(0|e)?0|(e=1):0|(e=(0|ei[9568+(28*t|0)+24>>2])==(0|e))}function k(t,e){return t|=0,e|=0,0|ei[2736+(28*t|0)+(e<<2)>>2]}function C(t,e){t|=0,e|=0;var i=0;return(0|ei[2736+(28*t|0)>>2])==(0|e)?0|(i=0):(i=(0|ei[2736+(28*t|0)+4>>2])==(0|e),i?0|(i&=1):(0|ei[2736+(28*t|0)+8>>2])==(0|e)?0|(i=2):(0|ei[2736+(28*t|0)+12>>2])==(0|e)?0|(i=3):(0|ei[2736+(28*t|0)+16>>2])==(0|e)?0|(i=4):(0|ei[2736+(28*t|0)+20>>2])==(0|e)?0|(i=5):0|((0|ei[2736+(28*t|0)+24>>2])==(0|e)?6:7))}function P(t){return t|=0,+ci[t+16>>3]<+ci[t+24>>3]|0}function M(t,e){t|=0,e|=0;var i=0,r=0;ci[e>>3]=.5*(+ci[t>>3]+ +ci[t+8>>3]),i=+ci[t+16>>3],r=+ci[t+24>>3],i=+ht(.5*(r+(i<r?i+6.283185307179586:i))),ci[e+8>>3]=i}function I(t,e){t|=0,e|=0;var i=0,r=0,n=0;i=+ci[e>>3];do{if(i>=+ci[t+8>>3]?i<=+ci[t>>3]:0){if(r=+ci[t+16>>3],i=+ci[t+24>>3],n=+ci[e+8>>3],e=n>=i,t=n<=r,r<i){if(e){t=1;break}break}if(!e){t=0;break}break}t=0}while(0);return 0|t}function z(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0;return i=di,di=di+224|0,n=i+200|0,r=i+32|0,a=i+16|0,s=i,c=t+8|0,ci[a>>3]=.5*(+ci[t>>3]+ +ci[c>>3]),A=t+16|0,o=+ci[A>>3],u=+ci[t+24>>3],o=+ht(.5*(u+(o<u?o+6.283185307179586:o))),ci[a+8>>3]=o,o=+ci[t>>3],u=+bi(+o),l=+ci[c>>3],t=u>+bi(+l),ci[s>>3]=t?l:o,ci[s+8>>3]=+ci[A>>3],o=+pt(a,s),t=0|Ft(a,e),e=vi,Nt(t,e,n),jt(t,e,r),e=~~+zi(+o/(1.5*+pt(n,r+8|0))),di=i,0|e}function B(t,e,i,r){t|=0,e|=0,i|=0,r|=0,ei[t>>2]=e,ei[t+4>>2]=i,ei[t+8>>2]=r}function D(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0;c=e+8|0,ei[c>>2]=0,A=+ci[t>>3],i=+bi(+A),l=+ci[t+8>>3],a=+bi(+l)/.8660254037844386,i+=.5*a,r=~~i,t=~~a,i-=+(0|r),a-=+(0|t);do{if(i<.5){if(i<.3333333333333333){ei[e>>2]=r,t=(1&!(a<.5*(i+1)))+t|0,ei[e+4>>2]=t;break}h=1-i,t=(1&!(a<h))+t|0,ei[e+4>>2]=t,r=(h<=a&a<2*i&1)+r|0,ei[e>>2]=r;break}if(i<.6666666666666666){u=!(a<1-i),t=(1&u)+t|0,ei[e+4>>2]=t,r=(1&(u|!(2*i-1<a)))+r|0,ei[e>>2]=r;break}r=r+1|0,ei[e>>2]=r,t=(1&!(a<.5*i))+t|0,ei[e+4>>2]=t;break}while(0);A<0&&(1&t?(u=(t+1|0)/2|0,u=0|Ve(0|r,((0|r)<0)<<31>>31|0,0|u,((0|u)<0)<<31>>31|0),i=+(0|r)-(2*(+(u>>>0)+4294967296*+(0|vi))+1)):(u=(0|t)/2|0,u=0|Ve(0|r,((0|r)<0)<<31>>31|0,0|u,((0|u)<0)<<31>>31|0),i=+(0|r)-2*(+(u>>>0)+4294967296*+(0|vi))),r=~~i,ei[e>>2]=r),u=e+4|0,l<0&&(r=r-((1|t<<1)/2|0)|0,ei[e>>2]=r,t=0-t|0,ei[u>>2]=t),(0|r)<0?(t=t-r|0,ei[u>>2]=t,o=0-r|0,ei[c>>2]=o,ei[e>>2]=0,r=0):o=0,(0|t)<0&&(r=r-t|0,ei[e>>2]=r,o=o-t|0,ei[c>>2]=o,ei[u>>2]=0,t=0),s=r-o|0,n=t-o|0,(0|o)<0&&(ei[e>>2]=s,ei[u>>2]=n,ei[c>>2]=0,t=n,r=s,o=0),n=(0|t)<(0|r)?t:r,(0|(n=(0|o)<(0|n)?o:n))<=0||(ei[e>>2]=r-n,ei[u>>2]=t-n,ei[c>>2]=o-n)}function L(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0;e=0|ei[t>>2],a=t+4|0,i=0|ei[a>>2],(0|e)<0&&(i=i-e|0,ei[a>>2]=i,o=t+8|0,ei[o>>2]=(0|ei[o>>2])-e,ei[t>>2]=0,e=0),(0|i)<0?(e=e-i|0,ei[t>>2]=e,o=t+8|0,n=(0|ei[o>>2])-i|0,ei[o>>2]=n,ei[a>>2]=0,i=0):(n=t+8|0,o=n,n=0|ei[n>>2]),(0|n)<0&&(e=e-n|0,ei[t>>2]=e,i=i-n|0,ei[a>>2]=i,ei[o>>2]=0,n=0),r=(0|i)<(0|e)?i:e,(0|(r=(0|n)<(0|r)?n:r))<=0||(ei[t>>2]=e-r,ei[a>>2]=i-r,ei[o>>2]=n-r)}function R(t,e){t|=0,e|=0;var i=0,r=0;r=0|ei[t+8>>2],i=+((0|ei[t+4>>2])-r|0),ci[e>>3]=+((0|ei[t>>2])-r|0)-.5*i,ci[e+8>>3]=.8660254037844386*i}function O(t,e,i){t|=0,e|=0,i|=0,ei[i>>2]=(0|ei[e>>2])+(0|ei[t>>2]),ei[i+4>>2]=(0|ei[e+4>>2])+(0|ei[t+4>>2]),ei[i+8>>2]=(0|ei[e+8>>2])+(0|ei[t+8>>2])}function F(t,e,i){t|=0,e|=0,i|=0,ei[i>>2]=(0|ei[t>>2])-(0|ei[e>>2]),ei[i+4>>2]=(0|ei[t+4>>2])-(0|ei[e+4>>2]),ei[i+8>>2]=(0|ei[t+8>>2])-(0|ei[e+8>>2])}function U(t,e){t|=0,e|=0;var i=0,r=0;i=0|Bi(0|ei[t>>2],e),ei[t>>2]=i,i=t+4|0,r=0|Bi(0|ei[i>>2],e),ei[i>>2]=r,t=t+8|0,e=0|Bi(0|ei[t>>2],e),ei[t>>2]=e}function V(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0;a=0|ei[t>>2],s=(0|a)<0,r=(0|ei[t+4>>2])-(s?a:0)|0,o=(0|r)<0,n=(o?0-r|0:0)+((0|ei[t+8>>2])-(s?a:0))|0,i=(0|n)<0,t=i?0:n,e=(o?0:r)-(i?n:0)|0,n=(s?0:a)-(o?r:0)-(i?n:0)|0,i=(0|e)<(0|n)?e:n,i=(0|t)<(0|i)?t:i,r=(0|i)>0,t=t-(r?i:0)|0,e=e-(r?i:0)|0;t:do{switch(n-(r?i:0)|0){case 0:switch(0|e){case 0:return 0|(s=0==(0|t)?0:1==(0|t)?1:7);case 1:return 0|(s=0==(0|t)?2:1==(0|t)?3:7);default:break t}case 1:switch(0|e){case 0:return 0|(s=0==(0|t)?4:1==(0|t)?5:7);case 1:if(t)break t;return 0|(t=6);default:break t}}}while(0);return 0|(s=7)}function N(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0;a=t+8|0,o=0|ei[a>>2],e=(0|ei[t>>2])-o|0,s=t+4|0,o=(0|ei[s>>2])-o|0,i=0|De(+((3*e|0)-o|0)/7),ei[t>>2]=i,e=0|De(+((o<<1)+e|0)/7),ei[s>>2]=e,ei[a>>2]=0,(0|i)<0?(e=e-i|0,ei[s>>2]=e,r=0-i|0,ei[a>>2]=r,ei[t>>2]=0,i=0):r=0,(0|e)<0&&(i=i-e|0,ei[t>>2]=i,r=r-e|0,ei[a>>2]=r,ei[s>>2]=0,e=0),o=i-r|0,n=e-r|0,(0|r)<0&&(ei[t>>2]=o,ei[s>>2]=n,ei[a>>2]=0,e=n,i=o,r=0),n=(0|e)<(0|i)?e:i,(0|(n=(0|r)<(0|n)?r:n))<=0||(ei[t>>2]=i-n,ei[s>>2]=e-n,ei[a>>2]=r-n)}function j(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0;a=t+8|0,o=0|ei[a>>2],e=(0|ei[t>>2])-o|0,s=t+4|0,o=(0|ei[s>>2])-o|0,i=0|De(+((e<<1)+o|0)/7),ei[t>>2]=i,e=0|De(+((3*o|0)-e|0)/7),ei[s>>2]=e,ei[a>>2]=0,(0|i)<0?(e=e-i|0,ei[s>>2]=e,r=0-i|0,ei[a>>2]=r,ei[t>>2]=0,i=0):r=0,(0|e)<0&&(i=i-e|0,ei[t>>2]=i,r=r-e|0,ei[a>>2]=r,ei[s>>2]=0,e=0),o=i-r|0,n=e-r|0,(0|r)<0&&(ei[t>>2]=o,ei[s>>2]=n,ei[a>>2]=0,e=n,i=o,r=0),n=(0|e)<(0|i)?e:i,(0|(n=(0|r)<(0|n)?r:n))<=0||(ei[t>>2]=i-n,ei[s>>2]=e-n,ei[a>>2]=r-n)}function q(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0;i=0|ei[t>>2],a=t+4|0,e=0|ei[a>>2],s=t+8|0,o=0|ei[s>>2],r=e+(3*i|0)|0,ei[t>>2]=r,e=o+(3*e|0)|0,ei[a>>2]=e,i=(3*o|0)+i|0,ei[s>>2]=i,(0|r)<0&&(e=e-r|0,ei[a>>2]=e,i=i-r|0,ei[s>>2]=i,ei[t>>2]=0,r=0),(0|e)<0&&(r=r-e|0,ei[t>>2]=r,i=i-e|0,ei[s>>2]=i,ei[a>>2]=0,e=0),o=r-i|0,n=e-i|0,(0|i)<0?(ei[t>>2]=o,ei[a>>2]=n,ei[s>>2]=0,e=n,n=o,i=0):n=r,r=(0|e)<(0|n)?e:n,(0|(r=(0|i)<(0|r)?i:r))<=0||(ei[t>>2]=n-r,ei[a>>2]=e-r,ei[s>>2]=i-r)}function G(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0;r=0|ei[t>>2],a=t+4|0,e=0|ei[a>>2],s=t+8|0,o=0|ei[s>>2],i=(3*e|0)+r|0,ei[a>>2]=i,r=o+(3*r|0)|0,ei[t>>2]=r,e=(3*o|0)+e|0,ei[s>>2]=e,(0|r)<0&&(i=i-r|0,ei[a>>2]=i,e=e-r|0,ei[s>>2]=e,ei[t>>2]=0,r=0),(0|i)<0&&(r=r-i|0,ei[t>>2]=r,e=e-i|0,ei[s>>2]=e,ei[a>>2]=0,i=0),o=r-e|0,n=i-e|0,(0|e)<0?(ei[t>>2]=o,ei[a>>2]=n,ei[s>>2]=0,i=n,n=o,e=0):n=r,r=(0|i)<(0|n)?i:n,(0|(r=(0|e)<(0|r)?e:r))<=0||(ei[t>>2]=n-r,ei[a>>2]=i-r,ei[s>>2]=e-r)}function Q(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0,s=0;(e+-1|0)>>>0>=6||(r=(0|ei[17304+(12*e|0)>>2])+(0|ei[t>>2])|0,ei[t>>2]=r,s=t+4|0,i=(0|ei[17304+(12*e|0)+4>>2])+(0|ei[s>>2])|0,ei[s>>2]=i,a=t+8|0,e=(0|ei[17304+(12*e|0)+8>>2])+(0|ei[a>>2])|0,ei[a>>2]=e,(0|r)<0&&(i=i-r|0,ei[s>>2]=i,e=e-r|0,ei[a>>2]=e,ei[t>>2]=0,r=0),(0|i)<0&&(r=r-i|0,ei[t>>2]=r,e=e-i|0,ei[a>>2]=e,ei[s>>2]=0,i=0),o=r-e|0,n=i-e|0,(0|e)<0?(ei[t>>2]=o,ei[s>>2]=n,ei[a>>2]=0,r=o,e=0):n=i,i=(0|n)<(0|r)?n:r,(0|(i=(0|e)<(0|i)?e:i))<=0||(ei[t>>2]=r-i,ei[s>>2]=n-i,ei[a>>2]=e-i))}function H(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0;r=0|ei[t>>2],a=t+4|0,e=0|ei[a>>2],s=t+8|0,o=0|ei[s>>2],i=e+r|0,ei[a>>2]=i,r=r+o|0,ei[t>>2]=r,e=o+e|0,ei[s>>2]=e,(0|r)<0&&(i=i-r|0,ei[a>>2]=i,e=e-r|0,ei[s>>2]=e,ei[t>>2]=0,r=0),(0|i)<0&&(r=r-i|0,ei[t>>2]=r,e=e-i|0,ei[s>>2]=e,ei[a>>2]=0,i=0),o=r-e|0,n=i-e|0,(0|e)<0?(ei[t>>2]=o,ei[a>>2]=n,ei[s>>2]=0,i=n,n=o,e=0):n=r,r=(0|i)<(0|n)?i:n,(0|(r=(0|e)<(0|r)?e:r))<=0||(ei[t>>2]=n-r,ei[a>>2]=i-r,ei[s>>2]=e-r)}function Z(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0;e=0|ei[t>>2],a=t+4|0,i=0|ei[a>>2],s=t+8|0,o=0|ei[s>>2],r=i+e|0,ei[t>>2]=r,i=o+i|0,ei[a>>2]=i,e=o+e|0,ei[s>>2]=e,(0|r)<0&&(i=i-r|0,ei[a>>2]=i,e=e-r|0,ei[s>>2]=e,ei[t>>2]=0,r=0),(0|i)<0&&(r=r-i|0,ei[t>>2]=r,e=e-i|0,ei[s>>2]=e,ei[a>>2]=0,i=0),o=r-e|0,n=i-e|0,(0|e)<0?(ei[t>>2]=o,ei[a>>2]=n,ei[s>>2]=0,i=n,n=o,e=0):n=r,r=(0|i)<(0|n)?i:n,(0|(r=(0|e)<(0|r)?e:r))<=0||(ei[t>>2]=n-r,ei[a>>2]=i-r,ei[s>>2]=e-r)}function X(t){switch(0|(t|=0)){case 1:t=5;break;case 5:t=4;break;case 4:t=6;break;case 6:t=2;break;case 2:t=3;break;case 3:t=1}return 0|t}function W(t){switch(0|(t|=0)){case 1:t=3;break;case 3:t=2;break;case 2:t=6;break;case 6:t=4;break;case 4:t=5;break;case 5:t=1}return 0|t}function Y(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0;i=0|ei[t>>2],a=t+4|0,e=0|ei[a>>2],s=t+8|0,o=0|ei[s>>2],r=e+(i<<1)|0,ei[t>>2]=r,e=o+(e<<1)|0,ei[a>>2]=e,i=(o<<1)+i|0,ei[s>>2]=i,(0|r)<0&&(e=e-r|0,ei[a>>2]=e,i=i-r|0,ei[s>>2]=i,ei[t>>2]=0,r=0),(0|e)<0&&(r=r-e|0,ei[t>>2]=r,i=i-e|0,ei[s>>2]=i,ei[a>>2]=0,e=0),o=r-i|0,n=e-i|0,(0|i)<0?(ei[t>>2]=o,ei[a>>2]=n,ei[s>>2]=0,e=n,n=o,i=0):n=r,r=(0|e)<(0|n)?e:n,(0|(r=(0|i)<(0|r)?i:r))<=0||(ei[t>>2]=n-r,ei[a>>2]=e-r,ei[s>>2]=i-r)}function K(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0;r=0|ei[t>>2],a=t+4|0,e=0|ei[a>>2],s=t+8|0,o=0|ei[s>>2],i=(e<<1)+r|0,ei[a>>2]=i,r=o+(r<<1)|0,ei[t>>2]=r,e=(o<<1)+e|0,ei[s>>2]=e,(0|r)<0&&(i=i-r|0,ei[a>>2]=i,e=e-r|0,ei[s>>2]=e,ei[t>>2]=0,r=0),(0|i)<0&&(r=r-i|0,ei[t>>2]=r,e=e-i|0,ei[s>>2]=e,ei[a>>2]=0,i=0),o=r-e|0,n=i-e|0,(0|e)<0?(ei[t>>2]=o,ei[a>>2]=n,ei[s>>2]=0,i=n,n=o,e=0):n=r,r=(0|i)<(0|n)?i:n,(0|(r=(0|e)<(0|r)?e:r))<=0||(ei[t>>2]=n-r,ei[a>>2]=i-r,ei[s>>2]=e-r)}function J(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0,s=0;return a=(0|ei[t>>2])-(0|ei[e>>2])|0,s=(0|a)<0,r=(0|ei[t+4>>2])-(0|ei[e+4>>2])-(s?a:0)|0,o=(0|r)<0,n=(s?0-a|0:0)+(0|ei[t+8>>2])-(0|ei[e+8>>2])+(o?0-r|0:0)|0,t=(0|n)<0,e=t?0:n,i=(o?0:r)-(t?n:0)|0,n=(s?0:a)-(o?r:0)-(t?n:0)|0,t=(0|i)<(0|n)?i:n,t=(0|e)<(0|t)?e:t,r=(0|t)>0,e=e-(r?t:0)|0,i=i-(r?t:0)|0,t=n-(r?t:0)|0,t=(0|t)>-1?t:0-t|0,i=(0|i)>-1?i:0-i|0,e=(0|e)>-1?e:0-e|0,e=(0|i)>(0|e)?i:e,0|((0|t)>(0|e)?t:e)}function $(t,e){t|=0,e|=0;var i=0;i=0|ei[t+8>>2],ei[e>>2]=(0|ei[t>>2])-i,ei[e+4>>2]=(0|ei[t+4>>2])-i}function tt(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0,s=0;r=0|ei[t>>2],ei[e>>2]=r,t=0|ei[t+4>>2],a=e+4|0,ei[a>>2]=t,s=e+8|0,ei[s>>2]=0,(0|r)<0?(t=t-r|0,ei[a>>2]=t,i=0-r|0,ei[s>>2]=i,ei[e>>2]=0,r=0):i=0,(0|t)<0&&(r=r-t|0,ei[e>>2]=r,i=i-t|0,ei[s>>2]=i,ei[a>>2]=0,t=0),o=r-i|0,n=t-i|0,(0|i)<0?(ei[e>>2]=o,ei[a>>2]=n,ei[s>>2]=0,t=n,n=o,i=0):n=r,r=(0|t)<(0|n)?t:n,(0|(r=(0|i)<(0|r)?i:r))<=0||(ei[e>>2]=n-r,ei[a>>2]=t-r,ei[s>>2]=i-r)}function et(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0;r=di,di=di+16|0,n=r,it(t,e,i,n),D(n,i+4|0),di=r}function it(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0,s=0,A=0;if(A=di,di=di+32|0,o=A,we(t,o),ei[i>>2]=0,n=+be(328,o),a=+be(352,o),a<n&&(ei[i>>2]=1,n=a),a=+be(376,o),a<n&&(ei[i>>2]=2,n=a),a=+be(400,o),a<n&&(ei[i>>2]=3,n=a),a=+be(424,o),a<n&&(ei[i>>2]=4,n=a),a=+be(448,o),a<n&&(ei[i>>2]=5,n=a),a=+be(472,o),a<n&&(ei[i>>2]=6,n=a),a=+be(496,o),a<n&&(ei[i>>2]=7,n=a),a=+be(520,o),a<n&&(ei[i>>2]=8,n=a),a=+be(544,o),a<n&&(ei[i>>2]=9,n=a),a=+be(568,o),a<n&&(ei[i>>2]=10,n=a),a=+be(592,o),a<n&&(ei[i>>2]=11,n=a),a=+be(616,o),a<n&&(ei[i>>2]=12,n=a),a=+be(640,o),a<n&&(ei[i>>2]=13,n=a),a=+be(664,o),a<n&&(ei[i>>2]=14,n=a),a=+be(688,o),a<n&&(ei[i>>2]=15,n=a),a=+be(712,o),a<n&&(ei[i>>2]=16,n=a),a=+be(736,o),a<n&&(ei[i>>2]=17,n=a),a=+be(760,o),a<n&&(ei[i>>2]=18,n=a),a=+be(784,o),a<n&&(ei[i>>2]=19,n=a),(a=+Ci(+(1-.5*n)))<1e-16)return ei[r>>2]=0,ei[r+4>>2]=0,ei[r+8>>2]=0,ei[r+12>>2]=0,void(di=A);if(i=0|ei[i>>2],n=+ci[808+(24*i|0)>>3],n=+At(n-+At(+ft(8+(i<<4)|0,t))),s=0|Ot(e)?+At(n+-.3334731722518321):n,n=+ki(+a)/.381966011250105,(0|e)>0){o=0;do{n*=2.6457513110645907,o=o+1|0}while((0|o)!=(0|e))}a=n*+Ti(+s),ci[r>>3]=a,s=n*+Si(+s),ci[r+8>>3]=s,di=A}function rt(t,e,i,r,n){t|=0,e|=0,i|=0,r|=0,n|=0;var o=0,a=0;if((o=+_e(t))<1e-16)return e=8+(e<<4)|0,ei[n>>2]=ei[e>>2],ei[n+4>>2]=ei[e+4>>2],ei[n+8>>2]=ei[e+8>>2],void(ei[n+12>>2]=ei[e+12>>2]);if(a=+Ii(+ +ci[t+8>>3],+ +ci[t>>3]),(0|i)>0){t=0;do{o/=2.6457513110645907,t=t+1|0}while((0|t)!=(0|i))}r?(o/=3,i=0==(0|Ot(i)),o=+Mi(.381966011250105*(i?o:o/2.6457513110645907))):(o=+Mi(.381966011250105*o),0|Ot(i)&&(a=+At(a+.3334731722518321))),dt(8+(e<<4)|0,+At(+ci[808+(24*e|0)>>3]-a),o,n)}function nt(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0;r=di,di=di+16|0,n=r,R(t+4|0,n),rt(n,0|ei[t>>2],e,0,i),di=r}function ot(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0,d=0,m=0,y=0,g=0,_=0,v=0,x=0,b=0,w=0,E=0,T=0,S=0,k=0,C=0,P=0;k=di,di=di+384|0,r=k+316|0,n=k+256|0,A=k+240|0,w=k+160|0,E=k+144|0,T=k+128|0,S=k+96|0,m=k+80|0,y=k+112|0,g=k+64|0,_=k+48|0,v=k+32|0,x=k+16|0,b=k,o=r,a=17388,s=o+60|0;do{ei[o>>2]=ei[a>>2],o=o+4|0,a=a+4|0}while((0|o)<(0|s));o=n,a=17448,s=o+60|0;do{ei[o>>2]=ei[a>>2],o=o+4|0,a=a+4|0}while((0|o)<(0|s));d=0==(0|Ot(e)),n=d?r:n,ei[A>>2]=ei[t>>2],ei[A+4>>2]=ei[t+4>>2],ei[A+8>>2]=ei[t+8>>2],ei[A+12>>2]=ei[t+12>>2],r=A+4|0,Y(r),K(r),0|Ot(e)?(G(r),d=e+1|0):d=e,ei[w>>2]=ei[A>>2],t=w+4|0,O(r,n,t),L(t),ei[w+16>>2]=ei[A>>2],t=w+20|0,O(r,n+12|0,t),L(t),ei[w+32>>2]=ei[A>>2],t=w+36|0,O(r,n+24|0,t),L(t),ei[w+48>>2]=ei[A>>2],t=w+52|0,O(r,n+36|0,t),L(t),ei[w+64>>2]=ei[A>>2],t=w+68|0,O(r,n+48|0,t),L(t),ei[i>>2]=0,t=E+4|0,A=S+4|0,l=17508+(d<<2)|0,u=17576+(d<<2)|0,c=_+8|0,h=v+8|0,p=x+8|0,f=T+4|0,s=0;t:for(;;){if(a=w+(((0|s)%5|0)<<4)|0,ei[T>>2]=ei[a>>2],ei[T+4>>2]=ei[a+4>>2],ei[T+8>>2]=ei[a+8>>2],ei[T+12>>2]=ei[a+12>>2],2==(0|at(T,d,0,1)))do{}while(2==(0|at(T,d,0,1)));if((0|s)>0&0!=(0|Ot(e))){if(ei[S>>2]=ei[T>>2],ei[S+4>>2]=ei[T+4>>2],ei[S+8>>2]=ei[T+8>>2],ei[S+12>>2]=ei[T+12>>2],R(t,m),n=0|ei[S>>2],o=0|ei[17644+(80*n|0)+(ei[E>>2]<<2)>>2],ei[S>>2]=ei[19244+(80*n|0)+(20*o|0)>>2],(0|(a=0|ei[19244+(80*n|0)+(20*o|0)+16>>2]))>0){r=0;do{H(A),r=r+1|0}while((0|r)<(0|a))}switch(a=19244+(80*n|0)+(20*o|0)+4|0,ei[y>>2]=ei[a>>2],ei[y+4>>2]=ei[a+4>>2],ei[y+8>>2]=ei[a+8>>2],U(y,3*(0|ei[l>>2])|0),O(A,y,A),L(A),R(A,g),C=+(0|ei[u>>2]),ci[_>>3]=3*C,ci[c>>3]=0,P=-1.5*C,ci[v>>3]=P,ci[h>>3]=2.598076211353316*C,ci[x>>3]=P,ci[p>>3]=-2.598076211353316*C,0|ei[17644+(80*(0|ei[S>>2])|0)+(ei[T>>2]<<2)>>2]){case 1:r=v,n=_;break;case 3:r=x,n=v;break;case 2:r=_,n=x;break;default:r=12;break t}ve(m,g,n,r,b),rt(b,0|ei[S>>2],d,1,i+8+(ei[i>>2]<<4)|0),ei[i>>2]=1+(0|ei[i>>2])}if((0|s)>=5){r=4;break}R(f,S),rt(S,0|ei[T>>2],d,1,i+8+(ei[i>>2]<<4)|0),ei[i>>2]=1+(0|ei[i>>2]),ei[E>>2]=ei[T>>2],ei[E+4>>2]=ei[T+4>>2],ei[E+8>>2]=ei[T+8>>2],ei[E+12>>2]=ei[T+12>>2],s=s+1|0}if(4==(0|r))return void(di=k);12==(0|r)&&Fi(21845,21892,630,21902)}function at(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0;if(f=di,di=di+32|0,h=f+12|0,s=f,p=t+4|0,l=0|ei[17576+(e<<2)>>2],c=0!=(0|r),l=c?3*l|0:l,o=0|ei[p>>2],u=t+8|0,a=0|ei[u>>2],c){if(r=t+12|0,n=0|ei[r>>2],(a+o+n|0)==(0|l))return p=1,di=f,0|p;A=r,r=n}else r=t+12|0,A=r,r=0|ei[r>>2];if((a+o+r|0)<=(0|l))return p=0,di=f,0|p;do{if((0|r)>0){if(r=0|ei[t>>2],(0|a)>0){o=19244+(80*r|0)+60|0,r=t;break}r=19244+(80*r|0)+40|0,i?(B(h,l,0,0),F(p,h,s),Z(s),O(s,h,p),o=r,r=t):(o=r,r=t)}else o=19244+(80*(0|ei[t>>2])|0)+20|0,r=t}while(0);if(ei[r>>2]=ei[o>>2],n=o+16|0,(0|ei[n>>2])>0){r=0;do{H(p),r=r+1|0}while((0|r)<(0|ei[n>>2]))}return t=o+4|0,ei[h>>2]=ei[t>>2],ei[h+4>>2]=ei[t+4>>2],ei[h+8>>2]=ei[t+8>>2],e=0|ei[17508+(e<<2)>>2],U(h,c?3*e|0:e),O(p,h,p),L(p),r=c&&((0|ei[u>>2])+(0|ei[p>>2])+(0|ei[A>>2])|0)==(0|l)?1:2,p=r,di=f,0|p}function st(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0,d=0,m=0,y=0,g=0,_=0,v=0,x=0,b=0,w=0,E=0,T=0;if(w=di,di=di+368|0,a=w+296|0,s=w+224|0,g=w+208|0,_=w+112|0,v=w+96|0,x=w+80|0,p=w+64|0,f=w+48|0,d=w+32|0,m=w+16|0,y=w,0|i)return ot(t,e,r),void(di=w);i=a,n=20844,o=i+72|0;do{ei[i>>2]=ei[n>>2],i=i+4|0,n=n+4|0}while((0|i)<(0|o));i=s,n=20916,o=i+72|0;do{ei[i>>2]=ei[n>>2],i=i+4|0,n=n+4|0}while((0|i)<(0|o));n=0==(0|Ot(e)),n=n?a:s,ei[g>>2]=ei[t>>2],ei[g+4>>2]=ei[t+4>>2],ei[g+8>>2]=ei[t+8>>2],ei[g+12>>2]=ei[t+12>>2],i=g+4|0,Y(i),K(i),0|Ot(e)?(G(i),h=e+1|0):h=e,ei[_>>2]=ei[g>>2],s=_+4|0,O(i,n,s),L(s),ei[_+16>>2]=ei[g>>2],s=_+20|0,O(i,n+12|0,s),L(s),ei[_+32>>2]=ei[g>>2],s=_+36|0,O(i,n+24|0,s),L(s),ei[_+48>>2]=ei[g>>2],s=_+52|0,O(i,n+36|0,s),L(s),ei[_+64>>2]=ei[g>>2],s=_+68|0,O(i,n+48|0,s),L(s),ei[_+80>>2]=ei[g>>2],s=_+84|0,O(i,n+60|0,s),L(s),ei[r>>2]=0,s=17576+(h<<2)|0,t=f+8|0,A=d+8|0,l=m+8|0,u=v+4|0,i=-1,n=0,a=0;t:for(;;){if(o=(0|a)%6|0,c=_+(o<<4)|0,ei[v>>2]=ei[c>>2],ei[v+4>>2]=ei[c+4>>2],ei[v+8>>2]=ei[c+8>>2],ei[v+12>>2]=ei[c+12>>2],c=0|at(v,h,0,1),(0|a)>0&0!=(0|Ot(e))&&1!=(0|n)?(0|ei[v>>2])!=(0|i):0){switch(R(_+(((o+5|0)%6|0)<<4)+4|0,x),R(_+(o<<4)+4|0,p),E=+(0|ei[s>>2]),ci[f>>3]=3*E,ci[t>>3]=0,T=-1.5*E,ci[d>>3]=T,ci[A>>3]=2.598076211353316*E,ci[m>>3]=T,ci[l>>3]=-2.598076211353316*E,o=0|ei[g>>2],0|ei[17644+(80*o|0)+(((0|i)==(0|o)?0|ei[v>>2]:i)<<2)>>2]){case 1:i=d,n=f;break;case 3:i=m,n=d;break;case 2:i=f,n=m;break;default:b=11;break t}ve(x,p,n,i,y),!!(0|xe(x,y))||0|xe(p,y)||(rt(y,0|ei[g>>2],h,1,r+8+(ei[r>>2]<<4)|0),ei[r>>2]=1+(0|ei[r>>2]))}if((0|a)>=6)break;R(u,x),rt(x,0|ei[v>>2],h,1,r+8+(ei[r>>2]<<4)|0),ei[r>>2]=1+(0|ei[r>>2]),i=0|ei[v>>2],n=c,a=a+1|0}11==(0|b)&&Fi(21928,21892,784,21973),di=w}function At(t){t=+t;var e=0;return e=t<0?t+6.283185307179586:t,+(t>=6.283185307179586?e+-6.283185307179586:e)}function lt(t,e,i){return t|=0,e|=0,i=+i,+bi(+(+ci[t>>3]-+ci[e>>3]))<i?0|(e=+bi(+(+ci[t+8>>3]-+ci[e+8>>3]))<i):0|(e=0)}function ut(t,e){return t|=0,e|=0,+bi(+(+ci[t>>3]-+ci[e>>3]))<1.7453292519943298e-11?0|(e=+bi(+(+ci[t+8>>3]-+ci[e+8>>3]))<1.7453292519943298e-11):0|(e=0)}function ct(t){if(!((t=+t)>1.5707963267948966))return+t;do{t+=-3.141592653589793}while(t>1.5707963267948966);return+t}function ht(t){if((t=+t)>3.141592653589793)do{t+=-6.283185307179586}while(t>3.141592653589793);if(!(t<-3.141592653589793))return+t;do{t+=6.283185307179586}while(t<-3.141592653589793);return+t}function pt(t,e){t|=0,e|=0;var i=0,r=0,n=0;return r=+ci[e+8>>3],n=+ci[t+8>>3],i=+bi(+(r-n)),i>3.141592653589793&&(i=+bi(+((r<0?r+6.283185307179586:r)-(n<0?n+6.283185307179586:n)))),n=1.5707963267948966-+ci[t>>3],r=1.5707963267948966-+ci[e>>3],n=+Ti(+r)*+Ti(+n)+ +Si(+r)*+Si(+n)*+Ti(+i),n=n>1?1:n,6371.007180918475*+Ci(+(n<-1?-1:n))}function ft(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0;return o=+ci[e>>3],n=+Ti(+o),i=+ci[e+8>>3]-+ci[t+8>>3],a=n*+Si(+i),r=+ci[t>>3],+ +Ii(+a,+(+Ti(+r)*+Si(+o)-n*+Si(+r)*+Ti(+i)))}function dt(t,e,i,r){t|=0,e=+e,i=+i,r|=0;var n=0,o=0,a=0,s=0,A=0,l=0;if(i<1e-16)return ei[r>>2]=ei[t>>2],ei[r+4>>2]=ei[t+4>>2],ei[r+8>>2]=ei[t+8>>2],void(ei[r+12>>2]=ei[t+12>>2]);a=e<0?e+6.283185307179586:e,a=e>=6.283185307179586?a+-6.283185307179586:a,n=a<1e-16;do{if(n?!0:+bi(+(a+-3.141592653589793))<1e-16)s=5;else{if(A=+ci[t>>3],o=+Ti(+i),e=+Si(+i),i=+Si(+A)*o+ +Ti(+A)*e*+Ti(+a),i=i>1?1:i,i=+Pi(+(i<-1?-1:i)),ci[r>>3]=i,+bi(+(i+-1.5707963267948966))<1e-16){ci[r>>3]=1.5707963267948966,e=0;break}if(+bi(+(i+1.5707963267948966))<1e-16){ci[r>>3]=-1.5707963267948966,e=0;break}if(l=+Ti(+i),A=e*+Si(+a)/l,e=+ci[t>>3],e=(o-+Si(+e)*+Si(+i))/+Ti(+e)/l,A=A>1?1:A,(e=+ci[t+8>>3]+ +Ii(+(e<-1?-1:e>1?1:A<-1?-1:A),+e))>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793)}}while(0);do{if(5==(0|s)){if(e=(n?i:-i)+ +ci[t>>3],ci[r>>3]=e,+bi(+(e+-1.5707963267948966))<1e-16){ci[r>>3]=1.5707963267948966,e=0;break}if(+bi(+(e+1.5707963267948966))<1e-16){ci[r>>3]=-1.5707963267948966,e=0;break}if((e=+ci[t+8>>3])>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793)}}while(0);ci[r+8>>3]=e}function mt(t){return t|=0,+ +ci[1288+(t<<3)>>3]}function yt(t){return t|=0,+ +ci[1416+(t<<3)>>3]}function gt(t){return t|=0,+ +ci[1544+(t<<3)>>3]}function _t(t){return t|=0,+ +ci[1672+(t<<3)>>3]}function vt(t){return t|=0,t=1800+(t<<3)|0,vi=0|ei[t+4>>2],0|ei[t>>2]}function xt(t,e){return t|=0,e|=0,127&(e=0|Ge(0|t,0|e,45))|0}function bt(t,e){t|=0,e|=0;var i=0,r=0;if(r=1032192&e,!1|134217728!=(2013265920&e|0)|r>>>0>991232|991232==(0|r)&!1)return 0|(e=0);i=0|Ge(0|t,0|e,52),i&=15;t:do{if(i){for(r=1;;){if(7==(7&(0|Ge(0|t,0|e,3*(15-r|0)|0))|0)&!0){i=0;break}if(!((0|r)<(0|i)))break t;r=r+1|0}return 0|i}i=0}while(0);for(;;){if((0|i)>=15){i=1,r=7;break}if(!(7==(7&(0|Ge(0|t,0|e,3*(14-i|0)|0))|0)&!0)){i=0,r=7;break}i=i+1|0}return 7==(0|r)?0|i:0}function wt(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0;if(r=0|Ge(0|t,0|e,52),(0|(r&=15))>=(0|i)){if((0|r)!=(0|i))if(i>>>0<=15){if(n=0|Qe(0|i,0,52),t|=n,e=-15728641&e|vi,(0|r)>(0|i))do{n=0|Qe(7,0,3*(14-i|0)|0),i=i+1|0,t|=n,e|=vi}while((0|i)<(0|r))}else e=0,t=0}else e=0,t=0;return vi=e,0|t}function Et(t,e,i){return t|=0,e|=0,i|=0,t=0|Ge(0|t,0|e,52),(0|(t&=15))>(0|i)?0|(i=0):0|(i=0|se(7,i-t|0))}function Tt(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0,s=0,A=0,l=0,u=0;if(a=0|Ge(0|t,0|e,52),!((0|(a&=15))>(0|i))){if((0|a)==(0|i))return i=r,ei[i>>2]=t,void(ei[i+4>>2]=e);if(A=0|se(7,i-a|0),l=(0|A)/7|0,s=0|Ge(0|t,0|e,45),0|b(127&s)){t:do{if(a)for(o=1;;){if(n=0|Ge(0|t,0|e,3*(15-o|0)|0),0|(n&=7))break t;if(!((0|o)<(0|a))){n=0;break}o=o+1|0}else n=0}while(0);o=0==(0|n)}else o=0;if(u=0|Qe(a+1|0,0,52),n=vi|-15728641&e,s=3*(14-a|0)|0,e=0|Qe(7,0,0|s),e=(u|t)&~e,a=n&~vi,Tt(e,a,i,r),n=r+(l<<3)|0,!o)return u=0|Qe(1,0,0|s),Tt(u|e,vi|a,i,n),u=n+(l<<3)|0,A=0|Qe(2,0,0|s),Tt(A|e,vi|a,i,u),u=u+(l<<3)|0,A=0|Qe(3,0,0|s),Tt(A|e,vi|a,i,u),u=u+(l<<3)|0,A=0|Qe(4,0,0|s),Tt(A|e,vi|a,i,u),u=u+(l<<3)|0,A=0|Qe(5,0,0|s),Tt(A|e,vi|a,i,u),A=0|Qe(6,0,0|s),void Tt(A|e,vi|a,i,u+(l<<3)|0);o=n+(l<<3)|0,(0|A)>6&&(A=n+8|0,u=(o>>>0>A>>>0?o:A)+-1+(0-n)|0,Ze(0|n,0,u+8&-8|0),n=A+(u>>>3<<3)|0),u=0|Qe(2,0,0|s),Tt(u|e,vi|a,i,n),u=n+(l<<3)|0,A=0|Qe(3,0,0|s),Tt(A|e,vi|a,i,u),u=u+(l<<3)|0,A=0|Qe(4,0,0|s),Tt(A|e,vi|a,i,u),u=u+(l<<3)|0,A=0|Qe(5,0,0|s),Tt(A|e,vi|a,i,u),A=0|Qe(6,0,0|s),Tt(A|e,vi|a,i,u+(l<<3)|0)}}function St(t,e){t|=0,e|=0;var i=0,r=0,n=0;if(n=0|Ge(0|t,0|e,45),!(0|b(127&n)))return 0|(n=0);n=0|Ge(0|t,0|e,52),n&=15;t:do{if(n)for(r=1;;){if(i=0|Ge(0|t,0|e,3*(15-r|0)|0),0|(i&=7))break t;if(!((0|r)<(0|n))){i=0;break}r=r+1|0}else i=0}while(0);return 0|(n=0==(0|i)&1)}function kt(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0,d=0,m=0,y=0,g=0,_=0,v=0,x=0,w=0;if(n=t,r=0|ei[n>>2],!0&0==(15728640&(n=0|ei[n+4>>2])|0)){if((0|i)<=0)return 0|(w=0);if(w=e,ei[w>>2]=r,ei[w+4>>2]=n,1==(0|i))return 0|(w=0);r=1;do{v=t+(r<<3)|0,x=0|ei[v+4>>2],w=e+(r<<3)|0,ei[w>>2]=ei[v>>2],ei[w+4>>2]=x,r=r+1|0}while((0|r)!=(0|i));return 0|(r=0)}v=i<<3,x=0|Ie(v),He(0|x,0|t,0|v),_=0|Be(i,8);t:do{if(0|i){r=i;e:for(;;){a=x,u=0|ei[a>>2],a=0|ei[a+4>>2],y=0|Ge(0|u,0|a,52),y&=15,g=y+-1|0,m=(0|r)>0;i:do{if(m){if(d=((0|r)<0)<<31>>31,p=0|Qe(0|g,0,52),f=vi,g>>>0>15)for(n=0,t=u,i=a;;){if(!(0==(0|t)&0==(0|i))){if(o=0|Ge(0|t,0|i,52),o&=15,s=(0|o)<(0|g),o=(0|o)==(0|g),l=s?0:o?t:0,t=s?0:o?i:0,i=0|qe(0|l,0|t,0|r,0|d),o=_+(i<<3)|0,s=o,A=0|ei[s>>2],s=0|ei[s+4>>2],0==(0|A)&0==(0|s))i=l;else for(p=0,h=i,c=A,i=l,A=o;;){if((0|p)>(0|r)){w=26;break e}if((0|c)==(0|i)&(-117440513&s|0)==(0|t)){if(o=0|Ge(0|c,0|s,56),7==(0|(o&=7))){w=32;break e}f=0|Qe(o+1|0,0,56),ei[A>>2]=0,ei[A+4>>2]=0,A=h,i|=f,t=vi|-117440513&t}else A=(h+1|0)%(0|r)|0;if(o=_+(A<<3)|0,s=o,c=0|ei[s>>2],s=0|ei[s+4>>2],0==(0|c)&0==(0|s))break;p=p+1|0,h=A,A=o}f=o,ei[f>>2]=i,ei[f+4>>2]=t}if((0|(n=n+1|0))>=(0|r))break i;i=x+(n<<3)|0,t=0|ei[i>>2],i=0|ei[i+4>>2]}else n=0,t=u,i=a;for(;;){if(!(0==(0|t)&0==(0|i))){if(s=0|Ge(0|t,0|i,52),(0|(s&=15))>=(0|g)){if((0|s)!=(0|g)&&(t|=p,i=-15728641&i|f,s>>>0>=y>>>0)){o=g;do{h=0|Qe(7,0,3*(14-o|0)|0),o=o+1|0,t|=h,i|=vi}while((0|o)<(0|s))}}else t=0,i=0;if(s=0|qe(0|t,0|i,0|r,0|d),o=_+(s<<3)|0,A=o,l=0|ei[A>>2],A=0|ei[A+4>>2],!(0==(0|l)&0==(0|A)))for(h=0,c=l,l=o;;){if((0|h)>(0|r)){w=26;break e}if((0|c)==(0|t)&(-117440513&A|0)==(0|i)){if(o=0|Ge(0|c,0|A,56),7==(0|(o&=7))){w=32;break e}c=0|Qe(o+1|0,0,56),ei[l>>2]=0,ei[l+4>>2]=0,t|=c,i=vi|-117440513&i}else s=(s+1|0)%(0|r)|0;if(o=_+(s<<3)|0,A=o,c=0|ei[A>>2],A=0|ei[A+4>>2],0==(0|c)&0==(0|A))break;h=h+1|0,l=o}h=o,ei[h>>2]=t,ei[h+4>>2]=i}if((0|(n=n+1|0))>=(0|r))break i;i=x+(n<<3)|0,t=0|ei[i>>2],i=0|ei[i+4>>2]}}}while(0);if((r+5|0)>>>0<11){w=73;break}d=0|Ie(((0|r)/6|0)<<3);i:do{if(m){p=0,h=0;do{if(s=_+(p<<3)|0,t=s,n=0|ei[t>>2],t=0|ei[t+4>>2],!(0==(0|n)&0==(0|t))){A=0|Ge(0|n,0|t,56),A&=7,i=A+1|0,l=-117440513&t,f=0|Ge(0|n,0|t,45);r:do{if(0|b(127&f)){if(c=0|Ge(0|n,0|t,52),0|(c&=15))for(o=1;;){if(f=0|Qe(7,0,3*(15-o|0)|0),!(0==(n&f|0)&0==(l&vi|0)))break r;if(!((0|o)<(0|c)))break;o=o+1|0}t=0|Qe(0|i,0,56),n|=t,t=l|vi,i=s,ei[i>>2]=n,ei[i+4>>2]=t,i=A+2|0}}while(0);7==(0|i)&&(f=d+(h<<3)|0,ei[f>>2]=n,ei[f+4>>2]=-117440513&t,h=h+1|0)}p=p+1|0}while((0|p)!=(0|r));if(m){if(f=((0|r)<0)<<31>>31,c=0|Qe(0|g,0,52),p=vi,g>>>0>15)for(t=0,n=0;;){do{if(!(0==(0|u)&0==(0|a))){
for(A=0|Ge(0|u,0|a,52),A&=15,o=(0|A)<(0|g),A=(0|A)==(0|g),s=o?0:A?u:0,A=o?0:A?a:0,o=0|qe(0|s,0|A,0|r,0|f),i=0;;){if((0|i)>(0|r)){w=71;break e}if(y=_+(o<<3)|0,l=0|ei[y+4>>2],(-117440513&l|0)==(0|A)?(0|ei[y>>2])==(0|s):0){w=45;break}if(o=(o+1|0)%(0|r)|0,y=_+(o<<3)|0,(0|ei[y>>2])==(0|s)?(0|ei[y+4>>2])==(0|A):0)break;i=i+1|0}if(45==(0|w)?(w=0,!0&100663296==(117440512&l|0)):0)break;y=e+(n<<3)|0,ei[y>>2]=u,ei[y+4>>2]=a,n=n+1|0}}while(0);if((0|(t=t+1|0))>=(0|r)){r=h;break i}a=x+(t<<3)|0,u=0|ei[a>>2],a=0|ei[a+4>>2]}else t=0,n=0;for(;;){do{if(!(0==(0|u)&0==(0|a))){if(A=0|Ge(0|u,0|a,52),(0|(A&=15))>=(0|g))if((0|A)!=(0|g))if(i=u|c,o=-15728641&a|p,A>>>0<y>>>0)A=o;else{s=g;do{m=0|Qe(7,0,3*(14-s|0)|0),s=s+1|0,i|=m,o|=vi}while((0|s)<(0|A));A=o}else i=u,A=a;else i=0,A=0;for(s=0|qe(0|i,0|A,0|r,0|f),o=0;;){if((0|o)>(0|r)){w=71;break e}if(m=_+(s<<3)|0,l=0|ei[m+4>>2],(-117440513&l|0)==(0|A)?(0|ei[m>>2])==(0|i):0){w=66;break}if(s=(s+1|0)%(0|r)|0,m=_+(s<<3)|0,(0|ei[m>>2])==(0|i)?(0|ei[m+4>>2])==(0|A):0)break;o=o+1|0}if(66==(0|w)?(w=0,!0&100663296==(117440512&l|0)):0)break;m=e+(n<<3)|0,ei[m>>2]=u,ei[m+4>>2]=a,n=n+1|0}}while(0);if((0|(t=t+1|0))>=(0|r)){r=h;break i}a=x+(t<<3)|0,u=0|ei[a>>2],a=0|ei[a+4>>2]}}else n=0,r=h}else n=0,r=0}while(0);if(Ze(0|_,0,0|v),He(0|x,0|d,r<<3|0),ze(d),!r)break t;e=e+(n<<3)|0}if(26==(0|w))return ze(x),ze(_),0|(w=-1);if(32==(0|w))return ze(x),ze(_),0|(w=-2);if(71==(0|w))return ze(d),ze(x),ze(_),0|(w=-1);if(73==(0|w)){He(0|e,0|x,r<<3|0);break}}}while(0);return ze(x),ze(_),0|(w=0)}function Ct(t,e,i,r,n){t|=0,e|=0,i|=0,r|=0,n|=0;var o=0,a=0,s=0,A=0,l=0,u=0;if(!((0|e)>0))return 0|(n=0);o=0,u=0;t:for(;;){if((0|o)>=(0|r)){o=-1,a=10;break}l=t+(u<<3)|0,s=l,a=0|ei[s>>2],s=0|ei[s+4>>2];do{if(!(0==(0|a)&0==(0|s))){if(A=0|Ge(0|a,0|s,52),(0|(A&=15))>(0|n)){o=-2,a=10;break t}if((0|A)==(0|n)){l=i+(o<<3)|0,ei[l>>2]=a,ei[l+4>>2]=s,o=o+1|0;break}if((0|(a=(0|se(7,n-A|0))+o|0))>(0|r)){o=-1,a=10;break t}Tt(0|ei[l>>2],0|ei[l+4>>2],n,i+(o<<3)|0),o=a}}while(0);if((0|(u=u+1|0))>=(0|e)){o=0,a=10;break}}return 10==(0|a)?0|o:0}function Pt(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0;if(!((0|e)>0))return 0|(i=0);for(r=0,a=0;;){if(n=t+(a<<3)|0,o=0|ei[n>>2],n=0|ei[n+4>>2],!(0==(0|o)&0==(0|n))){if(n=0|Ge(0|o,0|n,52),(0|(n&=15))>(0|i)){r=-1,n=8;break}n=(0|n)==(0|i)?1:0|se(7,i-n|0),r=n+r|0}if((0|(a=a+1|0))>=(0|e)){n=8;break}}return 8==(0|n)?0|r:0}function Mt(t,e){return t|=0,e|=0,1&(e=0|Ge(0|t,0|e,52))|0}function It(t,e){t|=0,e|=0;var i=0,r=0,n=0;if(n=0|Ge(0|t,0|e,52),!(n&=15))return 0|(n=0);for(r=1;;){if(i=0|Ge(0|t,0|e,3*(15-r|0)|0),0|(i&=7)){r=4;break}if(!((0|r)<(0|n))){i=0,r=4;break}r=r+1|0}return 4==(0|r)?0|i:0}function zt(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0,s=0,A=0;if(a=0|Ge(0|t,0|e,52),!(a&=15))return o=e,a=t,vi=o,0|a;for(o=1,i=0;;){s=3*(15-o|0)|0,r=0|Qe(7,0,0|s),n=vi,A=0|Ge(0|t,0|e,0|s),s=0|Qe(0|X(7&A),0,0|s),t=s|t&~r,e=vi|e&~n;t:do{if(!i)if(0==(t&r|0)&0==(e&n|0))i=0;else if(r=0|Ge(0|t,0|e,52),r&=15){i=1;e:for(;;){switch(7&(A=0|Ge(0|t,0|e,3*(15-i|0)|0))){case 1:i=1;break e;case 0:break;default:i=1;break t}if(!((0|i)<(0|r))){i=1;break t}i=i+1|0}for(;;){if(A=3*(15-i|0)|0,n=0|Ge(0|t,0|e,0|A),s=0|Qe(7,0,0|A),e&=~vi,A=0|Qe(0|X(7&n),0,0|A),t=t&~s|A,e|=vi,!((0|i)<(0|r))){i=1;break}i=i+1|0}}else i=1}while(0);if(!((0|o)<(0|a)))break;o=o+1|0}return vi=e,0|t}function Bt(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0;if(r=0|Ge(0|t,0|e,52),!(r&=15))return i=e,r=t,vi=i,0|r;for(i=1;;){if(o=3*(15-i|0)|0,a=0|Ge(0|t,0|e,0|o),n=0|Qe(7,0,0|o),e&=~vi,o=0|Qe(0|X(7&a),0,0|o),t=o|t&~n,e|=vi,!((0|i)<(0|r)))break;i=i+1|0}return vi=e,0|t}function Dt(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0,s=0,A=0;if(a=0|Ge(0|t,0|e,52),!(a&=15))return o=e,a=t,vi=o,0|a;for(o=1,i=0;;){s=3*(15-o|0)|0,r=0|Qe(7,0,0|s),n=vi,A=0|Ge(0|t,0|e,0|s),s=0|Qe(0|W(7&A),0,0|s),t=s|t&~r,e=vi|e&~n;t:do{if(!i)if(0==(t&r|0)&0==(e&n|0))i=0;else if(r=0|Ge(0|t,0|e,52),r&=15){i=1;e:for(;;){switch(7&(A=0|Ge(0|t,0|e,3*(15-i|0)|0))){case 1:i=1;break e;case 0:break;default:i=1;break t}if(!((0|i)<(0|r))){i=1;break t}i=i+1|0}for(;;){if(n=3*(15-i|0)|0,s=0|Qe(7,0,0|n),A=e&~vi,e=0|Ge(0|t,0|e,0|n),e=0|Qe(0|W(7&e),0,0|n),t=t&~s|e,e=A|vi,!((0|i)<(0|r))){i=1;break}i=i+1|0}}else i=1}while(0);if(!((0|o)<(0|a)))break;o=o+1|0}return vi=e,0|t}function Lt(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0;if(r=0|Ge(0|t,0|e,52),!(r&=15))return i=e,r=t,vi=i,0|r;for(i=1;;){if(a=3*(15-i|0)|0,o=0|Qe(7,0,0|a),n=e&~vi,e=0|Ge(0|t,0|e,0|a),e=0|Qe(0|W(7&e),0,0|a),t=e|t&~o,e=vi|n,!((0|i)<(0|r)))break;i=i+1|0}return vi=e,0|t}function Rt(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0;if(A=di,di=di+64|0,s=A+40|0,r=A+24|0,n=A+12|0,o=A,Qe(0|e,0,52),i=134225919|vi,!e)return(0|ei[t+4>>2])>2?(a=0,s=0,vi=a,di=A,0|s):(0|ei[t+8>>2])>2?(a=0,s=0,vi=a,di=A,0|s):(0|ei[t+12>>2])>2?(a=0,s=0,vi=a,di=A,0|s):(Qe(0|E(t),0,45),a=vi|i,s=-1,vi=a,di=A,0|s);if(ei[s>>2]=ei[t>>2],ei[s+4>>2]=ei[t+4>>2],ei[s+8>>2]=ei[t+8>>2],ei[s+12>>2]=ei[t+12>>2],a=s+4|0,(0|e)>0)for(t=-1;;){if(ei[r>>2]=ei[a>>2],ei[r+4>>2]=ei[a+4>>2],ei[r+8>>2]=ei[a+8>>2],1&e?(N(a),ei[n>>2]=ei[a>>2],ei[n+4>>2]=ei[a+4>>2],ei[n+8>>2]=ei[a+8>>2],q(n)):(j(a),ei[n>>2]=ei[a>>2],ei[n+4>>2]=ei[a+4>>2],ei[n+8>>2]=ei[a+8>>2],G(n)),F(r,n,o),L(o),u=3*(15-e|0)|0,l=0|Qe(7,0,0|u),i&=~vi,u=0|Qe(0|V(o),0,0|u),t=u|t&~l,i|=vi,!((0|e)>1))break;e=e+-1|0}else t=-1;t:do{if(((0|ei[a>>2])<=2?(0|ei[s+8>>2])<=2:0)?(0|ei[s+12>>2])<=2:0){if(r=0|E(s),e=0|Qe(0|r,0,45),e|=t,t=vi|-1040385&i,o=0|T(s),!(0|b(r))){if(!((0|o)>0))break;for(n=0;;){if(r=0|Ge(0|e,0|t,52),r&=15)for(i=1;;){if(u=3*(15-i|0)|0,s=0|Ge(0|e,0|t,0|u),l=0|Qe(7,0,0|u),t&=~vi,u=0|Qe(0|X(7&s),0,0|u),e=e&~l|u,t|=vi,!((0|i)<(0|r)))break;i=i+1|0}if((0|(n=n+1|0))==(0|o))break t}}n=0|Ge(0|e,0|t,52),n&=15;e:do{if(n){i=1;i:for(;;){switch(7&(u=0|Ge(0|e,0|t,3*(15-i|0)|0))){case 1:break i;case 0:break;default:break e}if(!((0|i)<(0|n)))break e;i=i+1|0}if(0|S(r,0|ei[s>>2]))for(i=1;;){if(s=3*(15-i|0)|0,l=0|Qe(7,0,0|s),u=t&~vi,t=0|Ge(0|e,0|t,0|s),t=0|Qe(0|W(7&t),0,0|s),e=e&~l|t,t=u|vi,!((0|i)<(0|n)))break;i=i+1|0}else for(i=1;;){if(u=3*(15-i|0)|0,s=0|Ge(0|e,0|t,0|u),l=0|Qe(7,0,0|u),t&=~vi,u=0|Qe(0|X(7&s),0,0|u),e=e&~l|u,t|=vi,!((0|i)<(0|n)))break;i=i+1|0}}}while(0);if((0|o)>0){i=0;do{e=0|zt(e,t),t=vi,i=i+1|0}while((0|i)!=(0|o))}}else e=0,t=0}while(0);return l=t,u=e,vi=l,di=A,0|u}function Ot(t){return 0|(0|(t|=0))%2}function Ft(t,e){t|=0,e|=0;var i=0,r=0;return r=di,di=di+16|0,i=r,e>>>0<=15&&2146435072!=(2146435072&ei[t+4>>2]|0)&&2146435072!=(2146435072&ei[t+8+4>>2]|0)?(et(t,e,i),e=0|Rt(i,e),t=vi):(t=0,e=0),vi=t,di=r,0|e}function Ut(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0;if(n=i+4|0,o=0|Ge(0|t,0|e,52),o&=15,a=0|Ge(0|t,0|e,45),r=0==(0|o),0|b(127&a)){if(r)return 0|(a=1);r=1}else{if(r)return 0|(a=0);r=(0==(0|ei[n>>2])?0==(0|ei[i+8>>2]):0)?0!=(0|ei[i+12>>2])&1:1}for(i=1;;){if(1&i?q(n):G(n),a=0|Ge(0|t,0|e,3*(15-i|0)|0),Q(n,7&a),!((0|i)<(0|o)))break;i=i+1|0}return 0|r}function Vt(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0;u=di,di=di+16|0,A=u,l=0|Ge(0|t,0|e,45),l&=127;t:do{if(0!=(0|b(l))?(o=0|Ge(0|t,0|e,52),0!=(0|(o&=15))):0){r=1;e:for(;;){switch(7&(s=0|Ge(0|t,0|e,3*(15-r|0)|0))){case 5:n=1,r=e;break e;case 0:break;default:r=e;break t}if(!((0|r)<(0|o))){r=e;break t}r=r+1|0}for(;;){if(e=3*(15-n|0)|0,a=0|Qe(7,0,0|e),s=r&~vi,r=0|Ge(0|t,0|r,0|e),r=0|Qe(0|W(7&r),0,0|e),t=t&~a|r,r=s|vi,!((0|n)<(0|o)))break;n=n+1|0}}else r=e}while(0);if(s=9568+(28*l|0)|0,ei[i>>2]=ei[s>>2],ei[i+4>>2]=ei[s+4>>2],ei[i+8>>2]=ei[s+8>>2],ei[i+12>>2]=ei[s+12>>2],!(0|Ut(t,r,i)))return void(di=u);if(a=i+4|0,ei[A>>2]=ei[a>>2],ei[A+4>>2]=ei[a+4>>2],ei[A+8>>2]=ei[a+8>>2],o=0|Ge(0|t,0|r,52),s=15&o,1&o?(G(a),o=s+1|0):o=s,0|b(l)){t:do{if(s)for(e=1;;){if(n=0|Ge(0|t,0|r,3*(15-e|0)|0),0|(n&=7)){r=n;break t}if(!((0|e)<(0|s))){r=0;break}e=e+1|0}else r=0}while(0);r=4==(0|r)&1}else r=0;if(0|at(i,o,r,0)){if(0|b(l))do{}while(0!=(0|at(i,o,0,0)));(0|o)!=(0|s)&&j(a)}else(0|o)!=(0|s)&&(ei[a>>2]=ei[A>>2],ei[a+4>>2]=ei[A+4>>2],ei[a+8>>2]=ei[A+8>>2]);di=u}function Nt(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0;r=di,di=di+16|0,n=r,Vt(t,e,n),e=0|Ge(0|t,0|e,52),nt(n,15&e,i),di=r}function jt(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0,s=0;if(s=di,di=di+16|0,o=s,Vt(t,e,o),a=0|Ge(0|t,0|e,52),a&=15,n=0|Ge(0|t,0|e,45),!(0|b(127&n)))return e=0,st(o,a,e,i),void(di=s);t:do{if(a)for(n=1;;){if(r=0|Ge(0|t,0|e,3*(15-n|0)|0),0|(r&=7))break t;if(!((0|n)<(0|a))){r=0;break}n=n+1|0}else r=0}while(0);e=0==(0|r)&1,st(o,a,e,i),di=s}function qt(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0,s=0,A=0,l=0;if(s=di,di=di+64|0,a=s,(0|t)==(0|i)&(0|e)==(0|r)|!1|134217728!=(2013265920&e|0)|!1|134217728!=(2013265920&r|0))return a=0,di=s,0|a;if(n=0|Ge(0|t,0|e,52),n&=15,o=0|Ge(0|i,0|r,52),(0|n)!=(15&o|0))return a=0,di=s,0|a;if(o=n+-1|0,n>>>0>1?(l=0|wt(t,e,o),A=vi,o=0|wt(i,r,o),(0|l)==(0|o)&(0|A)==(0|vi)):0){if(o=3*(15^n)|0,n=0|Ge(0|t,0|e,0|o),n&=7,o=0|Ge(0|i,0|r,0|o),o&=7,0==(0|n)|0==(0|o))return l=1,di=s,0|l;if((0|ei[20988+(n<<2)>>2])==(0|o))return l=1,di=s,0|l;if((0|ei[21016+(n<<2)>>2])==(0|o))return l=1,di=s,0|l}n=a,o=n+56|0;do{ei[n>>2]=0,n=n+4|0}while((0|n)<(0|o));return h(t,e,1,a),l=a,(0|ei[l>>2])==(0|i)&&(0|ei[l+4>>2])==(0|r)||(l=a+8|0,(0|ei[l>>2])==(0|i)?(0|ei[l+4>>2])==(0|r):0)||(l=a+16|0,(0|ei[l>>2])==(0|i)?(0|ei[l+4>>2])==(0|r):0)||(l=a+24|0,(0|ei[l>>2])==(0|i)?(0|ei[l+4>>2])==(0|r):0)||(l=a+32|0,(0|ei[l>>2])==(0|i)?(0|ei[l+4>>2])==(0|r):0)||(l=a+40|0,(0|ei[l>>2])==(0|i)?(0|ei[l+4>>2])==(0|r):0)?n=1:(n=a+48|0,n=1&((0|ei[n>>2])==(0|i)?(0|ei[n+4>>2])==(0|r):0)),l=n,di=s,0|l}function Gt(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0,s=0;return a=di,di=di+16|0,n=a,0|qt(t,e,i,r)?(o=-2130706433&e,ei[n>>2]=0,(0|(s=0|m(t,e,1,n)))==(0|i)&(0|vi)==(0|r)?(o|=285212672,s=t,vi=o,di=a,0|s):(ei[n>>2]=0,(0|(s=0|m(t,e,2,n)))==(0|i)&(0|vi)==(0|r)?(o|=301989888,s=t,vi=o,di=a,0|s):(ei[n>>2]=0,(0|(s=0|m(t,e,3,n)))==(0|i)&(0|vi)==(0|r)?(o|=318767104,s=t,vi=o,di=a,0|s):(ei[n>>2]=0,(0|(s=0|m(t,e,4,n)))==(0|i)&(0|vi)==(0|r)?(o|=335544320,s=t,vi=o,di=a,0|s):(ei[n>>2]=0,s=0|m(t,e,5,n),(0|s)==(0|i)&(0|vi)==(0|r)?(o|=352321536,s=t,vi=o,di=a,0|s):(ei[n>>2]=0,s=0|m(t,e,6,n),s=(0|s)==(0|i)&(0|vi)==(0|r),vi=s?369098752|o:0,di=a,0|(s?t:0))))))):(n=0,o=0,vi=n,di=a,0|o)}function Qt(t,e){t|=0,e|=0;var i=0;return i=!0&268435456==(2013265920&e|0),vi=i?-2130706433&e|134217728:0,0|(i?t:0)}function Ht(t,e){t|=0,e|=0;var i=0,r=0,n=0;return r=di,di=di+16|0,i=r,!0&268435456==(2013265920&e|0)?(n=0|Ge(0|t,0|e,56),ei[i>>2]=0,i=0|m(t,-2130706433&e|134217728,7&n,i),e=vi,vi=e,di=r,0|i):(e=0,i=0,vi=e,di=r,0|i)}function Zt(t,e){t|=0,e|=0;var i=0;if(!(!0&268435456==(2013265920&e|0)))return 0|(i=0);switch(7&(i=0|Ge(0|t,0|e,56))){case 0:case 7:return 0|(i=0)}return e=-2130706433&e|134217728,1==(7&i|0)&!0&0!=(0|St(t,e))?0|(i=0):0|(i=0|bt(t,e))}function Xt(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0,s=0;o=di,di=di+16|0,r=o,a=!0&268435456==(2013265920&e|0),n=-2130706433&e|134217728,s=i,ei[s>>2]=a?t:0,ei[s+4>>2]=a?n:0,a?(e=0|Ge(0|t,0|e,56),ei[r>>2]=0,t=0|m(t,n,7&e,r),e=vi):(t=0,e=0),s=i+8|0,ei[s>>2]=t,ei[s+4>>2]=e,di=o}function Wt(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0;n=0==(0|St(t,e)),e&=-2130706433,r=i,ei[r>>2]=n?t:0,ei[r+4>>2]=n?285212672|e:0,r=i+8|0,ei[r>>2]=t,ei[r+4>>2]=301989888|e,r=i+16|0,ei[r>>2]=t,ei[r+4>>2]=318767104|e,r=i+24|0,ei[r>>2]=t,ei[r+4>>2]=335544320|e,r=i+32|0,ei[r>>2]=t,ei[r+4>>2]=352321536|e,i=i+40|0,ei[i>>2]=t,ei[i+4>>2]=369098752|e}function Yt(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0;if(u=di,di=di+368|0,n=u+352|0,s=u+184|0,A=u+16|0,l=u,Ze(0|s,0,168),Ze(0|A,0,168),ei[l>>2]=0,ei[l+4>>2]=0,ei[l+8>>2]=0,ei[l+12>>2]=0,a=!0&268435456==(2013265920&e|0),r=-2130706433&e|134217728,jt(a?t:0,a?r:0,s),a?(e=0|Ge(0|t,0|e,56),ei[n>>2]=0,t=0|m(t,r,7&e,n),e=vi):(t=0,e=0),jt(t,e,A),(0|ei[s>>2])<=0)return l=0,ei[i>>2]=l,void(di=u);a=s+24|0,t=0,e=0,o=0;do{n=s+8+(o<<4)|0;t:do{if((0|ei[A>>2])>0){for(r=0;;){if(0|lt(n,A+8+(r<<4)|0,1e-6))break;if((0|(r=r+1|0))>=(0|ei[A>>2]))break t}e:do{if(!o){if((0|ei[A>>2])>0){r=0;do{if(0|lt(a,A+8+(r<<4)|0,1e-6))break e;r=r+1|0}while((0|r)<(0|ei[A>>2]))}ei[l>>2]=ei[n>>2],ei[l+4>>2]=ei[n+4>>2],ei[l+8>>2]=ei[n+8>>2],ei[l+12>>2]=ei[n+12>>2],e=1;break t}}while(0);r=i+8+(t<<4)|0,ei[r>>2]=ei[n>>2],ei[r+4>>2]=ei[n+4>>2],ei[r+8>>2]=ei[n+8>>2],ei[r+12>>2]=ei[n+12>>2],t=t+1|0}}while(0);o=o+1|0}while((0|o)<(0|ei[s>>2]));if(!e)return l=t,ei[i>>2]=l,void(di=u);A=i+8+(t<<4)|0,ei[A>>2]=ei[l>>2],ei[A+4>>2]=ei[l+4>>2],ei[A+8>>2]=ei[l+8>>2],ei[A+12>>2]=ei[l+12>>2],l=t+1|0,ei[i>>2]=l,di=u}function Kt(t){t|=0;var e=0,i=0,r=0;return e=0|Be(1,12),e||Fi(22062,22017,46,22075),i=t+4|0,0|(r=0|ei[i>>2])?(r=r+8|0,ei[r>>2]=e,ei[i>>2]=e,0|e):0|ei[t>>2]?(Fi(22092,22017,58,22115),0):(r=t,ei[r>>2]=e,ei[i>>2]=e,0|e)}function Jt(t,e){t|=0,e|=0;var i=0,r=0;return r=0|Ie(24),r||Fi(22129,22017,75,22143),ei[r>>2]=ei[e>>2],ei[r+4>>2]=ei[e+4>>2],ei[r+8>>2]=ei[e+8>>2],ei[r+12>>2]=ei[e+12>>2],ei[r+16>>2]=0,e=t+4|0,0|(i=0|ei[e>>2])?(ei[i+16>>2]=r,ei[e>>2]=r,0|r):(0|ei[t>>2]&&Fi(22158,22017,79,22143),ei[t>>2]=r,ei[e>>2]=r,0|r)}function $t(t){t|=0;var e=0,i=0,r=0,n=0;if(t)for(r=1;;){if(0|(e=0|ei[t>>2]))do{if(0|(i=0|ei[e>>2]))do{n=i,i=0|ei[i+16>>2],ze(n)}while(0!=(0|i));n=e,e=0|ei[e+8>>2],ze(n)}while(0!=(0|e));if(e=t,t=0|ei[t+8>>2],r||ze(e),!t)break;r=0}}function te(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0,d=0,m=0,y=0,g=0,_=0,v=0,x=0,b=0,w=0,E=0,T=0,S=0,k=0,C=0,P=0,M=0,I=0,z=0;if(a=t+8|0,0|ei[a>>2])return 0|(z=1);if(!(o=0|ei[t>>2]))return 0|(z=0);for(e=o,i=0;;){if(r=i+1|0,!(e=0|ei[e+8>>2]))break;i=r}if((0|i)<1)return 0|(z=0);for(M=0|Ie(r<<2),M||Fi(22178,22017,312,22197),P=0|Ie(r<<5),P||Fi(22219,22017,316,22197),ei[t>>2]=0,ei[t+4>>2]=0,ei[a>>2]=0,i=0,C=0,f=0;;){if(u=0|ei[o>>2]){n=0,a=u;do{if(A=+ci[a+8>>3],r=a,a=0|ei[a+16>>2],l=0==(0|a),e=l?u:a,s=+ci[e+8>>3],+bi(+(A-s))>3.141592653589793){n=0,e=u,z=14;break}n+=(s-A)*(+ci[r>>3]+ +ci[e>>3])}while(!l);if(14==(0|z))for(;;){if(z=0,v=+ci[e+8>>3],k=e+16|0,S=0|ei[k>>2],S=0==(0|S)?u:S,_=+ci[S+8>>3],n+=(+ci[e>>3]+ +ci[S>>3])*((_<0?_+6.283185307179586:_)-(v<0?v+6.283185307179586:v)),!(e=0|ei[(0==(0|e)?o:k)>>2]))break;z=14}n>0?(ei[M+(C<<2)>>2]=o,C=C+1|0,e=f):z=18}else z=18;if(18==(0|z)){if(z=0,i){if(e=i+8|0,0|ei[e>>2]){z=20;break}if(!(i=0|Be(1,12))){z=22;break}ei[e>>2]=i}else i=t;if(r=i+4|0,e=0|ei[r>>2])e=e+8|0;else{if(0|ei[i>>2]){z=26;break}e=i}if(ei[e>>2]=o,ei[r>>2]=o,a=P+(f<<5)|0,l=0|ei[o>>2]){u=P+(f<<5)+8|0,ci[u>>3]=1.7976931348623157e308,c=P+(f<<5)+24|0,ci[c>>3]=1.7976931348623157e308,ci[a>>3]=-1.7976931348623157e308,p=P+(f<<5)+16|0,ci[p>>3]=-1.7976931348623157e308,e=0,s=1.7976931348623157e308,d=-1.7976931348623157e308,r=0,m=-1.7976931348623157e308,A=-1.7976931348623157e308,h=1.7976931348623157e308,n=1.7976931348623157e308;t:for(;;)for(g=A;;){if(!(e=0|ei[(0==(0|e)?o:e+16|0)>>2]))break t;if(A=+ci[e>>3],v=+ci[e+8>>3],k=0|ei[e+16>>2],_=+ci[(0==(0|k)?l:k)+8>>3],A<n&&(ci[u>>3]=A,n=A),v<h&&(ci[c>>3]=v,h=v),A>g?ci[a>>3]=A:A=g,v>m&&(ci[p>>3]=v,m=v),s=v>0&v<s?v:s,d=v<0&v>d?v:d,+bi(+(v-_))>3.141592653589793){r=1;continue t}g=A}r&&(ci[p>>3]=d,ci[c>>3]=s)}else ei[a>>2]=0,ei[a+4>>2]=0,ei[a+8>>2]=0,ei[a+12>>2]=0,ei[a+16>>2]=0,ei[a+20>>2]=0,ei[a+24>>2]=0,ei[a+28>>2]=0;e=f+1|0}if(k=o+8|0,o=0|ei[k>>2],ei[k>>2]=0,!o){z=10;break}f=e}if(10==(0|z)){t:do{if((0|C)>0){for(k=0==(0|e),T=e<<2,S=0==(0|t),E=0,e=0;;){if(w=0|ei[M+(E<<2)>>2],k)z=71;else{if(!(b=0|Ie(T))){z=49;break}if(!(x=0|Ie(T))){z=53;break}e:do{if(S)i=0;else{for(o=0,i=0,a=t;;){if(r=P+(o<<5)|0,0|ee(0|ei[a>>2],r,0|ei[w>>2])?(ei[b+(i<<2)>>2]=a,ei[x+(i<<2)>>2]=r,y=i+1|0):y=i,!(a=0|ei[a+8>>2]))break;o=o+1|0,i=y}if((0|y)>0)if(r=0|ei[b>>2],1==(0|y))i=r;else for(p=0,f=-1,i=r,c=r;;){for(l=0|ei[c>>2],r=0,a=0;;){if(o=0|ei[ei[b+(a<<2)>>2]>>2],u=(0|o)==(0|l)?r:r+(1&(0|ee(o,0|ei[x+(a<<2)>>2],0|ei[l>>2])))|0,(0|(a=a+1|0))==(0|y))break;r=u}if(o=(0|u)>(0|f),i=o?c:i,(0|(r=p+1|0))==(0|y))break e;p=r,f=o?u:f,c=0|ei[b+(r<<2)>>2]}else i=0}}while(0);if(ze(b),ze(x),i){if(o=i+4|0,r=0|ei[o>>2])i=r+8|0;else if(0|ei[i>>2]){z=68;break}ei[i>>2]=w,ei[o>>2]=w}else z=71}if(71==(0|z)){if(z=0,0|(e=0|ei[w>>2]))do{b=e,e=0|ei[e+16>>2],ze(b)}while(0!=(0|e));ze(w),e=2}if((0|(E=E+1|0))>=(0|C)){I=e;break t}}49==(0|z)?Fi(22234,22017,246,22253):53==(0|z)?Fi(22272,22017,248,22253):68==(0|z)&&Fi(22092,22017,58,22115)}else I=0}while(0);return ze(M),ze(P),0|(z=I)}return 20==(0|z)?Fi(21995,22017,32,22029):22==(0|z)?Fi(22049,22017,34,22029):26==(0|z)&&Fi(22092,22017,58,22115),0}function ee(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0;if(!(0|I(e,i)))return 0|(t=0);u=0|P(e),c=+ci[i>>3],r=+ci[i+8>>3],e=0,r=u&r<0?r+6.283185307179586:r,i=0;t:for(;;){if(u)do{do{if(!(i=0|ei[(0==(0|i)?t:i+16|0)>>2])){i=21;break t}s=+ci[i>>3],l=+ci[i+8>>3],n=0|ei[i+16>>2],n||(n=0|ei[t>>2]),a=+ci[n>>3],o=+ci[n+8>>3],s>a?(A=s,s=l):(A=a,a=s,s=o,o=l)}while(c<a|c>A);l=o<0?o+6.283185307179586:o,s=s<0?s+6.283185307179586:s,r=s==r|l==r?r+-2.220446049250313e-16:r,l+=(c-a)/(A-a)*(s-l)}while(!((l<0?l+6.283185307179586:l)>r));else do{do{if(!(i=0|ei[(0==(0|i)?t:i+16|0)>>2])){i=21;break t}s=+ci[i>>3],l=+ci[i+8>>3],n=0|ei[i+16>>2],n||(n=0|ei[t>>2]),a=+ci[n>>3],o=+ci[n+8>>3],s>a?(A=s,s=l):(A=a,a=s,s=o,o=l)}while(c<a|c>A);r=s==r|o==r?r+-2.220446049250313e-16:r}while(!(o+(c-a)/(A-a)*(s-o)>r));e^=1}return 21==(0|i)?0|e:0}function ie(t,e,i,r,n){t|=0,e|=0,i|=0,r|=0,n|=0;var o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0,d=0,m=0,y=0,g=0;if(g=di,di=di+32|0,y=g+16|0,m=g,o=0|Ge(0|t,0|e,52),o&=15,p=0|Ge(0|i,0|r,52),(0|o)!=(15&p|0))return y=1,di=g,0|y;if(l=0|Ge(0|t,0|e,45),l&=127,u=0|Ge(0|i,0|r,45),u&=127,p=(0|l)!=(0|u)){if(7==(0|(s=0|C(l,u))))return y=2,di=g,0|y;A=0|C(u,l),7==(0|A)?Fi(22394,22418,147,22428):(f=s,a=A)}else f=0,a=0;c=0|b(l),h=0|b(u),ei[y>>2]=0,ei[y+4>>2]=0,ei[y+8>>2]=0,ei[y+12>>2]=0;do{if(f){if(u=0|ei[6152+(28*l|0)+(f<<2)>>2],s=(0|u)>0,h)if(s){l=0,A=i,s=r;do{A=0|Dt(A,s),s=vi,a=0|W(a),1==(0|a)&&(a=0|W(1)),l=l+1|0}while((0|l)!=(0|u));u=a,l=A,A=s}else u=a,l=i,A=r;else if(s){l=0,A=i,s=r;do{A=0|Lt(A,s),s=vi,a=0|W(a),l=l+1|0}while((0|l)!=(0|u));u=a,l=A,A=s}else u=a,l=i,A=r;if(Ut(l,A,y),p||Fi(22441,22418,177,22428),s=0!=(0|c),a=0!=(0|h),s&a&&Fi(22468,22418,178,22428),s){if(a=0|It(t,e),0|Ot(o)?0|Ke[22345+(7*a|0)+f>>0]:0){o=3;break}if(0==(0|Ot(o))?0|Ke[22296+(7*a|0)+f>>0]:0){o=3;break}A=0|ei[21044+(28*a|0)+(f<<2)>>2],l=A,d=32}else if(a){if(a=0|It(l,A),0|Ot(o)?0|Ke[22345+(7*a|0)+u>>0]:0){o=4;break}if(0==(0|Ot(o))?0|Ke[22296+(7*a|0)+u>>0]:0){o=4;break}l=0,A=0|ei[21044+(28*u|0)+(a<<2)>>2],d=32}else a=0;if(32==(0|d))if((0|A)<=-1&&Fi(22499,22418,212,22428),(0|l)<=-1&&Fi(22522,22418,213,22428),(0|A)>0){s=y+4|0,a=0;do{Z(s),a=a+1|0}while((0|a)!=(0|A));a=l}else a=l;if(ei[m>>2]=0,ei[m+4>>2]=0,ei[m+8>>2]=0,Q(m,f),0|o)for(;;){if(0|Ot(o)?q(m):G(m),!((0|o)>1))break;o=o+-1|0}if((0|a)>0){o=0;do{Z(m),o=o+1|0}while((0|o)!=(0|a))}d=y+4|0,O(d,m,d),L(d),d=53}else if(Ut(i,r,y),0!=(0|c)&0!=(0|h))if((0|u)!=(0|l)&&Fi(22546,22418,243,22428),a=0|It(t,e),o=0|It(i,r),0==(0|Ke[22345+(7*a|0)+o>>0])?0==(0|Ke[22296+(7*a|0)+o>>0]):0)if((0|(a=0|ei[21044+(28*a|0)+(o<<2)>>2]))>0){s=y+4|0,o=0;do{Z(s),o=o+1|0}while((0|o)!=(0|a));d=53}else d=53;else o=5;else d=53}while(0);return 53==(0|d)&&(o=y+4|0,ei[n>>2]=ei[o>>2],ei[n+4>>2]=ei[o+4>>2],ei[n+8>>2]=ei[o+8>>2],o=0),y=o,di=g,0|y}function re(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0,d=0,m=0,y=0,g=0;if(f=di,di=di+48|0,a=f+36|0,s=f+24|0,A=f+12|0,l=f,o=0|Ge(0|t,0|e,52),o&=15,h=0|Ge(0|t,0|e,45),h&=127,u=0|b(h),Qe(0|o,0,52),d=r,ei[d>>2]=-1,ei[d+4>>2]=134225919|vi,!o)return(0|ei[i>>2])>1?(d=1,di=f,0|d):127==(0|(n=0|k(h,0|V(i))))?(d=1,di=f,0|d):(h=0|Qe(0|n,0,45),c=r,p=-1040385&ei[c+4>>2]|vi,d=r,ei[d>>2]=ei[c>>2]|h,ei[d+4>>2]=p,d=0,di=f,0|d);for(ei[a>>2]=ei[i>>2],ei[a+4>>2]=ei[i+4>>2],ei[a+8>>2]=ei[i+8>>2];;){if(ei[s>>2]=ei[a>>2],ei[s+4>>2]=ei[a+4>>2],ei[s+8>>2]=ei[a+8>>2],0|Ot(o)?(N(a),ei[A>>2]=ei[a>>2],ei[A+4>>2]=ei[a+4>>2],ei[A+8>>2]=ei[a+8>>2],q(A)):(j(a),ei[A>>2]=ei[a>>2],ei[A+4>>2]=ei[a+4>>2],ei[A+8>>2]=ei[a+8>>2],G(A)),F(s,A,l),L(l),i=r,y=0|ei[i>>2],i=0|ei[i+4>>2],g=3*(15-o|0)|0,m=0|Qe(7,0,0|g),i&=~vi,g=0|Qe(0|V(l),0,0|g),d=r,ei[d>>2]=g|y&~m,ei[d+4>>2]=vi|i,!((0|o)>1))break;o=o+-1|0}t:do{if(((0|ei[a>>2])<=1?(0|ei[a+4>>2])<=1:0)?(0|ei[a+8>>2])<=1:0){o=0|V(a),s=0|k(h,o),l=127==(0|s)?0:0|b(s);e:do{if(o){if(u){if(a=21240+(28*(0|It(t,e))|0)+(o<<2)|0,(0|(a=0|ei[a>>2]))>0){i=0;do{o=0|X(o),i=i+1|0}while((0|i)!=(0|a))}if(1==(0|o)){n=3;break t}i=0|k(h,o),127==(0|i)&&Fi(22573,22418,377,22603),0|b(i)?Fi(22616,22418,378,22603):(p=a,c=o,n=i)}else p=0,c=o,n=s;if(A=0|ei[6152+(28*h|0)+(c<<2)>>2],(0|A)<=-1&&Fi(22647,22418,385,22603),!l){if((0|p)<=-1&&Fi(22499,22418,418,22603),0|p){a=r,o=0,i=0|ei[a>>2],a=0|ei[a+4>>2];do{i=0|Bt(i,a),a=vi,g=r,ei[g>>2]=i,ei[g+4>>2]=a,o=o+1|0}while((0|o)<(0|p))}if((0|A)<=0){o=50;break}for(a=r,o=0,i=0|ei[a>>2],a=0|ei[a+4>>2];;)if(i=0|Bt(i,a),a=vi,g=r,ei[g>>2]=i,ei[g+4>>2]=a,(0|(o=o+1|0))==(0|A)){o=50;break e}}if(s=0|C(n,h),7==(0|s)&&Fi(22394,22418,394,22603),o=r,i=0|ei[o>>2],o=0|ei[o+4>>2],(0|A)>0){a=0;do{i=0|Bt(i,o),o=vi,g=r,ei[g>>2]=i,ei[g+4>>2]=o,a=a+1|0}while((0|a)!=(0|A))}if(i=0|It(i,o),g=0|w(n),i=0|ei[(g?21632:21436)+(28*s|0)+(i<<2)>>2],(0|i)<=-1&&Fi(22499,22418,413,22603),i){s=r,o=0,a=0|ei[s>>2],s=0|ei[s+4>>2];do{a=0|zt(a,s),s=vi,g=r,ei[g>>2]=a,ei[g+4>>2]=s,o=o+1|0}while((0|o)<(0|i));o=50}else o=50}else if(0!=(0|u)&0!=(0|l))if(g=0|It(t,e),o=r,o=21240+(28*g|0)+((0|It(0|ei[o>>2],0|ei[o+4>>2]))<<2)|0,o=0|ei[o>>2],(0|o)<=-1&&Fi(22670,22418,434,22603),o){a=r,n=0,i=0|ei[a>>2],a=0|ei[a+4>>2];do{i=0|Bt(i,a),a=vi,g=r,ei[g>>2]=i,ei[g+4>>2]=a,n=n+1|0}while((0|n)<(0|o));n=s,o=50}else n=s,o=51;else n=s,o=50}while(0);if(50==(0|o)&&l&&(o=51),51==(0|o)&&(g=r,1==(0|It(0|ei[g>>2],0|ei[g+4>>2])))){n=4;break}g=r,m=0|ei[g>>2],g=-1040385&ei[g+4>>2],y=0|Qe(0|n,0,45),n=r,ei[n>>2]=m|y,ei[n+4>>2]=g|vi,n=0}else n=2}while(0);return g=n,di=f,0|g}function ne(t,e,i,r,n){t|=0,e|=0,i|=0,r|=0,n|=0;var o=0,a=0;return a=di,di=di+16|0,o=a,t=0|ie(t,e,i,r,o),t||($(o,n),t=0),di=a,0|t}function oe(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0;return n=di,di=di+16|0,o=n,tt(i,o),r=0|re(t,e,o,r),di=n,0|r}function ae(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0,a=0;return a=di,di=di+32|0,n=a+12|0,o=a,t=(0==(0|ie(t,e,t,e,n))?0==(0|ie(t,e,i,r,o)):0)?0|J(n,o):-1,di=a,0|t}function se(t,e){t|=0,e|=0;var i=0;if(!e)return 0|(i=1);i=t,t=1;do{t=0|Bi(0==(1&e|0)?1:i,t),e>>=1,i=0|Bi(i,i)}while(0!=(0|e));return 0|t}function Ae(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0;if(!(0|I(e,i)))return 0|(c=0);c=0|P(e),h=+ci[i>>3],r=+ci[i+8>>3],u=0|ei[t>>2],l=t+4|0,e=0,r=c&r<0?r+6.283185307179586:r,i=-1;t:for(;;){if(c)do{do{if(t=i,(0|(i=i+1|0))>=(0|u)){i=17;break t}p=0|ei[l>>2],a=+ci[p+(i<<4)>>3],s=+ci[p+(i<<4)+8>>3],t=(t+2|0)%(0|u)|0,o=+ci[p+(t<<4)>>3],n=+ci[p+(t<<4)+8>>3],a>o?(A=a,a=s):(A=o,o=a,a=n,n=s)}while(h<o|h>A);s=n<0?n+6.283185307179586:n,a=a<0?a+6.283185307179586:a,r=a==r|s==r?r+-2.220446049250313e-16:r,A=s+(h-o)/(A-o)*(a-s)}while(!((A<0?A+6.283185307179586:A)>r));else do{do{if(t=i,(0|(i=i+1|0))>=(0|u)){i=17;break t}f=0|ei[l>>2],a=+ci[f+(i<<4)>>3],s=+ci[f+(i<<4)+8>>3],p=(t+2|0)%(0|u)|0,n=+ci[f+(p<<4)>>3],o=+ci[f+(p<<4)+8>>3],a>n?(A=a,a=s):(A=n,n=a,a=o,o=s)}while(h<n|h>A);r=a==r|o==r?r+-2.220446049250313e-16:r}while(!(o+(h-n)/(A-n)*(a-o)>r));e^=1}return 17==(0|i)?0|e:0}function le(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0,d=0,m=0,y=0,g=0;if(!(f=0|ei[t>>2]))return ei[e>>2]=0,ei[e+4>>2]=0,ei[e+8>>2]=0,ei[e+12>>2]=0,ei[e+16>>2]=0,ei[e+20>>2]=0,ei[e+24>>2]=0,void(ei[e+28>>2]=0);d=e+8|0,ci[d>>3]=1.7976931348623157e308,m=e+24|0,ci[m>>3]=1.7976931348623157e308,ci[e>>3]=-1.7976931348623157e308,y=e+16|0,ci[y>>3]=-1.7976931348623157e308,p=t+4|0,t=-1,r=1.7976931348623157e308,o=-1.7976931348623157e308,h=0,s=-1.7976931348623157e308,a=-1.7976931348623157e308,n=1.7976931348623157e308,i=1.7976931348623157e308;t:for(;;)for(A=a;;){if((0|(c=t+1|0))>=(0|f))break t;if(g=0|ei[p>>2],a=+ci[g+(c<<4)>>3],u=+ci[g+(c<<4)+8>>3],l=+ci[g+(((t+2|0)%(0|f)|0)<<4)+8>>3],a<i&&(ci[d>>3]=a,i=a),u<n&&(ci[m>>3]=u,n=u),a>A?ci[e>>3]=a:a=A,u>s&&(ci[y>>3]=u,s=u),r=u>0&u<r?u:r,o=u<0&u>o?u:o,+bi(+(u-l))>3.141592653589793){t=c,h=1;continue t}t=c,A=a}h&&(ci[y>>3]=o,ci[m>>3]=r)}function ue(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0,d=0,m=0,y=0,g=0,_=0,v=0,x=0,b=0,w=0;if(f=0|ei[t>>2]){d=e+8|0,ci[d>>3]=1.7976931348623157e308,m=e+24|0,ci[m>>3]=1.7976931348623157e308,ci[e>>3]=-1.7976931348623157e308,y=e+16|0,ci[y>>3]=-1.7976931348623157e308,g=t+4|0,i=-1,a=1.7976931348623157e308,A=-1.7976931348623157e308,n=0,u=-1.7976931348623157e308,l=-1.7976931348623157e308,s=1.7976931348623157e308,o=1.7976931348623157e308;t:for(;;)for(c=l;;){if((0|(r=i+1|0))>=(0|f))break t;if(b=0|ei[g>>2],l=+ci[b+(r<<4)>>3],p=+ci[b+(r<<4)+8>>3],h=+ci[b+(((i+2|0)%(0|f)|0)<<4)+8>>3],l<o&&(ci[d>>3]=l,o=l),p<s&&(ci[m>>3]=p,s=p),l>c?ci[e>>3]=l:l=c,p>u&&(ci[y>>3]=p,u=p),a=p>0&p<a?p:a,A=p<0&p>A?p:A,+bi(+(p-h))>3.141592653589793){i=r,n=1;continue t}i=r,c=l}n&&(ci[y>>3]=A,ci[m>>3]=a)}else ei[e>>2]=0,ei[e+4>>2]=0,ei[e+8>>2]=0,ei[e+12>>2]=0,ei[e+16>>2]=0,ei[e+20>>2]=0,ei[e+24>>2]=0,ei[e+28>>2]=0;if(b=t+8|0,!((0|(i=0|ei[b>>2]))<=0))for(x=t+12|0,v=0;;){if(n=0|ei[x>>2],r=v,v=v+1|0,m=e+(v<<5)|0,y=0|ei[n+(r<<3)>>2]){g=e+(v<<5)+8|0,ci[g>>3]=1.7976931348623157e308,t=e+(v<<5)+24|0,ci[t>>3]=1.7976931348623157e308,ci[m>>3]=-1.7976931348623157e308,_=e+(v<<5)+16|0,ci[_>>3]=-1.7976931348623157e308,d=n+(r<<3)+4|0,r=-1,a=1.7976931348623157e308,A=-1.7976931348623157e308,f=0,u=-1.7976931348623157e308,l=-1.7976931348623157e308,s=1.7976931348623157e308,o=1.7976931348623157e308;t:for(;;)for(c=l;;){if((0|(n=r+1|0))>=(0|y))break t;if(w=0|ei[d>>2],l=+ci[w+(n<<4)>>3],p=+ci[w+(n<<4)+8>>3],h=+ci[w+(((r+2|0)%(0|y)|0)<<4)+8>>3],l<o&&(ci[g>>3]=l,o=l),p<s&&(ci[t>>3]=p,s=p),l>c?ci[m>>3]=l:l=c,p>u&&(ci[_>>3]=p,u=p),a=p>0&p<a?p:a,A=p<0&p>A?p:A,+bi(+(p-h))>3.141592653589793){r=n,f=1;continue t}r=n,c=l}f&&(ci[_>>3]=A,ci[t>>3]=a)}else ei[m>>2]=0,ei[m+4>>2]=0,ei[m+8>>2]=0,ei[m+12>>2]=0,ei[m+16>>2]=0,ei[m+20>>2]=0,ei[m+24>>2]=0,ei[m+28>>2]=0,i=0|ei[b>>2];if((0|v)>=(0|i))break}}function ce(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0;if(!(0|Ae(t,e,i)))return 0|(n=0);if(n=t+8|0,(0|ei[n>>2])<=0)return 0|(n=1);for(r=t+12|0,t=0;;){if(o=t,t=t+1|0,0|Ae((0|ei[r>>2])+(o<<3)|0,e+(t<<5)|0,i)){t=0,r=6;break}if((0|t)>=(0|ei[n>>2])){t=1,r=6;break}}return 6==(0|r)?0|t:0}function he(){return 8}function pe(){return 16}function fe(){return 168}function de(){return 8}function me(){return 16}function ye(){return 12}function ge(){return 8}function _e(t){t|=0;var e=0,i=0;return i=+ci[t>>3],e=+ci[t+8>>3],+ +wi(+(i*i+e*e))}function ve(t,e,i,r,n){t|=0,e|=0,i|=0,r|=0,n|=0;var o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0;l=+ci[t>>3],A=+ci[e>>3]-l,s=+ci[t+8>>3],a=+ci[e+8>>3]-s,c=+ci[i>>3],o=+ci[r>>3]-c,h=+ci[i+8>>3],u=+ci[r+8>>3]-h,o=(o*(s-h)-(l-c)*u)/(A*u-a*o),ci[n>>3]=l+A*o,ci[n+8>>3]=s+a*o}function xe(t,e){return t|=0,e|=0,+ci[t>>3]!=+ci[e>>3]?0|(e=0):0|(e=+ci[t+8>>3]==+ci[e+8>>3])}function be(t,e){t|=0,e|=0;var i=0,r=0,n=0;return n=+ci[t>>3]-+ci[e>>3],r=+ci[t+8>>3]-+ci[e+8>>3],i=+ci[t+16>>3]-+ci[e+16>>3],+(n*n+r*r+i*i)}function we(t,e){t|=0,e|=0;var i=0,r=0,n=0;i=+ci[t>>3],r=+Ti(+i),i=+Si(+i),ci[e+16>>3]=i,i=+ci[t+8>>3],n=r*+Ti(+i),ci[e>>3]=n,i=r*+Si(+i),ci[e+8>>3]=i}function Ee(t,e,i){t|=0,e|=0,i|=0;var r=0;(0|e)>0?(r=0|Be(e,4),ei[t>>2]=r,r||Fi(22699,22722,37,22736)):ei[t>>2]=0,ei[t+4>>2]=e,ei[t+8>>2]=0,ei[t+12>>2]=i}function Te(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0;n=t+4|0,o=t+12|0,a=t+8|0;t:for(;;){for(i=0|ei[n>>2],e=0;;){if((0|e)>=(0|i))break t;if(r=0|ei[t>>2],s=0|ei[r+(e<<2)>>2])break;e=e+1|0}if(i=r+(~~+Re(+bi(+ +Ei(10,+ +(15-(0|ei[o>>2])|0))*(+ci[s>>3]+ +ci[s+8>>3])),+(0|i))>>>0<<2)|0,e=0|ei[i>>2]){if(r=s+32|0,(0|e)==(0|s))ei[i>>2]=ei[r>>2];else{for(;;){if(i=e+32|0,!(e=0|ei[i>>2]))continue t;if((0|e)==(0|s))break}ei[i>>2]=ei[r>>2]}ze(s),ei[a>>2]=(0|ei[a>>2])-1}}ze(0|ei[t>>2])}function Se(t){t|=0;var e=0,i=0,r=0;for(r=0|ei[t+4>>2],i=0;;){if((0|i)>=(0|r)){e=0,i=4;break}if(e=0|ei[(0|ei[t>>2])+(i<<2)>>2]){i=4;break}i=i+1|0}return 4==(0|i)?0|e:0}function ke(t,e){t|=0,e|=0;var i=0,r=0,n=0,o=0;if(r=~~+Re(+bi(+ +Ei(10,+ +(15-(0|ei[t+12>>2])|0))*(+ci[e>>3]+ +ci[e+8>>3])),+(0|ei[t+4>>2]))>>>0,r=(0|ei[t>>2])+(r<<2)|0,!(i=0|ei[r>>2]))return 0|(o=1);o=e+32|0;do{if((0|i)!=(0|e)){for(;;){if(r=i+32|0,!(i=0|ei[r>>2])){i=1,n=8;break}if((0|i)==(0|e)){n=6;break}}if(6==(0|n)){ei[r>>2]=ei[o>>2];break}if(8==(0|n))return 0|i}else ei[r>>2]=ei[o>>2]}while(0);return ze(e),o=t+8|0,ei[o>>2]=(0|ei[o>>2])-1,0|(o=0)}function Ce(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0;o=0|Ie(40),o||Fi(22752,22722,95,22765),ei[o>>2]=ei[e>>2],ei[o+4>>2]=ei[e+4>>2],ei[o+8>>2]=ei[e+8>>2],ei[o+12>>2]=ei[e+12>>2],n=o+16|0,ei[n>>2]=ei[i>>2],ei[n+4>>2]=ei[i+4>>2],ei[n+8>>2]=ei[i+8>>2],ei[n+12>>2]=ei[i+12>>2],ei[o+32>>2]=0,n=~~+Re(+bi(+ +Ei(10,+ +(15-(0|ei[t+12>>2])|0))*(+ci[e>>3]+ +ci[e+8>>3])),+(0|ei[t+4>>2]))>>>0,n=(0|ei[t>>2])+(n<<2)|0,r=0|ei[n>>2];do{if(r){for(;;){if(0|ut(r,e)?0|ut(r+16|0,i):0)break;if(n=0|ei[r+32>>2],r=0==(0|n)?r:n,n=r+32|0,!(0|ei[n>>2])){a=9;break}}if(9==(0|a)){ei[n>>2]=o;break}return ze(o),0|(a=r)}ei[n>>2]=o}while(0);return a=t+8|0,ei[a>>2]=1+(0|ei[a>>2]),0|(a=o)}function Pe(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0;if(r=~~+Re(+bi(+ +Ei(10,+ +(15-(0|ei[t+12>>2])|0))*(+ci[e>>3]+ +ci[e+8>>3])),+(0|ei[t+4>>2]))>>>0,!(t=0|ei[(0|ei[t>>2])+(r<<2)>>2]))return 0|(i=0);if(i)n=t;else{for(;;){if(0|ut(t,e)){r=8;break}if(!(t=0|ei[t+32>>2])){t=0,r=8;break}}if(8==(0|r))return 0|t}for(;;){if(0|ut(n,e)?0|ut(n+16|0,i):0){t=n,r=8;break}if(!(n=0|ei[n+32>>2])){t=0,r=8;break}}return 8==(0|r)?0|t:0}function Me(t,e){t|=0,e|=0;var i=0;if(i=~~+Re(+bi(+ +Ei(10,+ +(15-(0|ei[t+12>>2])|0))*(+ci[e>>3]+ +ci[e+8>>3])),+(0|ei[t+4>>2]))>>>0,!(t=0|ei[(0|ei[t>>2])+(i<<2)>>2]))return 0|(i=0);for(;;){if(0|ut(t,e)){e=4;break}if(!(t=0|ei[t+32>>2])){t=0,e=4;break}}return 4==(0|e)?0|t:0}function Ie(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0,d=0,m=0,y=0,g=0,_=0,v=0,x=0;x=di,di=di+16|0,p=x;do{if(t>>>0<245){if(u=t>>>0<11?16:t+11&-8,t=u>>>3,h=0|ei[5696],3&(i=h>>>t)|0)return e=(1&i^1)+t|0,t=22824+(e<<1<<2)|0,i=t+8|0,r=0|ei[i>>2],n=r+8|0,o=0|ei[n>>2],(0|o)==(0|t)?ei[5696]=h&~(1<<e):(ei[o+12>>2]=t,ei[i>>2]=o),v=e<<3,ei[r+4>>2]=3|v,v=r+v+4|0,ei[v>>2]=1|ei[v>>2],v=n,di=x,0|v;if(c=0|ei[5698],u>>>0>c>>>0){if(0|i)return e=2<<t,e=i<<t&(e|0-e),e=(e&0-e)-1|0,s=e>>>12&16,e>>>=s,i=e>>>5&8,e>>>=i,o=e>>>2&4,e>>>=o,t=e>>>1&2,e>>>=t,r=e>>>1&1,r=(i|s|o|t|r)+(e>>>r)|0,e=22824+(r<<1<<2)|0,t=e+8|0,o=0|ei[t>>2],s=o+8|0,i=0|ei[s>>2],(0|i)==(0|e)?(t=h&~(1<<r),ei[5696]=t):(ei[i+12>>2]=e,ei[t>>2]=i,t=h),v=r<<3,a=v-u|0,ei[o+4>>2]=3|u,n=o+u|0,ei[n+4>>2]=1|a,ei[o+v>>2]=a,0|c&&(r=0|ei[5701],e=c>>>3,i=22824+(e<<1<<2)|0,e=1<<e,t&e?(t=i+8|0,e=0|ei[t>>2]):(ei[5696]=t|e,e=i,t=i+8|0),ei[t>>2]=r,ei[e+12>>2]=r,ei[r+8>>2]=e,ei[r+12>>2]=i),ei[5698]=a,ei[5701]=n,v=s,di=x,0|v;if(A=0|ei[5697]){if(i=(A&0-A)-1|0,s=i>>>12&16,i>>>=s,a=i>>>5&8,i>>>=a,l=i>>>2&4,i>>>=l,r=i>>>1&2,i>>>=r,t=i>>>1&1,t=0|ei[23088+((a|s|l|r|t)+(i>>>t)<<2)>>2],i=(-8&ei[t+4>>2])-u|0,r=0|ei[t+16+((0==(0|ei[t+16>>2])&1)<<2)>>2]){do{s=(-8&ei[r+4>>2])-u|0,l=s>>>0<i>>>0,i=l?s:i,t=l?r:t,r=0|ei[r+16+((0==(0|ei[r+16>>2])&1)<<2)>>2]}while(0!=(0|r));l=t,a=i}else l=t,a=i;if((s=l+u|0)>>>0>l>>>0){n=0|ei[l+24>>2],e=0|ei[l+12>>2];do{if((0|e)==(0|l)){if(t=l+20|0,!((e=0|ei[t>>2])||(t=l+16|0,e=0|ei[t>>2]))){i=0;break}for(;;)if(i=e+20|0,0|(r=0|ei[i>>2]))e=r,t=i;else{if(i=e+16|0,!(r=0|ei[i>>2]))break;e=r,t=i}ei[t>>2]=0,i=e}else i=0|ei[l+8>>2],ei[i+12>>2]=e,ei[e+8>>2]=i,i=e}while(0);do{if(0|n){if(e=0|ei[l+28>>2],t=23088+(e<<2)|0,(0|l)==(0|ei[t>>2])){if(ei[t>>2]=i,!i){ei[5697]=A&~(1<<e);break}}else if(ei[n+16+(((0|ei[n+16>>2])!=(0|l)&1)<<2)>>2]=i,!i)break;ei[i+24>>2]=n,e=0|ei[l+16>>2],0|e&&(ei[i+16>>2]=e,ei[e+24>>2]=i),e=0|ei[l+20>>2],0|e&&(ei[i+20>>2]=e,ei[e+24>>2]=i)}}while(0);return a>>>0<16?(v=a+u|0,ei[l+4>>2]=3|v,v=l+v+4|0,ei[v>>2]=1|ei[v>>2]):(ei[l+4>>2]=3|u,ei[s+4>>2]=1|a,ei[s+a>>2]=a,0|c&&(r=0|ei[5701],e=c>>>3,i=22824+(e<<1<<2)|0,e=1<<e,h&e?(t=i+8|0,e=0|ei[t>>2]):(ei[5696]=h|e,e=i,t=i+8|0),ei[t>>2]=r,ei[e+12>>2]=r,ei[r+8>>2]=e,ei[r+12>>2]=i),ei[5698]=a,ei[5701]=s),v=l+8|0,di=x,0|v}c=u}else c=u}else c=u}else if(t>>>0<=4294967231)if(t=t+11|0,u=-8&t,l=0|ei[5697]){r=0-u|0,t>>>=8,t?u>>>0>16777215?A=31:(h=(t+1048320|0)>>>16&8,
_=t<<h,c=(_+520192|0)>>>16&4,_<<=c,A=(_+245760|0)>>>16&2,A=14-(c|h|A)+(_<<A>>>15)|0,A=u>>>(A+7|0)&1|A<<1):A=0,i=0|ei[23088+(A<<2)>>2];t:do{if(i)for(t=0,s=i,a=u<<(31==(0|A)?0:25-(A>>>1)|0),i=0;;){if((n=(-8&ei[s+4>>2])-u|0)>>>0<r>>>0){if(!n){r=0,i=s,t=s,_=61;break t}t=s,r=n}if(n=0|ei[s+20>>2],s=0|ei[s+16+(a>>>31<<2)>>2],i=0==(0|n)|(0|n)==(0|s)?i:n,n=0==(0|s)){_=57;break}a<<=1&(1^n)}else i=0,t=0,_=57}while(0);if(57==(0|_)){if(0==(0|i)&0==(0|t)){if(t=2<<A,!(t=l&(t|0-t))){c=u;break}h=(t&0-t)-1|0,s=h>>>12&16,h>>>=s,a=h>>>5&8,h>>>=a,A=h>>>2&4,h>>>=A,c=h>>>1&2,h>>>=c,i=h>>>1&1,t=0,i=0|ei[23088+((a|s|A|c|i)+(h>>>i)<<2)>>2]}i?_=61:(s=t,a=r)}if(61==(0|_))for(;;){if(_=0,c=(-8&ei[i+4>>2])-u|0,h=c>>>0<r>>>0,r=h?c:r,t=h?i:t,!(i=0|ei[i+16+((0==(0|ei[i+16>>2])&1)<<2)>>2])){s=t,a=r;break}_=61}if(0!=(0|s)?a>>>0<((0|ei[5698])-u|0)>>>0:0){if((o=s+u|0)>>>0<=s>>>0)return v=0,di=x,0|v;n=0|ei[s+24>>2],e=0|ei[s+12>>2];do{if((0|e)==(0|s)){if(t=s+20|0,!((e=0|ei[t>>2])||(t=s+16|0,e=0|ei[t>>2]))){e=0;break}for(;;)if(i=e+20|0,0|(r=0|ei[i>>2]))e=r,t=i;else{if(i=e+16|0,!(r=0|ei[i>>2]))break;e=r,t=i}ei[t>>2]=0}else v=0|ei[s+8>>2],ei[v+12>>2]=e,ei[e+8>>2]=v}while(0);do{if(n){if(t=0|ei[s+28>>2],i=23088+(t<<2)|0,(0|s)==(0|ei[i>>2])){if(ei[i>>2]=e,!e){r=l&~(1<<t),ei[5697]=r;break}}else if(ei[n+16+(((0|ei[n+16>>2])!=(0|s)&1)<<2)>>2]=e,!e){r=l;break}ei[e+24>>2]=n,t=0|ei[s+16>>2],0|t&&(ei[e+16>>2]=t,ei[t+24>>2]=e),t=0|ei[s+20>>2],t?(ei[e+20>>2]=t,ei[t+24>>2]=e,r=l):r=l}else r=l}while(0);do{if(a>>>0>=16){if(ei[s+4>>2]=3|u,ei[o+4>>2]=1|a,ei[o+a>>2]=a,e=a>>>3,a>>>0<256){i=22824+(e<<1<<2)|0,t=0|ei[5696],e=1<<e,t&e?(t=i+8|0,e=0|ei[t>>2]):(ei[5696]=t|e,e=i,t=i+8|0),ei[t>>2]=o,ei[e+12>>2]=o,ei[o+8>>2]=e,ei[o+12>>2]=i;break}if(e=a>>>8,e?a>>>0>16777215?e=31:(_=(e+1048320|0)>>>16&8,v=e<<_,g=(v+520192|0)>>>16&4,v<<=g,e=(v+245760|0)>>>16&2,e=14-(g|_|e)+(v<<e>>>15)|0,e=a>>>(e+7|0)&1|e<<1):e=0,i=23088+(e<<2)|0,ei[o+28>>2]=e,t=o+16|0,ei[t+4>>2]=0,ei[t>>2]=0,t=1<<e,!(r&t)){ei[5697]=r|t,ei[i>>2]=o,ei[o+24>>2]=i,ei[o+12>>2]=o,ei[o+8>>2]=o;break}for(t=a<<(31==(0|e)?0:25-(e>>>1)|0),i=0|ei[i>>2];;){if((-8&ei[i+4>>2]|0)==(0|a)){_=97;break}if(r=i+16+(t>>>31<<2)|0,!(e=0|ei[r>>2])){_=96;break}t<<=1,i=e}if(96==(0|_)){ei[r>>2]=o,ei[o+24>>2]=i,ei[o+12>>2]=o,ei[o+8>>2]=o;break}if(97==(0|_)){_=i+8|0,v=0|ei[_>>2],ei[v+12>>2]=o,ei[_>>2]=o,ei[o+8>>2]=v,ei[o+12>>2]=i,ei[o+24>>2]=0;break}}else v=a+u|0,ei[s+4>>2]=3|v,v=s+v+4|0,ei[v>>2]=1|ei[v>>2]}while(0);return v=s+8|0,di=x,0|v}c=u}else c=u;else c=-1}while(0);if((i=0|ei[5698])>>>0>=c>>>0)return e=i-c|0,t=0|ei[5701],e>>>0>15?(v=t+c|0,ei[5701]=v,ei[5698]=e,ei[v+4>>2]=1|e,ei[t+i>>2]=e,ei[t+4>>2]=3|c):(ei[5698]=0,ei[5701]=0,ei[t+4>>2]=3|i,v=t+i+4|0,ei[v>>2]=1|ei[v>>2]),v=t+8|0,di=x,0|v;if((s=0|ei[5699])>>>0>c>>>0)return g=s-c|0,ei[5699]=g,v=0|ei[5702],_=v+c|0,ei[5702]=_,ei[_+4>>2]=1|g,ei[v+4>>2]=3|c,v=v+8|0,di=x,0|v;if(0|ei[5814]?t=0|ei[5816]:(ei[5816]=4096,ei[5815]=4096,ei[5817]=-1,ei[5818]=-1,ei[5819]=0,ei[5807]=0,ei[5814]=-16&p^1431655768,t=4096),A=c+48|0,l=c+47|0,a=t+l|0,n=0-t|0,(u=a&n)>>>0<=c>>>0)return v=0,di=x,0|v;if(t=0|ei[5806],0|t?(h=0|ei[5804],(p=h+u|0)>>>0<=h>>>0|p>>>0>t>>>0):0)return v=0,di=x,0|v;t:do{if(4&ei[5807])e=0,_=133;else{i=0|ei[5702];e:do{if(i){for(r=23232;;){if(t=0|ei[r>>2],t>>>0<=i>>>0?(m=r+4|0,(t+(0|ei[m>>2])|0)>>>0>i>>>0):0)break;if(!(t=0|ei[r+8>>2])){_=118;break e}r=t}if((e=a-s&n)>>>0<2147483647)if((0|(t=0|We(0|e)))==((0|ei[r>>2])+(0|ei[m>>2])|0)){if(-1!=(0|t)){a=e,o=t,_=135;break t}}else r=t,_=126;else e=0}else _=118}while(0);do{if(118==(0|_))if(i=0|We(0),-1!=(0|i)?(e=i,f=0|ei[5815],d=f+-1|0,e=(0==(d&e|0)?0:(d+e&0-f)-e|0)+u|0,f=0|ei[5804],d=e+f|0,e>>>0>c>>>0&e>>>0<2147483647):0){if(m=0|ei[5806],0|m?d>>>0<=f>>>0|d>>>0>m>>>0:0){e=0;break}if((0|(t=0|We(0|e)))==(0|i)){a=e,o=i,_=135;break t}r=t,_=126}else e=0}while(0);do{if(126==(0|_)){if(i=0-e|0,!(A>>>0>e>>>0&e>>>0<2147483647&-1!=(0|r))){if(-1==(0|r)){e=0;break}a=e,o=r,_=135;break t}if(t=0|ei[5816],(t=l-e+t&0-t)>>>0>=2147483647){a=e,o=r,_=135;break t}if(-1==(0|We(0|t))){We(0|i),e=0;break}a=t+e|0,o=r,_=135;break t}}while(0);ei[5807]=4|ei[5807],_=133}}while(0);if(!(133==(0|_)?u>>>0<2147483647:0)||(o=0|We(0|u),m=0|We(0),y=m-o|0,g=y>>>0>(c+40|0)>>>0,-1==(0|o)|1^g|o>>>0<m>>>0&-1!=(0|o)&-1!=(0|m)^1)||(a=g?y:e,_=135),135==(0|_)){e=(0|ei[5804])+a|0,ei[5804]=e,e>>>0>(0|ei[5805])>>>0&&(ei[5805]=e),A=0|ei[5702];do{if(A){for(e=23232;;){if(t=0|ei[e>>2],i=e+4|0,r=0|ei[i>>2],(0|o)==(t+r|0)){_=143;break}if(!(n=0|ei[e+8>>2]))break;e=n}if((143==(0|_)?0==(8&ei[e+12>>2]|0):0)?o>>>0>A>>>0&t>>>0<=A>>>0:0){ei[i>>2]=r+a,v=(0|ei[5699])+a|0,g=A+8|0,g=0==(7&g|0)?0:0-g&7,_=A+g|0,g=v-g|0,ei[5702]=_,ei[5699]=g,ei[_+4>>2]=1|g,ei[A+v+4>>2]=40,ei[5703]=ei[5818];break}for(o>>>0<(0|ei[5700])>>>0&&(ei[5700]=o),t=o+a|0,e=23232;;){if((0|ei[e>>2])==(0|t)){_=151;break}if(!(e=0|ei[e+8>>2])){t=23232;break}}if(151==(0|_)){if(!(8&ei[e+12>>2])){ei[e>>2]=o,u=e+4|0,ei[u>>2]=(0|ei[u>>2])+a,u=o+8|0,u=o+(0==(7&u|0)?0:0-u&7)|0,e=t+8|0,e=t+(0==(7&e|0)?0:0-e&7)|0,l=u+c|0,s=e-u-c|0,ei[u+4>>2]=3|c;do{if((0|A)!=(0|e)){if((0|ei[5701])==(0|e)){v=(0|ei[5698])+s|0,ei[5698]=v,ei[5701]=l,ei[l+4>>2]=1|v,ei[l+v>>2]=v;break}if(1==(3&(t=0|ei[e+4>>2])|0)){a=-8&t,r=t>>>3;t:do{if(t>>>0<256){if(t=0|ei[e+8>>2],(0|(i=0|ei[e+12>>2]))==(0|t)){ei[5696]=ei[5696]&~(1<<r);break}ei[t+12>>2]=i,ei[i+8>>2]=t;break}o=0|ei[e+24>>2],t=0|ei[e+12>>2];do{if((0|t)==(0|e)){if(r=e+16|0,i=r+4|0,!(t=0|ei[i>>2])){if(!(t=0|ei[r>>2])){t=0;break}i=r}for(;;)if(r=t+20|0,0|(n=0|ei[r>>2]))t=n,i=r;else{if(r=t+16|0,!(n=0|ei[r>>2]))break;t=n,i=r}ei[i>>2]=0}else v=0|ei[e+8>>2],ei[v+12>>2]=t,ei[t+8>>2]=v}while(0);if(!o)break;i=0|ei[e+28>>2],r=23088+(i<<2)|0;do{if((0|ei[r>>2])==(0|e)){if(ei[r>>2]=t,0|t)break;ei[5697]=ei[5697]&~(1<<i);break t}if(ei[o+16+(((0|ei[o+16>>2])!=(0|e)&1)<<2)>>2]=t,!t)break t}while(0);if(ei[t+24>>2]=o,i=e+16|0,r=0|ei[i>>2],0|r&&(ei[t+16>>2]=r,ei[r+24>>2]=t),!(i=0|ei[i+4>>2]))break;ei[t+20>>2]=i,ei[i+24>>2]=t}while(0);e=e+a|0,n=a+s|0}else n=s;if(e=e+4|0,ei[e>>2]=-2&ei[e>>2],ei[l+4>>2]=1|n,ei[l+n>>2]=n,e=n>>>3,n>>>0<256){i=22824+(e<<1<<2)|0,t=0|ei[5696],e=1<<e,t&e?(t=i+8|0,e=0|ei[t>>2]):(ei[5696]=t|e,e=i,t=i+8|0),ei[t>>2]=l,ei[e+12>>2]=l,ei[l+8>>2]=e,ei[l+12>>2]=i;break}e=n>>>8;do{if(e){if(n>>>0>16777215){e=31;break}_=(e+1048320|0)>>>16&8,v=e<<_,g=(v+520192|0)>>>16&4,v<<=g,e=(v+245760|0)>>>16&2,e=14-(g|_|e)+(v<<e>>>15)|0,e=n>>>(e+7|0)&1|e<<1}else e=0}while(0);if(r=23088+(e<<2)|0,ei[l+28>>2]=e,t=l+16|0,ei[t+4>>2]=0,ei[t>>2]=0,t=0|ei[5697],i=1<<e,!(t&i)){ei[5697]=t|i,ei[r>>2]=l,ei[l+24>>2]=r,ei[l+12>>2]=l,ei[l+8>>2]=l;break}for(t=n<<(31==(0|e)?0:25-(e>>>1)|0),i=0|ei[r>>2];;){if((-8&ei[i+4>>2]|0)==(0|n)){_=192;break}if(r=i+16+(t>>>31<<2)|0,!(e=0|ei[r>>2])){_=191;break}t<<=1,i=e}if(191==(0|_)){ei[r>>2]=l,ei[l+24>>2]=i,ei[l+12>>2]=l,ei[l+8>>2]=l;break}if(192==(0|_)){_=i+8|0,v=0|ei[_>>2],ei[v+12>>2]=l,ei[_>>2]=l,ei[l+8>>2]=v,ei[l+12>>2]=i,ei[l+24>>2]=0;break}}else v=(0|ei[5699])+s|0,ei[5699]=v,ei[5702]=l,ei[l+4>>2]=1|v}while(0);return v=u+8|0,di=x,0|v}t=23232}for(;;){if(e=0|ei[t>>2],e>>>0<=A>>>0?(v=e+(0|ei[t+4>>2])|0)>>>0>A>>>0:0)break;t=0|ei[t+8>>2]}n=v+-47|0,t=n+8|0,t=n+(0==(7&t|0)?0:0-t&7)|0,n=A+16|0,t=t>>>0<n>>>0?A:t,e=t+8|0,i=a+-40|0,g=o+8|0,g=0==(7&g|0)?0:0-g&7,_=o+g|0,g=i-g|0,ei[5702]=_,ei[5699]=g,ei[_+4>>2]=1|g,ei[o+i+4>>2]=40,ei[5703]=ei[5818],i=t+4|0,ei[i>>2]=27,ei[e>>2]=ei[5808],ei[e+4>>2]=ei[5809],ei[e+8>>2]=ei[5810],ei[e+12>>2]=ei[5811],ei[5808]=o,ei[5809]=a,ei[5811]=0,ei[5810]=e,e=t+24|0;do{_=e,e=e+4|0,ei[e>>2]=7}while((_+8|0)>>>0<v>>>0);if((0|t)!=(0|A)){if(o=t-A|0,ei[i>>2]=-2&ei[i>>2],ei[A+4>>2]=1|o,ei[t>>2]=o,e=o>>>3,o>>>0<256){i=22824+(e<<1<<2)|0,t=0|ei[5696],e=1<<e,t&e?(t=i+8|0,e=0|ei[t>>2]):(ei[5696]=t|e,e=i,t=i+8|0),ei[t>>2]=A,ei[e+12>>2]=A,ei[A+8>>2]=e,ei[A+12>>2]=i;break}if(e=o>>>8,e?o>>>0>16777215?i=31:(_=(e+1048320|0)>>>16&8,v=e<<_,g=(v+520192|0)>>>16&4,v<<=g,i=(v+245760|0)>>>16&2,i=14-(g|_|i)+(v<<i>>>15)|0,i=o>>>(i+7|0)&1|i<<1):i=0,r=23088+(i<<2)|0,ei[A+28>>2]=i,ei[A+20>>2]=0,ei[n>>2]=0,e=0|ei[5697],t=1<<i,!(e&t)){ei[5697]=e|t,ei[r>>2]=A,ei[A+24>>2]=r,ei[A+12>>2]=A,ei[A+8>>2]=A;break}for(t=o<<(31==(0|i)?0:25-(i>>>1)|0),i=0|ei[r>>2];;){if((-8&ei[i+4>>2]|0)==(0|o)){_=213;break}if(r=i+16+(t>>>31<<2)|0,!(e=0|ei[r>>2])){_=212;break}t<<=1,i=e}if(212==(0|_)){ei[r>>2]=A,ei[A+24>>2]=i,ei[A+12>>2]=A,ei[A+8>>2]=A;break}if(213==(0|_)){_=i+8|0,v=0|ei[_>>2],ei[v+12>>2]=A,ei[_>>2]=A,ei[A+8>>2]=v,ei[A+12>>2]=i,ei[A+24>>2]=0;break}}}else v=0|ei[5700],0==(0|v)|o>>>0<v>>>0&&(ei[5700]=o),ei[5808]=o,ei[5809]=a,ei[5811]=0,ei[5705]=ei[5814],ei[5704]=-1,ei[5709]=22824,ei[5708]=22824,ei[5711]=22832,ei[5710]=22832,ei[5713]=22840,ei[5712]=22840,ei[5715]=22848,ei[5714]=22848,ei[5717]=22856,ei[5716]=22856,ei[5719]=22864,ei[5718]=22864,ei[5721]=22872,ei[5720]=22872,ei[5723]=22880,ei[5722]=22880,ei[5725]=22888,ei[5724]=22888,ei[5727]=22896,ei[5726]=22896,ei[5729]=22904,ei[5728]=22904,ei[5731]=22912,ei[5730]=22912,ei[5733]=22920,ei[5732]=22920,ei[5735]=22928,ei[5734]=22928,ei[5737]=22936,ei[5736]=22936,ei[5739]=22944,ei[5738]=22944,ei[5741]=22952,ei[5740]=22952,ei[5743]=22960,ei[5742]=22960,ei[5745]=22968,ei[5744]=22968,ei[5747]=22976,ei[5746]=22976,ei[5749]=22984,ei[5748]=22984,ei[5751]=22992,ei[5750]=22992,ei[5753]=23e3,ei[5752]=23e3,ei[5755]=23008,ei[5754]=23008,ei[5757]=23016,ei[5756]=23016,ei[5759]=23024,ei[5758]=23024,ei[5761]=23032,ei[5760]=23032,ei[5763]=23040,ei[5762]=23040,ei[5765]=23048,ei[5764]=23048,ei[5767]=23056,ei[5766]=23056,ei[5769]=23064,ei[5768]=23064,ei[5771]=23072,ei[5770]=23072,v=a+-40|0,g=o+8|0,g=0==(7&g|0)?0:0-g&7,_=o+g|0,g=v-g|0,ei[5702]=_,ei[5699]=g,ei[_+4>>2]=1|g,ei[o+v+4>>2]=40,ei[5703]=ei[5818]}while(0);if((e=0|ei[5699])>>>0>c>>>0)return g=e-c|0,ei[5699]=g,v=0|ei[5702],_=v+c|0,ei[5702]=_,ei[_+4>>2]=1|g,ei[v+4>>2]=3|c,v=v+8|0,di=x,0|v}return v=23280,ei[v>>2]=12,v=0,di=x,0|v}function ze(t){t|=0;var e=0,i=0,r=0,n=0,o=0,a=0,s=0,A=0;if(t){i=t+-8|0,n=0|ei[5700],t=0|ei[t+-4>>2],e=-8&t,A=i+e|0;do{if(1&t)s=i,a=i;else{if(r=0|ei[i>>2],!(3&t))return;if(a=i+(0-r)|0,o=r+e|0,a>>>0<n>>>0)return;if((0|ei[5701])==(0|a)){if(t=A+4|0,3!=(3&(e=0|ei[t>>2])|0)){s=a,e=o;break}return ei[5698]=o,ei[t>>2]=-2&e,ei[a+4>>2]=1|o,void(ei[a+o>>2]=o)}if(i=r>>>3,r>>>0<256){if(t=0|ei[a+8>>2],(0|(e=0|ei[a+12>>2]))==(0|t)){ei[5696]=ei[5696]&~(1<<i),s=a,e=o;break}ei[t+12>>2]=e,ei[e+8>>2]=t,s=a,e=o;break}n=0|ei[a+24>>2],t=0|ei[a+12>>2];do{if((0|t)==(0|a)){if(i=a+16|0,e=i+4|0,!(t=0|ei[e>>2])){if(!(t=0|ei[i>>2])){t=0;break}e=i}for(;;)if(i=t+20|0,0|(r=0|ei[i>>2]))t=r,e=i;else{if(i=t+16|0,!(r=0|ei[i>>2]))break;t=r,e=i}ei[e>>2]=0}else s=0|ei[a+8>>2],ei[s+12>>2]=t,ei[t+8>>2]=s}while(0);if(n){if(e=0|ei[a+28>>2],i=23088+(e<<2)|0,(0|ei[i>>2])==(0|a)){if(ei[i>>2]=t,!t){ei[5697]=ei[5697]&~(1<<e),s=a,e=o;break}}else if(ei[n+16+(((0|ei[n+16>>2])!=(0|a)&1)<<2)>>2]=t,!t){s=a,e=o;break}ei[t+24>>2]=n,e=a+16|0,i=0|ei[e>>2],0|i&&(ei[t+16>>2]=i,ei[i+24>>2]=t),e=0|ei[e+4>>2],e?(ei[t+20>>2]=e,ei[e+24>>2]=t,s=a,e=o):(s=a,e=o)}else s=a,e=o}}while(0);if(!(a>>>0>=A>>>0)&&(t=A+4|0,1&(r=0|ei[t>>2]))){if(2&r)ei[t>>2]=-2&r,ei[s+4>>2]=1|e,ei[a+e>>2]=e,n=e;else{if((0|ei[5702])==(0|A)){if(A=(0|ei[5699])+e|0,ei[5699]=A,ei[5702]=s,ei[s+4>>2]=1|A,(0|s)!=(0|ei[5701]))return;return ei[5701]=0,void(ei[5698]=0)}if((0|ei[5701])==(0|A))return A=(0|ei[5698])+e|0,ei[5698]=A,ei[5701]=a,ei[s+4>>2]=1|A,void(ei[a+A>>2]=A);n=(-8&r)+e|0,i=r>>>3;do{if(r>>>0<256){if(e=0|ei[A+8>>2],(0|(t=0|ei[A+12>>2]))==(0|e)){ei[5696]=ei[5696]&~(1<<i);break}ei[e+12>>2]=t,ei[t+8>>2]=e;break}o=0|ei[A+24>>2],t=0|ei[A+12>>2];do{if((0|t)==(0|A)){if(i=A+16|0,e=i+4|0,!(t=0|ei[e>>2])){if(!(t=0|ei[i>>2])){i=0;break}e=i}for(;;)if(i=t+20|0,0|(r=0|ei[i>>2]))t=r,e=i;else{if(i=t+16|0,!(r=0|ei[i>>2]))break;t=r,e=i}ei[e>>2]=0,i=t}else i=0|ei[A+8>>2],ei[i+12>>2]=t,ei[t+8>>2]=i,i=t}while(0);if(0|o){if(t=0|ei[A+28>>2],e=23088+(t<<2)|0,(0|ei[e>>2])==(0|A)){if(ei[e>>2]=i,!i){ei[5697]=ei[5697]&~(1<<t);break}}else if(ei[o+16+(((0|ei[o+16>>2])!=(0|A)&1)<<2)>>2]=i,!i)break;ei[i+24>>2]=o,t=A+16|0,e=0|ei[t>>2],0|e&&(ei[i+16>>2]=e,ei[e+24>>2]=i),t=0|ei[t+4>>2],0|t&&(ei[i+20>>2]=t,ei[t+24>>2]=i)}}while(0);if(ei[s+4>>2]=1|n,ei[a+n>>2]=n,(0|s)==(0|ei[5701]))return void(ei[5698]=n)}if(t=n>>>3,n>>>0<256)return i=22824+(t<<1<<2)|0,e=0|ei[5696],t=1<<t,e&t?(e=i+8|0,t=0|ei[e>>2]):(ei[5696]=e|t,t=i,e=i+8|0),ei[e>>2]=s,ei[t+12>>2]=s,ei[s+8>>2]=t,void(ei[s+12>>2]=i);t=n>>>8,t?n>>>0>16777215?t=31:(a=(t+1048320|0)>>>16&8,A=t<<a,o=(A+520192|0)>>>16&4,A<<=o,t=(A+245760|0)>>>16&2,t=14-(o|a|t)+(A<<t>>>15)|0,t=n>>>(t+7|0)&1|t<<1):t=0,r=23088+(t<<2)|0,ei[s+28>>2]=t,ei[s+20>>2]=0,ei[s+16>>2]=0,e=0|ei[5697],i=1<<t;do{if(e&i){for(e=n<<(31==(0|t)?0:25-(t>>>1)|0),i=0|ei[r>>2];;){if((-8&ei[i+4>>2]|0)==(0|n)){t=73;break}if(r=i+16+(e>>>31<<2)|0,!(t=0|ei[r>>2])){t=72;break}e<<=1,i=t}if(72==(0|t)){ei[r>>2]=s,ei[s+24>>2]=i,ei[s+12>>2]=s,ei[s+8>>2]=s;break}if(73==(0|t)){a=i+8|0,A=0|ei[a>>2],ei[A+12>>2]=s,ei[a>>2]=s,ei[s+8>>2]=A,ei[s+12>>2]=i,ei[s+24>>2]=0;break}}else ei[5697]=e|i,ei[r>>2]=s,ei[s+24>>2]=r,ei[s+12>>2]=s,ei[s+8>>2]=s}while(0);if(A=(0|ei[5704])-1|0,ei[5704]=A,!A){for(t=23240;;){if(!(t=0|ei[t>>2]))break;t=t+8|0}ei[5704]=-1}}}}function Be(t,e){t|=0,e|=0;var i=0;return t?(i=0|Bi(e,t),(e|t)>>>0>65535&&(i=(0|(i>>>0)/(t>>>0))==(0|e)?i:-1)):i=0,(t=0|Ie(i))&&3&ei[t+-4>>2]?(Ze(0|t,0,0|i),0|t):0|t}function De(t){return t=+t,0|~~+Le(t)}function Le(t){return t=+t,+ +Xe(+t)}function Re(t,e){t=+t,e=+e;var i=0,r=0,n=0,o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0;ci[fi>>3]=t,a=0|ei[fi>>2],A=0|ei[fi+4>>2],ci[fi>>3]=e,u=0|ei[fi>>2],c=0|ei[fi+4>>2],r=0|Ge(0|a,0|A,52),r&=2047,l=0|Ge(0|u,0|c,52),l&=2047,h=-2147483648&A,o=0|Qe(0|u,0|c,1),s=vi;t:do{if(0==(0|o)&0==(0|s)?!0:(n=0|Oe(e),i=2147483647&vi,2047==(0|r)|i>>>0>2146435072|2146435072==(0|i)&n>>>0>0))p=3;else{if(i=0|Qe(0|a,0|A,1),!((n=vi)>>>0>s>>>0|(0|n)==(0|s)&i>>>0>o>>>0))return+((0|i)==(0|o)&(0|n)==(0|s)?0*t:t);if(r)o=1048575&A|1048576;else{if(i=0|Qe(0|a,0|A,12),(0|(n=vi))>-1|-1==(0|n)&i>>>0>4294967295){r=0;do{r=r+-1|0,i=0|Qe(0|i,0|n,1),n=vi}while((0|n)>-1|-1==(0|n)&i>>>0>4294967295)}else r=0;a=0|Qe(0|a,0|A,1-r|0),o=vi}if(l)A=1048575&c|1048576;else{if(n=0|Qe(0|u,0|c,12),(0|(s=vi))>-1|-1==(0|s)&n>>>0>4294967295){i=0;do{i=i+-1|0,n=0|Qe(0|n,0|s,1),s=vi}while((0|s)>-1|-1==(0|s)&n>>>0>4294967295)}else i=0;u=0|Qe(0|u,0|c,1-i|0),l=i,A=vi}n=0|Ve(0|a,0|o,0|u,0|A),i=vi,s=(0|i)>-1|-1==(0|i)&n>>>0>4294967295;e:do{if((0|r)>(0|l)){for(;;){if(s){if(0==(0|n)&0==(0|i))break}else n=a,i=o;if(a=0|Qe(0|n,0|i,1),o=vi,r=r+-1|0,n=0|Ve(0|a,0|o,0|u,0|A),i=vi,s=(0|i)>-1|-1==(0|i)&n>>>0>4294967295,(0|r)<=(0|l))break e}e=0*t;break t}}while(0);if(s){if(0==(0|n)&0==(0|i)){e=0*t;break}}else i=o,n=a;if(i>>>0<1048576|1048576==(0|i)&n>>>0<0)do{n=0|Qe(0|n,0|i,1),i=vi,r=r+-1|0}while(i>>>0<1048576|1048576==(0|i)&n>>>0<0);(0|r)>0?(c=0|Ue(0|n,0|i,0,-1048576),i=vi,r=0|Qe(0|r,0,52),i|=vi,r|=c):(r=0|Ge(0|n,0|i,1-r|0),i=vi),ei[fi>>2]=r,ei[fi+4>>2]=i|h,e=+ci[fi>>3]}}while(0);return 3==(0|p)&&(e*=t,e/=e),+e}function Oe(t){t=+t;var e=0;return ci[fi>>3]=t,e=0|ei[fi>>2],vi=0|ei[fi+4>>2],0|e}function Fe(){}function Ue(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,i=t+i>>>0,0|(vi=e+r+(i>>>0<t>>>0|0)>>>0,0|i)}function Ve(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,r=e-r-(i>>>0>t>>>0|0)>>>0,0|(vi=r,t-i>>>0|0)}function Ne(t){t|=0;var e=0;return(0|(e=0|Ke[yi+(255&t)>>0]))<8?0|e:(0|(e=0|Ke[yi+(t>>8&255)>>0]))<8?e+8|0:(e=0|Ke[yi+(t>>16&255)>>0],(0|e)<8?e+16|0:24+(0|Ke[yi+(t>>>24)>>0])|0)}function je(t,e,i,r,n){t|=0,e|=0,i|=0,r|=0,n|=0;var o=0,a=0,s=0,A=0,l=0,u=0,c=0,h=0,p=0,f=0;if(u=t,A=e,l=A,a=i,h=r,s=h,!l)return o=0!=(0|n),s?o?(ei[n>>2]=0|t,ei[n+4>>2]=0&e,h=0,n=0,0|(vi=h,n)):(h=0,n=0,0|(vi=h,n)):(o&&(ei[n>>2]=(u>>>0)%(a>>>0),ei[n+4>>2]=0),h=0,n=(u>>>0)/(a>>>0)>>>0,0|(vi=h,n));o=0==(0|s);do{if(a){if(!o){if((o=(0|Di(0|s))-(0|Di(0|l))|0)>>>0<=31){c=o+1|0,s=31-o|0,e=o-31>>31,a=c,t=u>>>(c>>>0)&e|l<<s,e&=l>>>(c>>>0),o=0,s=u<<s;break}return n?(ei[n>>2]=0|t,ei[n+4>>2]=A|0&e,h=0,n=0,0|(vi=h,n)):(h=0,n=0,0|(vi=h,n))}if((o=a-1|0)&a|0){s=33+(0|Di(0|a))-(0|Di(0|l))|0,f=64-s|0,c=32-s|0,A=c>>31,p=s-32|0,e=p>>31,a=s,t=c-1>>31&l>>>(p>>>0)|(l<<c|u>>>(s>>>0))&e,e&=l>>>(s>>>0),o=u<<f&A,s=(l<<f|u>>>(p>>>0))&A|u<<c&s-33>>31;break}return 0|n&&(ei[n>>2]=o&u,ei[n+4>>2]=0),1==(0|a)?(p=A|0&e,f=0|t,0|(vi=p,f)):(f=0|Ne(0|a),p=l>>>(f>>>0)|0,f=l<<32-f|u>>>(f>>>0)|0,0|(vi=p,f))}if(o)return 0|n&&(ei[n>>2]=(l>>>0)%(a>>>0),ei[n+4>>2]=0),p=0,f=(l>>>0)/(a>>>0)>>>0,0|(vi=p,f);if(!u)return 0|n&&(ei[n>>2]=0,ei[n+4>>2]=(l>>>0)%(s>>>0)),p=0,f=(l>>>0)/(s>>>0)>>>0,0|(vi=p,f);if(!((o=s-1|0)&s))return 0|n&&(ei[n>>2]=0|t,ei[n+4>>2]=o&l|0&e),p=0,f=l>>>((0|Ne(0|s))>>>0),0|(vi=p,f);if((o=(0|Di(0|s))-(0|Di(0|l))|0)>>>0<=30){e=o+1|0,s=31-o|0,a=e,t=l<<s|u>>>(e>>>0),e=l>>>(e>>>0),o=0,s=u<<s;break}return n?(ei[n>>2]=0|t,ei[n+4>>2]=A|0&e,p=0,f=0,0|(vi=p,f)):(p=0,f=0,0|(vi=p,f))}while(0);if(a){c=0|i,u=h|0&r,l=0|Ue(0|c,0|u,-1,-1),i=vi,A=s,s=0;do{r=A,A=o>>>31|A<<1,o=s|o<<1,r=t<<1|r>>>31|0,h=t>>>31|e<<1|0,Ve(0|l,0|i,0|r,0|h),f=vi,p=f>>31|((0|f)<0?-1:0)<<1,s=1&p,t=0|Ve(0|r,0|h,p&c|0,(((0|f)<0?-1:0)>>31|((0|f)<0?-1:0)<<1)&u|0),e=vi,a=a-1|0}while(0!=(0|a));l=A,A=0}else l=s,A=0,s=0;return a=0,0|n&&(ei[n>>2]=t,ei[n+4>>2]=e),p=(0|o)>>>31|(l|a)<<1|0&(a<<1|o>>>31)|A,f=-2&(o<<1|0)|s,0|(vi=p,f)}function qe(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var n=0,o=0;return o=di,di=di+16|0,n=0|o,je(t,e,i,r,n),di=o,0|(vi=0|ei[n+4>>2],0|ei[n>>2])}function Ge(t,e,i){return t|=0,e|=0,(0|(i|=0))<32?(vi=e>>>i,t>>>i|(e&(1<<i)-1)<<32-i):(vi=0,e>>>i-32|0)}function Qe(t,e,i){return t|=0,e|=0,(0|(i|=0))<32?(vi=e<<i|(t&(1<<i)-1<<32-i)>>>32-i,t<<i):(vi=t<<i-32,0)}function He(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0;if((0|i)>=8192)return 0|Vi(0|t,0|e,0|i);if(o=0|t,n=t+i|0,(3&t)==(3&e)){for(;3&t;){if(!i)return 0|o;Ke[t>>0]=0|Ke[e>>0],t=t+1|0,e=e+1|0,i=i-1|0}for(i=-4&n|0,r=i-64|0;(0|t)<=(0|r);)ei[t>>2]=ei[e>>2],ei[t+4>>2]=ei[e+4>>2],ei[t+8>>2]=ei[e+8>>2],ei[t+12>>2]=ei[e+12>>2],ei[t+16>>2]=ei[e+16>>2],ei[t+20>>2]=ei[e+20>>2],ei[t+24>>2]=ei[e+24>>2],ei[t+28>>2]=ei[e+28>>2],ei[t+32>>2]=ei[e+32>>2],ei[t+36>>2]=ei[e+36>>2],ei[t+40>>2]=ei[e+40>>2],ei[t+44>>2]=ei[e+44>>2],ei[t+48>>2]=ei[e+48>>2],ei[t+52>>2]=ei[e+52>>2],ei[t+56>>2]=ei[e+56>>2],ei[t+60>>2]=ei[e+60>>2],t=t+64|0,e=e+64|0;for(;(0|t)<(0|i);)ei[t>>2]=ei[e>>2],t=t+4|0,e=e+4|0}else for(i=n-4|0;(0|t)<(0|i);)Ke[t>>0]=0|Ke[e>>0],Ke[t+1>>0]=0|Ke[e+1>>0],Ke[t+2>>0]=0|Ke[e+2>>0],Ke[t+3>>0]=0|Ke[e+3>>0],t=t+4|0,e=e+4|0;for(;(0|t)<(0|n);)Ke[t>>0]=0|Ke[e>>0],t=t+1|0,e=e+1|0;return 0|o}function Ze(t,e,i){t|=0,e|=0,i|=0;var r=0,n=0,o=0,a=0;if(o=t+i|0,e&=255,(0|i)>=67){for(;3&t;)Ke[t>>0]=e,t=t+1|0;for(r=-4&o|0,n=r-64|0,a=e|e<<8|e<<16|e<<24;(0|t)<=(0|n);)ei[t>>2]=a,ei[t+4>>2]=a,ei[t+8>>2]=a,ei[t+12>>2]=a,ei[t+16>>2]=a,ei[t+20>>2]=a,ei[t+24>>2]=a,ei[t+28>>2]=a,ei[t+32>>2]=a,ei[t+36>>2]=a,ei[t+40>>2]=a,ei[t+44>>2]=a,ei[t+48>>2]=a,ei[t+52>>2]=a,ei[t+56>>2]=a,ei[t+60>>2]=a,t=t+64|0;for(;(0|t)<(0|r);)ei[t>>2]=a,t=t+4|0}for(;(0|t)<(0|o);)Ke[t>>0]=e,t=t+1|0;return o-i|0}function Xe(t){return t=+t,t>=0?+xi(t+.5):+zi(t-.5)}function We(t){t|=0;var e=0,i=0;return i=0|ei[pi>>2],e=i+t|0,(0|t)>0&(0|e)<(0|i)|(0|e)<0?(Oi(),Ui(12),-1):(ei[pi>>2]=e,((0|e)>(0|Ri())?0==(0|Li()):0)?(ei[pi>>2]=i,Ui(12),-1):0|i)}var Ye=t.Int8Array,Ke=new Ye(i),Je=t.Int16Array,$e=new Je(i),ti=t.Int32Array,ei=new ti(i),ii=t.Uint8Array,ri=new ii(i),ni=t.Uint16Array,oi=new ni(i),ai=t.Uint32Array,si=new ai(i),Ai=t.Float32Array,li=new Ai(i),ui=t.Float64Array,ci=new ui(i),hi=t.byteLength,pi=0|e.DYNAMICTOP_PTR,fi=0|e.tempDoublePtr,di=(e.ABORT,0|e.STACKTOP),mi=0|e.STACK_MAX,yi=0|e.cttz_i8,gi=0,_i=0,vi=(t.NaN,t.Infinity,0),xi=t.Math.floor,bi=t.Math.abs,wi=t.Math.sqrt,Ei=t.Math.pow,Ti=t.Math.cos,Si=t.Math.sin,ki=t.Math.tan,Ci=t.Math.acos,Pi=t.Math.asin,Mi=t.Math.atan,Ii=t.Math.atan2,zi=(t.Math.exp,t.Math.log,t.Math.ceil),Bi=t.Math.imul,Di=(t.Math.min,t.Math.max,t.Math.clz32),Li=(e.abort,e.assert,e.enlargeMemory),Ri=e.getTotalMemory,Oi=e.abortOnCannotGrowMemory,Fi=e.___assert_fail,Ui=e.___setErrNo,Vi=e._emscripten_memcpy_big;e._llvm_ceil_f64,e._llvm_fabs_f64,e._llvm_pow_f64;return{___uremdi3:qe,_bitshift64Lshr:Ge,_bitshift64Shl:Qe,_calloc:Be,_compact:kt,_destroyLinkedPolygon:$t,_edgeLengthKm:gt,_edgeLengthM:_t,_emscripten_replace_memory:r,_experimentalH3ToLocalIj:ne,_experimentalLocalIjToH3:oe,_free:ze,_geoToH3:Ft,_getDestinationH3IndexFromUnidirectionalEdge:Ht,_getH3IndexesFromUnidirectionalEdge:Xt,_getH3UnidirectionalEdge:Gt,_getH3UnidirectionalEdgeBoundary:Yt,_getH3UnidirectionalEdgesFromHexagon:Wt,_getOriginH3IndexFromUnidirectionalEdge:Qt,_h3Distance:ae,_h3GetBaseCell:xt,_h3IndexesAreNeighbors:qt,_h3IsPentagon:St,_h3IsResClassIII:Mt,_h3IsValid:bt,_h3SetToLinkedGeo:x,_h3ToChildren:Tt,_h3ToGeo:Nt,_h3ToGeoBoundary:jt,_h3ToParent:wt,_h3UnidirectionalEdgeIsValid:Zt,_hexAreaKm2:mt,_hexAreaM2:yt,_hexRing:y,_i64Add:Ue,_i64Subtract:Ve,_kRing:h,_kRingDistances:p,_malloc:Ie,_maxH3ToChildrenSize:Et,_maxKringSize:c,_maxPolyfillSize:g,_maxUncompactSize:Pt,_memcpy:He,_memset:Ze,_numHexagons:vt,_polyfill:_,_round:Xe,_sbrk:We,_sizeOfCoordIJ:ge,_sizeOfGeoBoundary:fe,_sizeOfGeoCoord:pe,_sizeOfGeoPolygon:me,_sizeOfGeofence:de,_sizeOfH3Index:he,_sizeOfLinkedGeoPolygon:ye,_uncompact:Ct,establishStackSpace:s,getTempRet0:u,runPostSets:Fe,setTempRet0:l,setThrew:A,stackAlloc:n,stackRestore:a,stackSave:o}}(W.asmGlobalArg,W.asmLibraryArg,rt),oe=(W.___uremdi3=ne.___uremdi3,W._bitshift64Lshr=ne._bitshift64Lshr,W._bitshift64Shl=ne._bitshift64Shl,W._calloc=ne._calloc,W._compact=ne._compact,W._destroyLinkedPolygon=ne._destroyLinkedPolygon,W._edgeLengthKm=ne._edgeLengthKm,W._edgeLengthM=ne._edgeLengthM,W._emscripten_replace_memory=ne._emscripten_replace_memory),ae=(W._experimentalH3ToLocalIj=ne._experimentalH3ToLocalIj,W._experimentalLocalIjToH3=ne._experimentalLocalIjToH3,W._free=ne._free,W._geoToH3=ne._geoToH3,W._getDestinationH3IndexFromUnidirectionalEdge=ne._getDestinationH3IndexFromUnidirectionalEdge,W._getH3IndexesFromUnidirectionalEdge=ne._getH3IndexesFromUnidirectionalEdge,W._getH3UnidirectionalEdge=ne._getH3UnidirectionalEdge,W._getH3UnidirectionalEdgeBoundary=ne._getH3UnidirectionalEdgeBoundary,W._getH3UnidirectionalEdgesFromHexagon=ne._getH3UnidirectionalEdgesFromHexagon,W._getOriginH3IndexFromUnidirectionalEdge=ne._getOriginH3IndexFromUnidirectionalEdge,W._h3Distance=ne._h3Distance,W._h3GetBaseCell=ne._h3GetBaseCell,W._h3IndexesAreNeighbors=ne._h3IndexesAreNeighbors,W._h3IsPentagon=ne._h3IsPentagon,W._h3IsResClassIII=ne._h3IsResClassIII,W._h3IsValid=ne._h3IsValid,W._h3SetToLinkedGeo=ne._h3SetToLinkedGeo,W._h3ToChildren=ne._h3ToChildren,W._h3ToGeo=ne._h3ToGeo,W._h3ToGeoBoundary=ne._h3ToGeoBoundary,W._h3ToParent=ne._h3ToParent,W._h3UnidirectionalEdgeIsValid=ne._h3UnidirectionalEdgeIsValid,W._hexAreaKm2=ne._hexAreaKm2,W._hexAreaM2=ne._hexAreaM2,W._hexRing=ne._hexRing,W._i64Add=ne._i64Add,W._i64Subtract=ne._i64Subtract,W._kRing=ne._kRing,W._kRingDistances=ne._kRingDistances,W._malloc=ne._malloc),se=(W._maxH3ToChildrenSize=ne._maxH3ToChildrenSize,W._maxKringSize=ne._maxKringSize,W._maxPolyfillSize=ne._maxPolyfillSize,W._maxUncompactSize=ne._maxUncompactSize,W._memcpy=ne._memcpy,W._memset=ne._memset,W._numHexagons=ne._numHexagons,W._polyfill=ne._polyfill,W._round=ne._round,W._sbrk=ne._sbrk,W._sizeOfCoordIJ=ne._sizeOfCoordIJ,W._sizeOfGeoBoundary=ne._sizeOfGeoBoundary,W._sizeOfGeoCoord=ne._sizeOfGeoCoord,W._sizeOfGeoPolygon=ne._sizeOfGeoPolygon,W._sizeOfGeofence=ne._sizeOfGeofence,W._sizeOfH3Index=ne._sizeOfH3Index,W._sizeOfLinkedGeoPolygon=ne._sizeOfLinkedGeoPolygon,W._uncompact=ne._uncompact,W.establishStackSpace=ne.establishStackSpace,W.getTempRet0=ne.getTempRet0,W.runPostSets=ne.runPostSets,W.setTempRet0=ne.setTempRet0,W.setThrew=ne.setThrew,W.stackAlloc=ne.stackAlloc),Ae=W.stackRestore=ne.stackRestore,le=W.stackSave=ne.stackSave;if(W.asm=ne,W.cwrap=c,W.setValue=h,W.getValue=p,Wt)if(L(Wt)||("function"==typeof W.locateFile?Wt=W.locateFile(Wt):W.memoryInitializerPrefixURL&&(Wt=W.memoryInitializerPrefixURL+Wt)),$||tt){var ue=W.readBinary(Wt);ot.set(ue,8)}else{!function(t){Ht++,W.monitorRunDependencies&&W.monitorRunDependencies(Ht)}();var ce=function(t){t.byteLength&&(t=new Uint8Array(t)),ot.set(t,8),W.memoryInitializerRequest&&delete W.memoryInitializerRequest.response,D("memory initializer")},he=N(Wt);he?ce(he.buffer):W.memoryInitializerRequest?W.memoryInitializerRequest.response?setTimeout(q,0):W.memoryInitializerRequest.addEventListener("load",q):j()}W.then=function(t){if(W.calledRun)t(W);else{var e=W.onRuntimeInitialized;W.onRuntimeInitialized=function(){e&&e(),t(W)}}return W},G.prototype=new Error,G.prototype.constructor=G;var pe;if(Xt=function t(){W.calledRun||Q(),W.calledRun||(Xt=t)},W.run=Q,W.exit=H,W.abort=Z,W.preInit)for("function"==typeof W.preInit&&(W.preInit=[W.preInit]);W.preInit.length>0;)W.preInit.pop()();return W.noExitRuntime=!0,Q(),e};"object"==typeof i&&"object"==typeof e?e.exports=o:"function"==typeof define&&define.amd?define([],function(){return o}):"object"==typeof i&&(i.libh3=o),e.exports=o()}).call(this,t("_process"),t("buffer").Buffer)},{_process:33,buffer:4,fs:3,path:32}],28:[function(t,e,i){e.exports=t("./dist/lib/h3core")},{"./dist/lib/h3core":26}],29:[function(t,e,i){i.read=function(t,e,i,r,n){var o,a,s=8*n-r-1,A=(1<<s)-1,l=A>>1,u=-7,c=i?n-1:0,h=i?-1:1,p=t[e+c];for(c+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+t[e+c],c+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+c],c+=h,u-=8);if(0===o)o=1-l;else{if(o===A)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},i.write=function(t,e,i,r,n,o){var a,s,A,l=8*o-n-1,u=(1<<l)-1,c=u>>1,h=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(A=Math.pow(2,-a))<1&&(a--,A*=2),e+=a+c>=1?h/A:h*Math.pow(2,1-c),e*A>=2&&(a++,A/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(e*A-1)*Math.pow(2,n),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,n),a=0));n>=8;t[i+p]=255&s,p+=f,s/=256,n-=8);for(a=a<<n|s,l+=n;l>0;t[i+p]=255&a,p+=f,a/=256,l-=8);t[i+p-f]|=128*d}},{}],30:[function(t,e,i){/*!
 * in-view 0.6.1 - Get notified when a DOM element enters or exits the viewport.
 * Copyright (c) 2016 Cam Wiegert <cam@camwiegert.com> - https://camwiegert.github.io/in-view
 * License: MIT
 */
!function(t,r){"object"==typeof i&&"object"==typeof e?e.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof i?i.inView=r():t.inView=r()}(this,function(){return function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var r=i(2),n=function(t){return t&&t.__esModule?t:{default:t}}(r);t.exports=n.default},function(t,e){function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=i},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),o=r(n),a=i(3),s=r(a),A=i(4);e.default=function(){if("undefined"!=typeof window){var t=["scroll","resize","load"],e={history:[]},i={offset:{},threshold:0,test:A.inViewport},r=(0,o.default)(function(){e.history.forEach(function(t){e[t].check()})},100);t.forEach(function(t){return addEventListener(t,r)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(r).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var n=function(t){if("string"==typeof t){var r=[].slice.call(document.querySelectorAll(t));return e.history.indexOf(t)>-1?e[t].elements=r:(e[t]=(0,s.default)(r,i),e.history.push(t)),e[t]}};return n.offset=function(t){if(void 0===t)return i.offset;var e=function(t){return"number"==typeof t};return["top","right","bottom","left"].forEach(e(t)?function(e){return i.offset[e]=t}:function(r){return e(t[r])?i.offset[r]=t[r]:null}),i.offset},n.threshold=function(t){return"number"==typeof t&&t>=0&&t<=1?i.threshold=t:i.threshold},n.test=function(t){return"function"==typeof t?i.test=t:i.test},n.is=function(t){return i.test(t,i)},n.offset(0),n}}()},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=function(){function t(e,r){i(this,t),this.options=r,this.elements=e,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return r(t,[{key:"check",value:function(){var t=this;return this.elements.forEach(function(e){var i=t.options.test(e,t.options),r=t.current.indexOf(e),n=r>-1,o=i&&!n,a=!i&&n;o&&(t.current.push(e),t.emit("enter",e)),a&&(t.current.splice(r,1),t.emit("exit",e))}),this}},{key:"on",value:function(t,e){return this.handlers[t].push(e),this}},{key:"once",value:function(t,e){return this.singles[t].unshift(e),this}},{key:"emit",value:function(t,e){for(;this.singles[t].length;)this.singles[t].pop()(e);for(var i=this.handlers[t].length;--i>-1;)this.handlers[t][i](e);return this}}]),t}();e.default=function(t,e){return new n(t,e)}},function(t,e){"use strict";function i(t,e){var i=t.getBoundingClientRect(),r=i.top,n=i.right,o=i.bottom,a=i.left,s=i.width,A=i.height,l={t:o,r:window.innerWidth-a,b:window.innerHeight-r,l:n},u={x:e.threshold*s,y:e.threshold*A};return l.t>e.offset.top+u.y&&l.r>e.offset.right+u.x&&l.b>e.offset.bottom+u.y&&l.l>e.offset.left+u.x}Object.defineProperty(e,"__esModule",{value:!0}),e.inViewport=i},function(t,e){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(e,function(){return this}())},function(t,e,i){var r=i(5),n="object"==typeof self&&self&&self.Object===Object&&self,o=r||n||Function("return this")();t.exports=o},function(t,e,i){function r(t,e,i){function r(e){var i=g,r=_;return g=_=void 0,E=e,x=t.apply(r,i)}function u(t){return E=t,b=setTimeout(p,e),T?r(t):x}function c(t){var i=t-w,r=t-E,n=e-i;return S?l(n,v-r):n}function h(t){var i=t-w,r=t-E;return void 0===w||i>=e||i<0||S&&r>=v}function p(){var t=o();return h(t)?f(t):void(b=setTimeout(p,c(t)))}function f(t){return b=void 0,k&&g?r(t):(g=_=void 0,x)}function d(){void 0!==b&&clearTimeout(b),E=0,g=w=_=b=void 0}function m(){return void 0===b?x:f(o())}function y(){var t=o(),i=h(t);if(g=arguments,_=this,w=t,i){if(void 0===b)return u(w);if(S)return b=setTimeout(p,e),r(w)}return void 0===b&&(b=setTimeout(p,e)),x}var g,_,v,x,b,w,E=0,T=!1,S=!1,k=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,n(i)&&(T=!!i.leading,S="maxWait"in i,v=S?A(a(i.maxWait)||0,e):v,k="trailing"in i?!!i.trailing:k),y.cancel=d,y.flush=m,y}var n=i(1),o=i(8),a=i(10),s="Expected a function",A=Math.max,l=Math.min;t.exports=r},function(t,e,i){var r=i(6),n=function(){return r.Date.now()};t.exports=n},function(t,e,i){function r(t,e,i){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return o(i)&&(r="leading"in i?!!i.leading:r,s="trailing"in i?!!i.trailing:s),n(t,e,{leading:r,maxWait:e,trailing:s})}var n=i(7),o=i(1),a="Expected a function";t.exports=r},function(t,e){function i(t){return t}t.exports=i}])})},{}],31:[function(t,e,i){!function(t,r){"object"==typeof i&&void 0!==e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.mapboxgl=r()}(this,function(){"use strict";function t(t,n){if(e)if(i){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+i+")(sharedChunk);",a={};e(a),r=n(a),r.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))}else i=n;else e=n}var e,i,r;return t(["exports"],function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}function i(t,e,i,r){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=i,this.p2y=r}function r(t,e){this.x=t,this.y=e}function n(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!n(t[r],e[r]))return!1;return!0}return t===e}function o(t,e,i,r){var n=new fr(t,e,i,r);return function(t){return n.solve(t)}}function a(t,e,i){return Math.min(i,Math.max(e,t))}function s(t,e,i){var r=i-e,n=((t-e)%r+r)%r+e;return n===e?i:n}function A(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var r=0,n=e;r<n.length;r+=1){var o=n[r];for(var a in o)t[a]=o[a]}return t}function l(){return yr++}function u(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function c(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function h(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})}function p(t,e){return-1!==t.indexOf(e,t.length-e.length)}function f(t,e,i){var r={};for(var n in t)r[n]=e.call(i||this,t[n],n,t);return r}function d(t,e,i){var r={};for(var n in t)e.call(i||this,t[n],n,t)&&(r[n]=t[n]);return r}function m(t){return Array.isArray(t)?t.map(m):"object"==typeof t&&t?f(t,m):t}function y(t){gr[t]||("undefined"!=typeof console&&console.warn(t),gr[t]=!0)}function g(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}function _(t){for(var e=0,i=0,r=t.length,n=r-1,o=void 0,a=void 0;i<r;n=i++)o=t[i],e+=((a=t[n]).x-o.x)*(o.y+a.y);return e}function v(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}function x(t,e){var i=E(Er.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!Er.REQUIRE_ACCESS_TOKEN)return T(t);if(!(e=e||Er.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+Tr);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+Tr);return t.params.push("access_token="+e),T(t)}function b(t){return 0===t.indexOf("mapbox:")}function w(t){return Sr.test(t)}function E(t){var e=t.match(Cr);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function T(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function S(t,e,i){i[t]&&-1!==i[t].indexOf(e)||(i[t]=i[t]||[],i[t].push(e))}function k(t,e,i){if(i&&i[t]){var r=i[t].indexOf(e);-1!==r&&i[t].splice(r,1)}}function C(t){var e=t.key,i=t.value;return i?[new Xr(e,i,"constants have been deprecated as of v8")]:[]}function P(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var r=0,n=e;r<n.length;r+=1){var o=n[r];for(var a in o)t[a]=o[a]}return t}function M(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function I(t){return Array.isArray(t)?t.map(I):M(t)}function z(t,e){return{kind:"array",itemType:t,N:e}}function B(t){if("array"===t.kind){var e=B(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}function D(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!D(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var i=0,r=sn;i<r.length;i+=1)if(!D(r[i],e))return null}return"Expected "+B(t)+" but found "+B(e)+" instead."}function L(t,e,i,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,i,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,i,r]:[t,e,i]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function R(t){if(null===t)return Kr;if("string"==typeof t)return $r;if("boolean"==typeof t)return tn;if("number"==typeof t)return Jr;if(t instanceof ln)return en;if(t instanceof un)return on;if(t instanceof hn)return an;if(Array.isArray(t)){for(var e,i=t.length,r=0,n=t;r<n.length;r+=1){var o=R(n[r]);if(e){if(e===o)continue;e=nn;break}e=o}return z(e||nn,i)}return rn}function O(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof ln||t instanceof hn?t.toString():JSON.stringify(t)}function F(t){if(t instanceof bn){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild(function(t){e&&!F(t)&&(e=!1)}),e}function U(t){if(t instanceof bn&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild(function(t){e&&!U(t)&&(e=!1)}),e}function V(t,e){if(t instanceof bn&&e.indexOf(t.name)>=0)return!1;var i=!0;return t.eachChild(function(t){i&&!V(t,e)&&(i=!1)}),i}function N(t,e){for(var i,r,n=0,o=t.length-1,a=0;n<=o;){if(i=t[a=Math.floor((n+o)/2)],r=t[a+1],e===i||e>i&&e<r)return a;if(i<e)n=a+1;else{if(!(i>e))throw new fn("Input is not a number.");o=a-1}}return Math.max(a-1,0)}function j(t,e,i,r){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=i,this.p2y=r}function q(t,e,i){return t*(1-i)+e*i}function G(t){return t>Ln?Math.pow(t,1/3):t/Dn+zn}function Q(t){return t>Bn?t*t*t:Dn*(t-zn)}function H(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Z(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function X(t){var e=Z(t.r),i=Z(t.g),r=Z(t.b),n=G((.4124564*e+.3575761*i+.1804375*r)/Pn),o=G((.2126729*e+.7151522*i+.072175*r)/Mn);return{l:116*o-16,a:500*(n-o),b:200*(o-G((.0193339*e+.119192*i+.9503041*r)/In)),alpha:t.a}}function W(t){var e=(t.l+16)/116,i=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=Mn*Q(e),i=Pn*Q(i),r=In*Q(r),new ln(H(3.2404542*i-1.5371385*e-.4985314*r),H(-.969266*i+1.8760108*e+.041556*r),H(.0556434*i-.2040259*e+1.0572252*r),t.alpha)}function Y(t,e,i,r){var n=r-i,o=t-i;return 0===n?0:1===e?o/n:(Math.pow(e,o)-1)/(Math.pow(e,n)-1)}function K(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function J(t,e,i,r){return 0===r.compare(e,i)}function $(t,e,i){var r="=="!==t&&"!="!==t;return function(){function n(t,e,i){this.type=tn,this.lhs=t,this.rhs=e,this.collator=i,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return n.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var i=t[0],o=e.parse(t[1],1,nn);if(!o)return null;if(!K(i,o.type))return e.concat(1).error('"'+i+"\" comparisons are not supported for type '"+B(o.type)+"'.");var a=e.parse(t[2],2,nn);if(!a)return null;if(!K(i,a.type))return e.concat(2).error('"'+i+"\" comparisons are not supported for type '"+B(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+B(o.type)+"' and '"+B(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new mn(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new mn(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,on)))return null}return new n(o,a,s)},n.prototype.evaluate=function(n){var o=this.lhs.evaluate(n),a=this.rhs.evaluate(n);if(r&&this.hasUntypedArgument){var s=R(o),A=R(a);if(s.kind!==A.kind||"string"!==s.kind&&"number"!==s.kind)throw new fn('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+A.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var l=R(o),u=R(a);if("string"!==l.kind||"string"!==u.kind)return e(n,o,a)}return this.collator?i(n,o,a,this.collator.evaluate(n)):e(n,o,a)},n.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},n.prototype.possibleOutputs=function(){return[!0,!1]},n.prototype.serialize=function(){var e=[t];return this.eachChild(function(t){e.push(t.serialize())}),e},n}()}function tt(t,e){var i=e[0],r=e[1],n=e[2],o=e[3];i=i.evaluate(t),r=r.evaluate(t),n=n.evaluate(t);var a=o?o.evaluate(t):1,s=L(i,r,n,a);if(s)throw new fn(s);return new ln(i/255*a,r/255*a,n/255*a,a)}function et(t,e){return t in e}function it(t,e){var i=e[t];return void 0===i?null:i}function rt(t){return{type:t}}function nt(t){return{result:"success",value:t}}function ot(t){return{result:"error",value:t}}function at(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function st(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function At(t){return!!t.expression&&t.expression.interpolated}function lt(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function ut(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function ct(t){return t}function ht(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function pt(t,e,i,r,n){return ht(typeof i===n?r[i]:void 0,t.default,e.default)}function ft(t,e,i){if("number"!==lt(i))return ht(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[r-1][0])return t.stops[r-1][1];var n=yt(t.stops,i);return t.stops[n][1]}function dt(t,e,i){var r=void 0!==t.base?t.base:1;if("number"!==lt(i))return ht(t.default,e.default);var n=t.stops.length;if(1===n)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[n-1][0])return t.stops[n-1][1];var o=yt(t.stops,i),a=function(t,e,i,r){var n=r-i,o=t-i;return 0===n?0:1===e?o/n:(Math.pow(e,o)-1)/(Math.pow(e,n)-1)}(i,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],A=t.stops[o+1][1],l=Cn[e.type]||ct;if(t.colorSpace&&"rgb"!==t.colorSpace){var u=Vn[t.colorSpace];l=function(t,e){return u.reverse(u.interpolate(u.forward(t),u.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=s.evaluate.apply(void 0,t),r=A.evaluate.apply(void 0,t);if(void 0!==i&&void 0!==r)return l(i,r,a)}}:l(s,A,a)}function mt(t,e,i){return"color"===e.type?i=ln.parse(i):"formatted"===e.type?i=hn.fromString(i.toString()):lt(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),ht(i,t.default,e.default)}function yt(t,e){for(var i,r,n=0,o=t.length-1,a=0;n<=o;){if(i=t[a=Math.floor((n+o)/2)][0],r=t[a+1][0],e===i||e>i&&e<r)return a;i<e?n=a+1:i>e&&(o=a-1)}return Math.max(a-1,0)}function gt(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in to}function _t(t,e){var i=new Tn(to,[],function(t){var e={color:en,string:$r,number:Jr,enum:$r,boolean:tn,formatted:an};return"array"===t.type?z(e[t.value]||nn,t.length):e[t.type]}(e)),r=i.parse(t,void 0,void 0,void 0,"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?nt(new eo(r,e)):ot(i.errors)}function vt(t,e){if("error"===(t=_t(t,e)).result)return t;var i=t.value.expression,r=F(i);if(!r&&!at(e))return ot([new Wr("","data expressions not supported")]);var n=V(i,["zoom"]);if(!n&&!st(e))return ot([new Wr("","zoom expressions not supported")]);var o=function t(e){var i=null;if(e instanceof qn)i=t(e.result);else if(e instanceof jn)for(var r=0,n=e.args;r<n.length;r+=1){var o=n[r];if(i=t(o))break}else(e instanceof Sn||e instanceof Nn)&&e.input instanceof bn&&"zoom"===e.input.name&&(i=e);return i instanceof Wr?i:(e.eachChild(function(e){var r=t(e);r instanceof Wr?i=r:!i&&r?i=new Wr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&r&&i!==r&&(i=new Wr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i)}(i);return o||n?o instanceof Wr?ot([o]):o instanceof Nn&&!At(e)?ot([new Wr("",'"interpolate" expressions cannot be used with this property')]):nt(o?new ro(r?"camera":"composite",t.value,o):new io(r?"constant":"source",t.value)):ot([new Wr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}function xt(t,e){if(ut(t))return new no(t,e);if(gt(t)){var i=vt(t,e);if("error"===i.result)throw new Error(i.value.map(function(t){return t.key+": "+t.message}).join(", "));return i.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=ln.parse(t)),{kind:"constant",evaluate:function(){return r}}}function bt(t){var e=t.key,i=t.value,r=t.valueSpec||{},n=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],A=lt(i);if("object"!==A)return[new Xr(e,i,"object expected, "+A+" found")];for(var l in i){var u=l.split(".")[0],c=r[u]||r["*"],h=void 0;if(n[u])h=n[u];else if(r[u])h=Gt;else if(n["*"])h=n["*"];else{if(!r["*"]){s.push(new Xr(e,i[l],'unknown property "'+l+'"'));continue}h=Gt}s=s.concat(h({key:(e?e+".":e)+l,value:i[l],valueSpec:c,style:o,styleSpec:a,object:i,objectKey:l},i))}for(var p in r)n[p]||r[p].required&&void 0===r[p].default&&void 0===i[p]&&s.push(new Xr(e,i,'missing required property "'+p+'"'));return s}function wt(t){var e=t.value,i=t.valueSpec,r=t.style,n=t.styleSpec,o=t.key,a=t.arrayElementValidator||Gt;if("array"!==lt(e))return[new Xr(o,e,"array expected, "+lt(e)+" found")];if(i.length&&e.length!==i.length)return[new Xr(o,e,"array length "+i.length+" expected, length "+e.length+" found")];if(i["min-length"]&&e.length<i["min-length"])return[new Xr(o,e,"array length at least "+i["min-length"]+" expected, length "+e.length+" found")];var s={type:i.value};n.$version<7&&(s.function=i.function),"object"===lt(i.value)&&(s=i.value);for(var A=[],l=0;l<e.length;l++)A=A.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:r,styleSpec:n,key:o+"["+l+"]"}));return A}function Et(t){var e=t.key,i=t.value,r=t.valueSpec,n=lt(i);return"number"!==n?[new Xr(e,i,"number expected, "+n+" found")]:"minimum"in r&&i<r.minimum?[new Xr(e,i,i+" is less than the minimum value "+r.minimum)]:"maximum"in r&&i>r.maximum?[new Xr(e,i,i+" is greater than the maximum value "+r.maximum)]:[]}function Tt(t){function e(t){var e=[],r=t.value,s=t.key;if("array"!==lt(r))return[new Xr(s,r,"array expected, "+lt(r)+" found")];if(2!==r.length)return[new Xr(s,r,"array length 2 expected, length "+r.length+" found")];if(c){if("object"!==lt(r[0]))return[new Xr(s,r,"object expected, "+lt(r[0])+" found")];if(void 0===r[0].zoom)return[new Xr(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new Xr(s,r,"object stop key must have value")];if(o&&o>M(r[0].zoom))return[new Xr(s,r[0].zoom,"stop zoom values must appear in ascending order")];M(r[0].zoom)!==o&&(o=M(r[0].zoom),n=void 0,A={}),e=e.concat(bt({key:s+"[0]",value:r[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Et,value:i}}))}else e=e.concat(i({key:s+"[0]",value:r[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},r));return gt(I(r[1]))?e.concat([new Xr(s+"[1]",r[1],"expressions are not allowed in function stops.")]):e.concat(Gt({key:s+"[1]",value:r[1],valueSpec:a,style:t.style,styleSpec:t.styleSpec}))}function i(t,e){var i=lt(t.value),o=M(t.value),l=null!==t.value?t.value:e;if(r){if(i!==r)return[new Xr(t.key,l,i+" stop domain type must match previous stop domain type "+r)]}else r=i;if("number"!==i&&"string"!==i&&"boolean"!==i)return[new Xr(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==i&&"categorical"!==s){var u="number expected, "+i+" found";return at(a)&&void 0===s&&(u+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Xr(t.key,l,u)]}return"categorical"!==s||"number"!==i||isFinite(o)&&Math.floor(o)===o?"categorical"!==s&&"number"===i&&void 0!==n&&o<n?[new Xr(t.key,l,"stop domain values must appear in ascending order")]:(n=o,"categorical"===s&&o in A?[new Xr(t.key,l,"stop domain values must be unique")]:(A[o]=!0,[])):[new Xr(t.key,l,"integer expected, found "+o)]}var r,n,o,a=t.valueSpec,s=M(t.value.type),A={},l="categorical"!==s&&void 0===t.value.property,u=!l,c="array"===lt(t.value.stops)&&"array"===lt(t.value.stops[0])&&"object"===lt(t.value.stops[0][0]),h=bt({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===s)return[new Xr(t.key,t.value,'identity function may not have a "stops" property')];var i=[],r=t.value;return i=i.concat(wt({key:t.key,value:r,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:e})),"array"===lt(r)&&0===r.length&&i.push(new Xr(t.key,r,"array must have at least one stop")),i},default:function(t){return Gt({key:t.key,value:t.value,valueSpec:a,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===s&&l&&h.push(new Xr(t.key,t.value,'missing required property "property"')),"identity"===s||t.value.stops||h.push(new Xr(t.key,t.value,'missing required property "stops"')),"exponential"===s&&t.valueSpec.expression&&!At(t.valueSpec)&&h.push(new Xr(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!at(t.valueSpec)?h.push(new Xr(t.key,t.value,"property functions not supported")):l&&!st(t.valueSpec)&&h.push(new Xr(t.key,t.value,"zoom functions not supported"))),"categorical"!==s&&!c||void 0!==t.value.property||h.push(new Xr(t.key,t.value,'"property" property is required')),h}function St(t){var e=("property"===t.expressionContext?vt:_t)(I(t.value),t.valueSpec);return"error"===e.result?e.value.map(function(e){return new Xr(""+t.key+e.key,t.value,e.message)}):"property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==e.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new Xr(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')]:"property"!==t.expressionContext||"layout"!==t.propertyType||U(e.value._styleExpression.expression)?"filter"!==t.expressionContext||U(e.value.expression)?[]:[new Xr(t.key,t.value,'"feature-state" data expressions are not supported with filters.')]:[new Xr(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')]}function kt(t){var e=t.key,i=t.value,r=t.valueSpec,n=[];return Array.isArray(r.values)?-1===r.values.indexOf(M(i))&&n.push(new Xr(e,i,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(i)+" found")):-1===Object.keys(r.values).indexOf(M(i))&&n.push(new Xr(e,i,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(i)+" found")),n}function Ct(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,i=t.slice(1);e<i.length;e+=1){var r=i[e];if(!Ct(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}function Pt(t){if(null==t)return function(){return!0};Ct(t)||(t=It(t));var e=_t(t,oo);if("error"===e.result)throw new Error(e.value.map(function(t){return t.key+": "+t.message}).join(", "));return function(t,i){return e.value.evaluate(t,i)}}function Mt(t,e){return t<e?-1:t>e?1:0}function It(t){if(!t)return!0;var e,i=t[0];return t.length<=1?"any"!==i:"=="===i?zt(t[1],t[2],"=="):"!="===i?Lt(zt(t[1],t[2],"==")):"<"===i||">"===i||"<="===i||">="===i?zt(t[1],t[2],i):"any"===i?(e=t.slice(1),["any"].concat(e.map(It))):"all"===i?["all"].concat(t.slice(1).map(It)):"none"===i?["all"].concat(t.slice(1).map(It).map(Lt)):"in"===i?Bt(t[1],t.slice(2)):"!in"===i?Lt(Bt(t[1],t.slice(2))):"has"===i?Dt(t[1]):"!has"!==i||Lt(Dt(t[1]))}function zt(t,e,i){switch(t){case"$type":return["filter-type-"+i,e];case"$id":return["filter-id-"+i,e];default:return["filter-"+i,t,e]}}function Bt(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(Mt)]]:["filter-in-small",t,["literal",e]]}}function Dt(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Lt(t){return["!",t]}function Rt(t){return Ct(I(t.value))?St(P({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var i=e.value,r=e.key;if("array"!==lt(i))return[new Xr(r,i,"array expected, "+lt(i)+" found")];var n,o=e.styleSpec,a=[];if(i.length<1)return[new Xr(r,i,"filter array must have at least 1 element")];switch(a=a.concat(kt({key:r+"[0]",value:i[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),M(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&"$type"===M(i[1])&&a.push(new Xr(r,i,'"$type" cannot be use with operator "'+i[0]+'"'));case"==":case"!=":3!==i.length&&a.push(new Xr(r,i,'filter array for operator "'+i[0]+'" must have 3 elements'));case"in":case"!in":i.length>=2&&"string"!==(n=lt(i[1]))&&a.push(new Xr(r+"[1]",i[1],"string expected, "+n+" found"));for(var s=2;s<i.length;s++)n=lt(i[s]),"$type"===M(i[1])?a=a.concat(kt({key:r+"["+s+"]",value:i[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==n&&"number"!==n&&"boolean"!==n&&a.push(new Xr(r+"["+s+"]",i[s],"string, number, or boolean expected, "+n+" found"));break;case"any":case"all":case"none":for(var A=1;A<i.length;A++)a=a.concat(t({key:r+"["+A+"]",value:i[A],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":n=lt(i[1]),2!==i.length?a.push(new Xr(r,i,'filter array for "'+i[0]+'" operator must have 2 elements')):"string"!==n&&a.push(new Xr(r+"[1]",i[1],"string expected, "+n+" found"))}return a}(t)}function Ot(t,e){var i=t.key,r=t.style,n=t.styleSpec,o=t.value,a=t.objectKey,s=n[e+"_"+t.layerType];if(!s)return[];var A=a.match(/^(.*)-transition$/);if("paint"===e&&A&&s[A[1]]&&s[A[1]].transition)return Gt({key:i,value:o,valueSpec:n.transition,style:r,styleSpec:n});var l,u=t.valueSpec||s[a];if(!u)return[new Xr(i,o,'unknown property "'+a+'"')];if("string"===lt(o)&&at(u)&&!u.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new Xr(i,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var c=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&c.push(new Xr(i,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&ut(I(o))&&"identity"===M(o.type)&&c.push(new Xr(i,o,'"text-font" does not support identity functions'))),c.concat(Gt({key:t.key,value:o,valueSpec:u,style:r,styleSpec:n,expressionContext:"property",propertyType:e,propertyKey:a}))}function Ft(t){return Ot(t,"paint")}function Ut(t){return Ot(t,"layout")}function Vt(t){var e=[],i=t.value,r=t.key,n=t.style,o=t.styleSpec;i.type||i.ref||e.push(new Xr(r,i,'either "type" or "ref" is required'));var a,s=M(i.type),A=M(i.ref);if(i.id)for(var l=M(i.id),u=0;u<t.arrayIndex;u++){var c=n.layers[u];M(c.id)===l&&e.push(new Xr(r,i.id,'duplicate layer id "'+i.id+'", previously used at line '+c.id.__line__))}if("ref"in i)["type","source","source-layer","filter","layout"].forEach(function(t){t in i&&e.push(new Xr(r,i[t],'"'+t+'" is prohibited for ref layers'))}),n.layers.forEach(function(t){M(t.id)===A&&(a=t)}),a?a.ref?e.push(new Xr(r,i.ref,"ref cannot reference another ref layer")):s=M(a.type):e.push(new Xr(r,i.ref,'ref layer "'+A+'" not found'));else if("background"!==s)if(i.source){var h=n.sources&&n.sources[i.source],p=h&&M(h.type);h?"vector"===p&&"raster"===s?e.push(new Xr(r,i.source,'layer "'+i.id+'" requires a raster source')):"raster"===p&&"raster"!==s?e.push(new Xr(r,i.source,'layer "'+i.id+'" requires a vector source')):"vector"!==p||i["source-layer"]?"raster-dem"===p&&"hillshade"!==s?e.push(new Xr(r,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!i.paint||!i.paint["line-gradient"]||"geojson"===p&&h.lineMetrics||e.push(new Xr(r,i,'layer "'+i.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Xr(r,i,'layer "'+i.id+'" must specify a "source-layer"')):e.push(new Xr(r,i.source,'source "'+i.source+'" not found'))}else e.push(new Xr(r,i,'missing required property "source"'));return e=e.concat(bt({key:r,value:i,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Gt({key:r+".type",value:i.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:i,objectKey:"type"})},filter:Rt,layout:function(t){return bt({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Ut(P({layerType:s},t))}}})},paint:function(t){return bt({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Ft(P({layerType:s},t))}}})}}}))}function Nt(t){var e=t.value,i=t.key,r=t.styleSpec,n=t.style;if(!e.type)return[new Xr(i,e,'"type" is required')];var o=M(e.type),a=[];switch(o){case"vector":case"raster":case"raster-dem":if(a=a.concat(bt({key:i,value:e,valueSpec:r["source_"+o.replace("-","_")],style:t.style,styleSpec:r})),"url"in e)for(var s in e)["type","url","tileSize"].indexOf(s)<0&&a.push(new Xr(i+"."+s,e[s],'a source with a "url" property may not include a "'+s+'" property'));return a;case"geojson":return bt({key:i,value:e,valueSpec:r.source_geojson,style:n,styleSpec:r});case"video":return bt({key:i,value:e,valueSpec:r.source_video,style:n,styleSpec:r});case"image":return bt({key:i,value:e,valueSpec:r.source_image,style:n,styleSpec:r});case"canvas":
return a.push(new Xr(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")),a;default:return kt({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:n,styleSpec:r})}}function jt(t){var e=t.value,i=t.styleSpec,r=i.light,n=t.style,o=[],a=lt(e);if(void 0===e)return o;if("object"!==a)return o=o.concat([new Xr("light",e,"object expected, "+a+" found")]);for(var s in e){var A=s.match(/^(.*)-transition$/);o=A&&r[A[1]]&&r[A[1]].transition?o.concat(Gt({key:s,value:e[s],valueSpec:i.transition,style:n,styleSpec:i})):r[s]?o.concat(Gt({key:s,value:e[s],valueSpec:r[s],style:n,styleSpec:i})):o.concat([new Xr(s,e[s],'unknown property "'+s+'"')])}return o}function qt(t){var e=t.value,i=t.key,r=lt(e);return"string"!==r?[new Xr(i,e,"string expected, "+r+" found")]:[]}function Gt(t){var e=t.value,i=t.valueSpec,r=t.styleSpec;return i.expression&&ut(M(e))?Tt(t):i.expression&&gt(I(e))?St(t):i.type&&ao[i.type]?ao[i.type](t):bt(P({},t,{valueSpec:i.type?r[i.type]:i}))}function Qt(t){var e=t.value,i=t.key,r=qt(t);return r.length?r:(-1===e.indexOf("{fontstack}")&&r.push(new Xr(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new Xr(i,e,'"glyphs" url must include a "{range}" token')),r)}function Ht(t,e){e=e||Zr;var i=[];return i=i.concat(Gt({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Qt,"*":function(){return[]}}})),t.constants&&(i=i.concat(C({key:"constants",value:t.constants,style:t,styleSpec:e}))),Zt(i)}function Zt(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function Xt(t){return function(){return Zt(t.apply(this,arguments))}}function Wt(t,e){var i=!1;if(e&&e.length)for(var r=0,n=e;r<n.length;r+=1){var o=n[r];t.fire(new Qr(new Error(o.message))),i=!0}return i}function Yt(t,e,i){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var n=new Int32Array(this.arrayBuffer);t=n[0],e=n[1],i=n[2],this.d=e+2*i;for(var o=0;o<this.d*this.d;o++){var a=n[ho+o],s=n[ho+o+1];r.push(a===s?null:n.subarray(a,s))}var A=n[ho+r.length],l=n[ho+r.length+1];this.keys=n.subarray(A,l),this.bboxes=n.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var c=i/e*t;this.min=-c,this.max=t+c}function Kt(t,e,i){void 0===i&&(i={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),fo[t]={klass:e,omit:i.omit||[],shallow:i.shallow||[]}}function Jt(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var i=t;return e&&e.push(i.buffer),i}if(t instanceof po)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],n=0,o=t;n<o.length;n+=1){var a=o[n];r.push(Jt(a,e))}return r}if("object"==typeof t){var s=t.constructor,A=s._classRegistryKey;if(!A)throw new Error("can't serialize object of unregistered class");var l=s.serialize?s.serialize(t,e):{};if(!s.serialize){for(var u in t)if(t.hasOwnProperty(u)&&!(fo[A].omit.indexOf(u)>=0)){var c=t[u];l[u]=fo[A].shallow.indexOf(u)>=0?c:Jt(c,e)}t instanceof Error&&(l.message=t.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==A&&(l.$name=A),l}throw new Error("can't serialize object of type "+typeof t)}function $t(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof po)return t;if(Array.isArray(t))return t.map($t);if("object"==typeof t){var e=t.$name||"Object",i=fo[e].klass;if(!i)throw new Error("can't deserialize unregistered class "+e);if(i.deserialize)return i.deserialize(t);for(var r=Object.create(i.prototype),n=0,o=Object.keys(t);n<o.length;n+=1){var a=o[n];if("$name"!==a){var s=t[a];r[a]=fo[e].shallow.indexOf(a)>=0?s:$t(s)}}return r}throw new Error("can't deserialize object of type "+typeof t)}function te(t){for(var e=0,i=t;e<i.length;e+=1)if(ie(i[e].charCodeAt(0)))return!0;return!1}function ee(t){return!(_o.Arabic(t)||_o["Arabic Supplement"](t)||_o["Arabic Extended-A"](t)||_o["Arabic Presentation Forms-A"](t)||_o["Arabic Presentation Forms-B"](t))}function ie(t){return!!(746===t||747===t||!(t<4352)&&(_o["Bopomofo Extended"](t)||_o.Bopomofo(t)||_o["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||_o["CJK Compatibility Ideographs"](t)||_o["CJK Compatibility"](t)||_o["CJK Radicals Supplement"](t)||_o["CJK Strokes"](t)||!(!_o["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||_o["CJK Unified Ideographs Extension A"](t)||_o["CJK Unified Ideographs"](t)||_o["Enclosed CJK Letters and Months"](t)||_o["Hangul Compatibility Jamo"](t)||_o["Hangul Jamo Extended-A"](t)||_o["Hangul Jamo Extended-B"](t)||_o["Hangul Jamo"](t)||_o["Hangul Syllables"](t)||_o.Hiragana(t)||_o["Ideographic Description Characters"](t)||_o.Kanbun(t)||_o["Kangxi Radicals"](t)||_o["Katakana Phonetic Extensions"](t)||_o.Katakana(t)&&12540!==t||!(!_o["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!_o["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||_o["Unified Canadian Aboriginal Syllabics"](t)||_o["Unified Canadian Aboriginal Syllabics Extended"](t)||_o["Vertical Forms"](t)||_o["Yijing Hexagram Symbols"](t)||_o["Yi Syllables"](t)||_o["Yi Radicals"](t)))}function re(t){return!(ie(t)||function(t){return!!(_o["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||_o["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||_o["Letterlike Symbols"](t)||_o["Number Forms"](t)||_o["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||_o["Control Pictures"](t)&&9251!==t||_o["Optical Character Recognition"](t)||_o["Enclosed Alphanumerics"](t)||_o["Geometric Shapes"](t)||_o["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||_o["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||_o["CJK Symbols and Punctuation"](t)||_o.Katakana(t)||_o["Private Use Area"](t)||_o["CJK Compatibility Forms"](t)||_o["Small Form Variants"](t)||_o["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function ne(t,e){return!(!e&&(t>=1424&&t<=2303||_o["Arabic Presentation Forms-A"](t)||_o["Arabic Presentation Forms-B"](t))||t>=2304&&t<=3583||t>=3840&&t<=4255||_o.Khmer(t))}function oe(t,e){void 0===e&&(e=1);var i=0,r=0;return{members:t.map(function(t){var n,o=(n=t.type,No[n].BYTES_PER_ELEMENT),a=i=ae(i,Math.max(e,o)),s=t.components||1;return r=Math.max(r,o),i+=o*s,{name:t.name,type:t.type,components:s,offset:a}}),size:ae(i,Math.max(r,e)),alignment:e}}function ae(t,e){return Math.ceil(t/e)*e}function se(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function Ae(t){return[Sa(255*t.r,255*t.g),Sa(255*t.b,255*t.a)]}function le(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function ue(t,e,i){var r={color:{source:la,composite:ua},number:{source:ra,composite:la}},n=function(t){return{"line-pattern":{source:Xo,composite:Xo},"fill-pattern":{source:Xo,composite:Xo},"fill-extrusion-pattern":{source:Xo,composite:Xo}}[t]}(t);return n&&n[i]||r[e][i]}function ce(t){for(var e=Qa/t.extent,i=t.loadGeometry(),r=0;r<i.length;r++)for(var n=i[r],o=0;o<n.length;o++){var a=n[o];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<Ha.min||a.x>Ha.max||a.y<Ha.min||a.y>Ha.max)&&y("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return i}function he(t,e,i,r,n){t.emplaceBack(2*e+(r+1)/2,2*i+(n+1)/2)}function pe(t,e,i){for(var r=0;r<t.length;r++){var n=t[r];if(be(n,e))return!0;if(_e(e,n,i))return!0}return!1}function fe(t,e){if(1===t.length&&1===t[0].length)return xe(e,t[0][0]);for(var i=0;i<e.length;i++)for(var r=e[i],n=0;n<r.length;n++)if(xe(t,r[n]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],s=0;s<a.length;s++)if(xe(e,a[s]))return!0;for(var A=0;A<e.length;A++)if(ye(a,e[A]))return!0}return!1}function de(t,e,i){for(var r=0;r<e.length;r++)for(var n=e[r],o=0;o<t.length;o++){var a=t[o];if(a.length>=3)for(var s=0;s<n.length;s++)if(be(a,n[s]))return!0;if(me(a,n,i))return!0}return!1}function me(t,e,i){if(t.length>1){if(ye(t,e))return!0;for(var r=0;r<e.length;r++)if(_e(e[r],t,i))return!0}for(var n=0;n<t.length;n++)if(_e(t[n],e,i))return!0;return!1}function ye(t,e){if(0===t.length||0===e.length)return!1;for(var i=0;i<t.length-1;i++)for(var r=t[i],n=t[i+1],o=0;o<e.length-1;o++)if(ge(r,n,e[o],e[o+1]))return!0;return!1}function ge(t,e,i,r){return g(t,i,r)!==g(e,i,r)&&g(t,e,i)!==g(t,e,r)}function _e(t,e,i){var r=i*i;if(1===e.length)return t.distSqr(e[0])<r;for(var n=1;n<e.length;n++)if(ve(t,e[n-1],e[n])<r)return!0;return!1}function ve(t,e,i){var r=e.distSqr(i);if(0===r)return t.distSqr(e);var n=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/r;return n<0?t.distSqr(e):n>1?t.distSqr(i):t.distSqr(i.sub(e)._mult(n)._add(e))}function xe(t,e){for(var i,r,n,o=!1,a=0;a<t.length;a++)for(var s=0,A=(i=t[a]).length-1;s<i.length;A=s++)r=i[s],n=i[A],r.y>e.y!=n.y>e.y&&e.x<(n.x-r.x)*(e.y-r.y)/(n.y-r.y)+r.x&&(o=!o);return o}function be(t,e){for(var i=!1,r=0,n=t.length-1;r<t.length;n=r++){var o=t[r],a=t[n];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(i=!i)}return i}function we(t,e,i){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:i.programConfigurations.get(e.id).binders[t].maxValue}function Ee(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Te(t,e,i,r,n){if(!e[0]&&!e[1])return t;var o=dr.convert(e);"viewport"===i&&o._rotate(-r);for(var a=[],s=0;s<t.length;s++){for(var A=t[s],l=[],u=0;u<A.length;u++)l.push(A[u].sub(o._mult(n)));a.push(l)}return a}function Se(){var t=new Wa(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ke(){var t=new Wa(3);return t[0]=0,t[1]=0,t[2]=0,t}function Ce(t){var e=t[0],i=t[1],r=t[2];return Math.sqrt(e*e+i*i+r*r)}function Pe(t,e,i){var r=new Wa(3);return r[0]=t,r[1]=e,r[2]=i,r}function Me(t,e){var i=e[0],r=e[1],n=e[2],o=i*i+r*r+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function Ie(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ze(t,e,i){var r=e[0],n=e[1],o=e[2],a=i[0],s=i[1],A=i[2];return t[0]=n*A-o*s,t[1]=o*a-r*A,t[2]=r*s-n*a,t}function Be(){var t=new Wa(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function De(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=i*i+r*r+n*n+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=i*a,t[1]=r*a,t[2]=n*a,t[3]=o*a),t}function Le(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3];return t[0]=i[0]*r+i[4]*n+i[8]*o+i[12]*a,t[1]=i[1]*r+i[5]*n+i[9]*o+i[13]*a,t[2]=i[2]*r+i[6]*n+i[10]*o+i[14]*a,t[3]=i[3]*r+i[7]*n+i[11]*o+i[15]*a,t}function Re(){var t=new Wa(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Oe(t,e,i){var r=Le([],[t.x,t.y,0,1],e);return new dr((r[0]/r[3]+1)*i.width*.5,(r[1]/r[3]+1)*i.height*.5)}function Fe(t,e,i,r){var n=e.width,o=e.height;if(r){if(r.length!==n*o*i)throw new RangeError("mismatched image size")}else r=new Uint8Array(n*o*i);return t.width=n,t.height=o,t.data=r,t}function Ue(t,e,i){var r=e.width,n=e.height;if(r!==t.width||n!==t.height){var o=Fe({},{width:r,height:n},i);Ve(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,n)},i),t.width=r,t.height=n,t.data=o.data}}function Ve(t,e,i,r,n,o){if(0===n.width||0===n.height)return e;if(n.width>t.width||n.height>t.height||i.x>t.width-n.width||i.y>t.height-n.height)throw new RangeError("out of range source coordinates for image copy");if(n.width>e.width||n.height>e.height||r.x>e.width-n.width||r.y>e.height-n.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,A=0;A<n.height;A++)for(var l=((i.y+A)*t.width+i.x)*o,u=((r.y+A)*e.width+r.x)*o,c=0;c<n.width*o;c++)s[u+c]=a[l+c];return e}function Ne(t,e){for(var i=new Uint8Array(1024),r={},n=0,o=0;n<256;n++,o+=4){r[e]=n/255;var a=t.evaluate(r);i[o+0]=Math.floor(255*a.r/a.a),i[o+1]=Math.floor(255*a.g/a.a),i[o+2]=Math.floor(255*a.b/a.a),i[o+3]=Math.floor(255*a.a)}return new rs({width:256,height:1},i)}function je(t,e,i){i=i||2;var r,n,o,a,s,A,l,u=e&&e.length,c=u?e[0]*i:t.length,h=qe(t,0,c,i,!0),p=[];if(!h)return p;if(u&&(h=function(t,e,i,r){var n,o,a,s,A,l=[];for(n=0,o=e.length;n<o;n++)a=e[n]*r,s=n<o-1?e[n+1]*r:t.length,(A=qe(t,a,s,r,!1))===A.next&&(A.steiner=!0),l.push($e(A));for(l.sort(Ye),n=0;n<l.length;n++)Ke(l[n],i),i=Ge(i,i.next);return i}(t,e,h,i)),t.length>80*i){r=o=t[0],n=a=t[1];for(var f=i;f<c;f+=i)(s=t[f])<r&&(r=s),(A=t[f+1])<n&&(n=A),s>o&&(o=s),A>a&&(a=A);l=0!==(l=Math.max(o-r,a-n))?1/l:0}return Qe(h,p,i,r,n,l),p}function qe(t,e,i,r,n){var o,a;if(n===ui(t,e,i,r)>0)for(o=e;o<i;o+=r)a=si(o,t[o],t[o+1],a);else for(o=i-r;o>=e;o-=r)a=si(o,t[o],t[o+1],a);return a&&ri(a,a.next)&&(Ai(a),a=a.next),a}function Ge(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!ri(r,r.next)&&0!==ii(r.prev,r,r.next))r=r.next;else{if(Ai(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function Qe(t,e,i,r,n,o,a){if(t){!a&&o&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=Je(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,a,s,A,l=1;do{for(i=t,t=null,o=null,a=0;i;){for(a++,r=i,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(A=l;s>0||A>0&&r;)0!==s&&(0===A||!r||i.z<=r.z)?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,A--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,l*=2}while(a>1)}(n)}(t,r,n,o);for(var s,A,l=t;t.prev!==t.next;)if(s=t.prev,A=t.next,o?Ze(t,r,n,o):He(t))e.push(s.i/i),e.push(t.i/i),e.push(A.i/i),Ai(t),t=A.next,l=A.next;else if((t=A)===l){a?1===a?Qe(t=Xe(t,e,i),e,i,r,n,o,2):2===a&&We(t,e,i,r,n,o):Qe(Ge(t),e,i,r,n,o,1);break}}}function He(t){var e=t.prev,i=t,r=t.next;if(ii(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(ti(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&ii(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function Ze(t,e,i,r){var n=t.prev,o=t,a=t.next;if(ii(n,o,a)>=0)return!1;for(var s=n.x<o.x?n.x<a.x?n.x:a.x:o.x<a.x?o.x:a.x,A=n.y<o.y?n.y<a.y?n.y:a.y:o.y<a.y?o.y:a.y,l=n.x>o.x?n.x>a.x?n.x:a.x:o.x>a.x?o.x:a.x,u=n.y>o.y?n.y>a.y?n.y:a.y:o.y>a.y?o.y:a.y,c=Je(s,A,e,i,r),h=Je(l,u,e,i,r),p=t.prevZ,f=t.nextZ;p&&p.z>=c&&f&&f.z<=h;){if(p!==t.prev&&p!==t.next&&ti(n.x,n.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ii(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&ti(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&ii(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&ti(n.x,n.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ii(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=h;){if(f!==t.prev&&f!==t.next&&ti(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&ii(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Xe(t,e,i){var r=t;do{var n=r.prev,o=r.next.next;!ri(n,o)&&ni(n,r,r.next,o)&&oi(n,o)&&oi(o,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(o.i/i),Ai(r),Ai(r.next),r=t=o),r=r.next}while(r!==t);return r}function We(t,e,i,r,n,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&ei(a,s)){var A=ai(a,s);return a=Ge(a,a.next),A=Ge(A,A.next),Qe(a,e,i,r,n,o),void Qe(A,e,i,r,n,o)}s=s.next}a=a.next}while(a!==t)}function Ye(t,e){return t.x-e.x}function Ke(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a){if(a=s,s===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===a)return i.prev;var A,l=i,u=i.x,c=i.y,h=1/0;for(r=i.next;r!==l;)n>=r.x&&r.x>=u&&n!==r.x&&ti(o<c?n:a,o,u,c,o<c?a:n,o,r.x,r.y)&&((A=Math.abs(o-r.y)/(n-r.x))<h||A===h&&r.x>i.x)&&oi(r,t)&&(i=r,h=A),r=r.next;return i}(t,e)){var i=ai(e,t);Ge(i,i.next)}}function Je(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function $e(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function ti(t,e,i,r,n,o,a,s){return(n-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(i-a)*(e-s)>=0&&(i-a)*(o-s)-(n-a)*(r-s)>=0}function ei(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&ni(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&oi(t,e)&&oi(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function ii(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function ri(t,e){return t.x===e.x&&t.y===e.y}function ni(t,e,i,r){return!!(ri(t,e)&&ri(i,r)||ri(t,r)&&ri(i,e))||ii(t,e,i)>0!=ii(t,e,r)>0&&ii(i,r,t)>0!=ii(i,r,e)>0}function oi(t,e){return ii(t.prev,t,t.next)<0?ii(t,e,t.next)>=0&&ii(t,t.prev,e)>=0:ii(t,e,t.prev)<0||ii(t,t.next,e)<0}function ai(t,e){var i=new li(t.i,t.x,t.y),r=new li(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,o.next=r,r.prev=o,r}function si(t,e,i,r){var n=new li(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Ai(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function li(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ui(t,e,i,r){for(var n=0,o=e,a=i-r;o<i;o+=r)n+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return n}function ci(t,e,i,r,n){!function t(e,i,r,n,o){for(;n>r;){if(n-r>600){var a=n-r+1,s=i-r+1,A=Math.log(a),l=.5*Math.exp(2*A/3),u=.5*Math.sqrt(A*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,i,Math.max(r,Math.floor(i-s*l/a+u)),Math.min(n,Math.floor(i+(a-s)*l/a+u)),o)}var c=e[i],h=r,p=n;for(hi(e,r,i),o(e[n],c)>0&&hi(e,r,n);h<p;){for(hi(e,h,p),h++,p--;o(e[h],c)<0;)h++;for(;o(e[p],c)>0;)p--}0===o(e[r],c)?hi(e,r,p):hi(e,++p,n),p<=i&&(r=p+1),i<=p&&(n=p-1)}}(t,e,i||0,r||t.length-1,n||pi)}function hi(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function pi(t,e){return t<e?-1:t>e?1:0}function fi(t,e){var i=t.length;if(i<=1)return[t];for(var r,n,o=[],a=0;a<i;a++){var s=_(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===n&&(n=s<0),n===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var A=0;A<o.length;A++)o[A].length<=e||(hs(o[A],e,1,o[A].length-1,di),o[A]=o[A].slice(0,e));return o}function di(t,e){return e.area-t.area}function mi(t,e,i){for(var r=i.patternDependencies,n=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(n=!0);var A=s.constantOr(null);A&&(n=!0,r[A.to]=!0,r[A.from]=!0)}return n}function yi(t,e,i,r,n){for(var o=n.patternDependencies,a=0,s=e;a<s.length;a+=1){var A=s[a],l=A.paint.get(t+"-pattern").value;if("constant"!==l.kind){var u=l.evaluate({zoom:r-1},i,{}),c=l.evaluate({zoom:r},i,{}),h=l.evaluate({zoom:r+1},i,{});o[u]=!0,o[c]=!0,o[h]=!0,i.patterns[A.id]={min:u,mid:c,max:h}}}return i}function gi(t,e,i,r,n,o,a,s){t.emplaceBack(e,i,2*Math.floor(r*_s)+a,n*_s*2,o*_s*2,Math.round(s))}function _i(t,e){return t.x===e.x&&(t.x<0||t.x>Qa)||t.y===e.y&&(t.y<0||t.y>Qa)}function vi(t){return t.every(function(t){return t.x<0})||t.every(function(t){return t.x>Qa})||t.every(function(t){return t.y<0})||t.every(function(t){return t.y>Qa})}function xi(t,e,i,r,n){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=n,t.readFields(bi,this,e)}function bi(t,e,i){1==t?e.id=i.readVarint():2==t?function(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var r=e._keys[t.readVarint()],n=e._values[t.readVarint()];e.properties[r]=n}}(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function wi(t){for(var e,i,r=0,n=0,o=t.length,a=o-1;n<o;a=n++)e=t[n],r+=((i=t[a]).x-e.x)*(e.y+i.y);return r}function Ei(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Ti,this,e),this.length=this._features.length}function Ti(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(i))}function Si(t,e,i){if(3===t){var r=new Ss(i,i.readVarint()+i.pos);r.length&&(e[r.name]=r)}}function ki(t,e,i,r,n,o,a){t.emplaceBack(e.x,e.y,r?1:0,n?1:-1,Math.round(Ps*i.x)+128,Math.round(Ps*i.y)+128,1+(0===o?0:o<0?-1:1)|(a*Is&63)<<2,a*Is>>6)}function Ci(t,e){return(t/e.tileTotal*(e.end-e.start)+e.start)*(zs-1)}function Pi(t,e){return e>0?e+2*t:t}function Mi(t,e,i){return t.sections.forEach(function(t){t.text=function(t,e,i){var r=e.layout.get("text-transform").evaluate(i,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),Eo.applyArabicShaping&&(t=Eo.applyArabicShaping(t)),t}(t.text,e,i)}),t}function Ii(t,e){var i=e.expression;if("constant"===i.kind)return{functionType:"constant",layoutSize:i.evaluate(new To(t+1))};if("source"===i.kind)return{functionType:"source"};for(var r=i.zoomStops,n=0;n<r.length&&r[n]<=t;)n++;for(var o=n=Math.max(0,n-1);o<r.length&&r[o]<t+1;)o++;o=Math.min(r.length-1,o);var a={min:r[n],max:r[o]};return"composite"===i.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:i.evaluate(new To(t+1)),zoomRange:a,sizeRange:{min:i.evaluate(new To(a.min)),max:i.evaluate(new To(a.max))},propertyValue:e.value}}function zi(t,e,i,r,n,o,a,s){t.emplaceBack(e,i,Math.round(32*r),Math.round(32*n),o,a,s?s[0]:0,s?s[1]:0)}function Bi(t,e,i){t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i)}function Di(t){for(var e=0,i=0,r=0,n=t;r<n.length;r+=1){var o=n[r];e+=o.w*o.h,i=Math.max(i,o.w)}t.sort(function(t,e){return e.h-t.h});for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),i),h:1/0}],s=0,A=0,l=0,u=t;l<u.length;l+=1)for(var c=u[l],h=a.length-1;h>=0;h--){var p=a[h];if(!(c.w>p.w||c.h>p.h)){if(c.x=p.x,c.y=p.y,A=Math.max(A,c.y+c.h),s=Math.max(s,c.x+c.w),c.w===p.w&&c.h===p.h){var f=a.pop();h<a.length&&(a[h]=f)}else c.h===p.h?(p.x+=c.w,p.w-=c.w):c.w===p.w?(p.y+=c.h,p.h-=c.h):(a.push({x:p.x+c.w,y:p.y,w:p.w-c.w,h:c.h}),p.y+=c.h,p.h-=c.h);break}}return{w:s,h:A,fill:e/(s*A)||0}}function Li(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function Ri(t){return t.type===Li.Bytes?t.readVarint()+t.pos:t.pos+1}function Oi(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Fi(t,e,i){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));i.realloc(r);for(var n=i.pos-1;n>=t;n--)i.buf[n+r]=i.buf[n]}function Ui(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function Vi(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function Ni(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function ji(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function qi(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function Gi(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function Qi(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function Hi(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function Zi(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function Xi(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Wi(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function Yi(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function Ki(t,e,i){1===t&&i.readMessage(Ji,e)}function Ji(t,e,i){if(3===t){var r=i.readMessage($i,{}),n=r.id,o=r.bitmap,a=r.width,s=r.height,A=r.left,l=r.top,u=r.advance;e.push({id:n,bitmap:new is({width:a+2*mA,height:s+2*mA},o),metrics:{width:a,height:s,left:A,top:l,advance:u}})}}function $i(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}function tr(t,e,i){var r=2*Math.PI*6378137/256/Math.pow(2,i);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}function er(t){return 2*Math.PI*6378137*Math.cos(t*Math.PI/180)}function ir(t){return(180+t)/360}function rr(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function nr(t,e){return t/er(e)}function or(t){var e=180-360*t;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90}function ar(t,e,i,r){(t*=2)<0&&(t=-1*t-1);var n=1<<e;return 32*(n*n*t+n*r+i)+e}function sr(t,e){return e-t}function Ar(t,e,i,r){var n=Math.pow(t-e,2);return r?t<e?n/2:2*n:n+Math.abs(i)*i}function lr(t,e){var i=0;return 10===t&&(i-=1e4),40!==t&&65288!==t||(i+=50),41!==e&&65289!==e||(i+=50),i}function ur(t,e,i,r,n,o){for(var a=null,s=Ar(e,i,n,o),A=0,l=r;A<l.length;A+=1){var u=l[A],c=Ar(e-u.x,i,n,o)+u.badness;c<=s&&(a=u,s=c)}return{index:t,x:e,priorBreak:a,badness:s}}function cr(t,e,i,r){if(!i)return[];if(!t)return[];for(var n,o=[],a=function(t,e,i,r){for(var n=0,o=0;o<t.length();o++){var a=t.getSection(o),s=r[a.fontStack],A=s&&s[t.getCharCode(o)];A&&(n+=A.metrics.advance*a.scale+e)}return n/Math.max(1,Math.ceil(n/i))}(t,e,i,r),s=0,A=0;A<t.length();A++){var l=t.getSection(A),u=t.getCharCode(A),c=r[l.fontStack],h=c&&c[u];h&&!LA[u]&&(s+=h.metrics.advance*l.scale+e),A<t.length()-1&&(RA[u]||!((n=u)<11904)&&(_o["Bopomofo Extended"](n)||_o.Bopomofo(n)||_o["CJK Compatibility Forms"](n)||_o["CJK Compatibility Ideographs"](n)||_o["CJK Compatibility"](n)||_o["CJK Radicals Supplement"](n)||_o["CJK Strokes"](n)||_o["CJK Symbols and Punctuation"](n)||_o["CJK Unified Ideographs Extension A"](n)||_o["CJK Unified Ideographs"](n)||_o["Enclosed CJK Letters and Months"](n)||_o["Halfwidth and Fullwidth Forms"](n)||_o.Hiragana(n)||_o["Ideographic Description Characters"](n)||_o["Kangxi Radicals"](n)||_o["Katakana Phonetic Extensions"](n)||_o.Katakana(n)||_o["Vertical Forms"](n)||_o["Yi Radicals"](n)||_o["Yi Syllables"](n)))&&o.push(ur(A+1,s,a,o,lr(u,t.getCharCode(A+1)),!1))}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(ur(t.length(),s,a,o,0,!0))}function hr(t){var e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function pr(t,e,i,r,n){if(n){var o=t[r],a=e[o.fontStack],s=a&&a[o.glyph];if(s)for(var A=s.metrics.advance*o.scale,l=(t[r].x+A)*n,u=i;u<=r;u++)t[u].x-=l}}var fr=i;i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){var i,r,n,o,a;for(void 0===e&&(e=1e-6),n=t,a=0;a<8;a++){if(o=this.sampleCurveX(n)-t,Math.abs(o)<e)return n;var s=this.sampleCurveDerivativeX(n);if(Math.abs(s)<1e-6)break;n-=o/s}if((n=t)<(i=0))return i;if(n>(r=1))return r;for(;i<r;){if(o=this.sampleCurveX(n),Math.abs(o-t)<e)return n;t>o?i=n:r=n,n=.5*(r-i)+i}return n},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var dr=r;r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=e*this.x-i*this.y,n=i*this.x+e*this.y;return this.x=r,this.y=n,this},_rotateAround:function(t,e){var i=Math.cos(t),r=Math.sin(t),n=e.x+i*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+i*(this.y-e.y);return this.x=n,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t};var mr=o(.25,.1,.25,1),yr=1,gr={},_r=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),vr=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,xr=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,br={now:_r,frame:function(t){var e=vr(t);return{cancel:function(){return xr(e)}}},getImageData:function(t){var e=self.document.createElement("canvas"),i=e.getContext("2d");if(!i)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,i.drawImage(t,0,0,t.width,t.height),i.getImageData(0,0,t.width,t.height)},resolveURL:function(t){var e=self.document.createElement("a");return e.href=t,e.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},supportsWebp:!1};if(self.document){var wr=self.document.createElement("img");wr.onload=function(){br.supportsWebp=!0},wr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var Er={API_URL:"https://api.mapbox.com",get EVENTS_URL(){
return 0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":"https://events.mapbox.com/events/v2"},REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Tr="See https://www.mapbox.com/api-documentation/#access-tokens",Sr=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i,kr=/(\.(png|jpg)\d*)(?=$)/,Cr=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/,Pr=function(t){this.type=t,this.anonId=null,this.eventData={lastSuccess:null,accessToken:Er.ACCESS_TOKEN},this.queue=[],this.pendingRequest=null};Pr.prototype.fetchEventData=function(){var t=v("localStorage"),e="mapbox.eventData:"+(Er.ACCESS_TOKEN||""),i="mapbox.eventData.uuid:"+(Er.ACCESS_TOKEN||"");if(t)try{var r=self.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var n=self.localStorage.getItem(i);n&&(this.anonId=n)}catch(t){y("Unable to read from LocalStorage")}},Pr.prototype.saveEventData=function(){var t=v("localStorage"),e="mapbox.eventData:"+(Er.ACCESS_TOKEN||""),i="mapbox.eventData.uuid:"+(Er.ACCESS_TOKEN||"");if(t)try{self.localStorage.setItem(i,this.anonId),this.eventData.lastSuccess&&self.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){y("Unable to write to LocalStorage")}},Pr.prototype.processRequests=function(){},Pr.prototype.postEvent=function(t,e,i){var r=this,n=E(Er.EVENTS_URL);n.params.push("access_token="+(Er.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"0.51.0",userId:this.anonId},a=e?A(o,e):o,s={url:T(n),headers:{"Content-Type":"text/plain"},body:JSON.stringify([a])};this.pendingRequest=Vr(s,function(t){r.pendingRequest=null,i(t),r.saveEventData(),r.processRequests()})},Pr.prototype.queueRequest=function(t){this.queue.push(t),this.processRequests()};var Mr=function(t){function e(){t.call(this,"map.load"),this.success={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postMapLoadEvent=function(t,e){Er.ACCESS_TOKEN&&Array.isArray(t)&&t.some(function(t){return w(t)})&&this.queueRequest({id:e,timestamp:Date.now()})},e.prototype.processRequests=function(){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var e=this.queue.shift(),i=e.id,r=e.timestamp;i&&this.success[i]||(this.anonId||this.fetchEventData(),c(this.anonId)||(this.anonId=u()),this.postEvent(r,{},function(e){e||i&&(t.success[i]=!0)}))}},e}(Pr),Ir=new(function(t){function e(){t.call(this,"appUserTurnstile")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postTurnstileEvent=function(t){Er.ACCESS_TOKEN&&Array.isArray(t)&&t.some(function(t){return w(t)})&&this.queueRequest(Date.now())},e.prototype.processRequests=function(){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var e=!!this.eventData.accessToken&&this.eventData.accessToken!==Er.ACCESS_TOKEN;e&&(this.anonId=this.eventData.lastSuccess=null),this.anonId&&this.eventData.lastSuccess||this.fetchEventData(),c(this.anonId)||(this.anonId=u(),e=!0);var i=this.queue.shift();if(this.eventData.lastSuccess){var r=new Date(this.eventData.lastSuccess),n=new Date(i),o=(i-this.eventData.lastSuccess)/864e5;e=e||o>=1||o<-1||r.getDate()!==n.getDate()}else e=!0;if(!e)return this.processRequests();this.postEvent(i,{"enabled.telemetry":!1},function(e){e||(t.eventData.lastSuccess=i,t.eventData.accessToken=Er.ACCESS_TOKEN)})}},e}(Pr)),zr=Ir.postTurnstileEvent.bind(Ir),Br=new Mr,Dr=Br.postMapLoadEvent.bind(Br),Lr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Lr);var Rr=function(t){function e(e,i,r){401===i&&w(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens"),t.call(this,e),this.status=i,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),Or="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope?function(){return self.worker&&self.worker.referrer}:function(){var t=self.location.origin;if(t&&"null"!==t&&"file://"!==t)return t+self.location.pathname},Fr=self.fetch&&self.Request&&self.AbortController?function(t,e){var i=new self.AbortController,r=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:Or(),signal:i.signal});return"json"===t.type&&r.headers.set("Accept","application/json"),self.fetch(r).then(function(i){i.ok?i[t.type||"text"]().then(function(t){e(null,t,i.headers.get("Cache-Control"),i.headers.get("Expires"))}).catch(function(t){return e(new Error(t.message))}):e(new Rr(i.statusText,i.status,t.url))}).catch(function(t){e(new Error(t.message))}),{cancel:function(){return i.abort()}}}:function(t,e){var i=new self.XMLHttpRequest;for(var r in i.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(i.responseType="arraybuffer"),t.headers)i.setRequestHeader(r,t.headers[r]);return"json"===t.type&&i.setRequestHeader("Accept","application/json"),i.withCredentials="include"===t.credentials,i.onerror=function(){e(new Error(i.statusText))},i.onload=function(){if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){var r=i.response;if("json"===t.type)try{r=JSON.parse(i.response)}catch(t){return e(t)}e(null,r,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else e(new Rr(i.statusText,i.status,t.url))},i.send(t.body),{cancel:function(){return i.abort()}}},Ur=function(t,e){return Fr(A(t,{type:"arrayBuffer"}),e)},Vr=function(t,e){return Fr(A(t,{method:"POST"}),e)},Nr=[],jr=0,qr=function(t,e){if(jr>=Er.MAX_PARALLEL_IMAGE_REQUESTS){var i={requestParameters:t,callback:e,cancelled:!1};return Nr.push(i),{cancel:function(){i.cancelled=!0}}}return jr++,Ur(t,function(t,i,r,n){for(jr--;Nr.length&&jr<Er.MAX_PARALLEL_IMAGE_REQUESTS;){var o=Nr.shift(),a=o.requestParameters,s=o.callback;o.cancelled||qr(a,s)}if(t)e(t);else if(i){var A=new self.Image,l=self.URL||self.webkitURL;A.onload=function(){e(null,A),l.revokeObjectURL(A.src)},A.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var u=new self.Blob([new Uint8Array(i)],{type:"image/png"});A.cacheControl=r,A.expires=n,A.src=i.byteLength?l.createObjectURL(u):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},Gr=function(t,e){void 0===e&&(e={}),A(this,e),this.type=t},Qr=function(t){function e(e,i){void 0===i&&(i={}),t.call(this,"error",A({error:e},i))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Gr),Hr=function(){};Hr.prototype.on=function(t,e){return this._listeners=this._listeners||{},S(t,e,this._listeners),this},Hr.prototype.off=function(t,e){return k(t,e,this._listeners),k(t,e,this._oneTimeListeners),this},Hr.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},S(t,e,this._oneTimeListeners),this},Hr.prototype.fire=function(t){"string"==typeof t&&(t=new Gr(t,arguments[1]||{}));var e=t.type;if(this.listens(e)){t.target=this;for(var i=0,r=this._listeners&&this._listeners[e]?this._listeners[e].slice():[];i<r.length;i+=1)r[i].call(this,t);for(var n=0,o=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[];n<o.length;n+=1){var a=o[n];k(e,a,this._oneTimeListeners),a.call(this,t)}var s=this._eventedParent;s&&(A(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),s.fire(t))}else t instanceof Qr&&console.error(t.error);return this},Hr.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Hr.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Zr={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-z-order":{type:"enum",values:{"viewport-y":{},source:{}},default:"viewport-y",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{
type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},Xr=function(t,e,i,r){this.message=(t?t+": ":"")+i,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)},Wr=function(t){function e(e,i){t.call(this,i),this.message=i,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Yr=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var i=0,r=e;i<r.length;i+=1){var n=r[i],o=n[0],a=n[1];this.bindings[o]=a}};Yr.prototype.concat=function(t){return new Yr(this,t)},Yr.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Yr.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Kr={kind:"null"},Jr={kind:"number"},$r={kind:"string"},tn={kind:"boolean"},en={kind:"color"},rn={kind:"object"},nn={kind:"value"},on={kind:"collator"},an={kind:"formatted"},sn=[Kr,Jr,$r,tn,en,an,rn,z(nn)],An=e(function(t,e){function i(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return t<0?0:t>1?1:t}function n(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return r("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function a(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var s={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{e.parseCSSColor=function(t){var e,r=t.replace(/ /g,"").toLowerCase();if(r in s)return s[r].slice();if("#"===r[0])return 4===r.length?(e=parseInt(r.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===r.length&&(e=parseInt(r.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var A=r.indexOf("("),l=r.indexOf(")");if(-1!==A&&l+1===r.length){var u=r.substr(0,A),c=r.substr(A+1,l-(A+1)).split(","),h=1;switch(u){case"rgba":if(4!==c.length)return null;h=o(c.pop());case"rgb":return 3!==c.length?null:[n(c[0]),n(c[1]),n(c[2]),h];case"hsla":if(4!==c.length)return null;h=o(c.pop());case"hsl":if(3!==c.length)return null;var p=(parseFloat(c[0])%360+360)%360/360,f=o(c[1]),d=o(c[2]),m=d<=.5?d*(f+1):d+f-d*f,y=2*d-m;return[i(255*a(y,m,p+1/3)),i(255*a(y,m,p)),i(255*a(y,m,p-1/3)),h];default:return null}}return null}}catch(t){}}).parseCSSColor,ln=function(t,e,i,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=i,this.a=r};ln.parse=function(t){if(t){if(t instanceof ln)return t;if("string"==typeof t){var e=An(t);if(e)return new ln(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},ln.prototype.toString=function(){var t=this.toArray(),e=t[0],i=t[1],r=t[2],n=t[3];return"rgba("+Math.round(e)+","+Math.round(i)+","+Math.round(r)+","+n+")"},ln.prototype.toArray=function(){var t=this.r,e=this.g,i=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*t/r,255*e/r,255*i/r,r]},ln.black=new ln(0,0,0,1),ln.white=new ln(1,1,1,1),ln.transparent=new ln(0,0,0,0),ln.red=new ln(1,0,0,1);var un=function(t,e,i){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};un.prototype.compare=function(t,e){return this.collator.compare(t,e)},un.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var cn=function(t,e,i){this.text=t,this.scale=e,this.fontStack=i},hn=function(t){this.sections=t};hn.fromString=function(t){return new hn([new cn(t,null,null)])},hn.prototype.toString=function(){return this.sections.map(function(t){return t.text}).join("")},hn.prototype.serialize=function(){for(var t=["format"],e=0,i=this.sections;e<i.length;e+=1){var r=i[e];t.push(r.text);var n={};r.fontStack&&(n["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(n["font-scale"]=r.scale),t.push(n)}return t};var pn=function(t,e){this.type=t,this.value=e};pn.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof ln)return!0;if(e instanceof un)return!0;if(e instanceof hn)return!0;if(Array.isArray(e)){for(var i=0,r=e;i<r.length;i+=1)if(!t(r[i]))return!1;return!0}if("object"==typeof e){for(var n in e)if(!t(e[n]))return!1;return!0}return!1}(t[1]))return e.error("invalid value");var i=t[1],r=R(i),n=e.expectedType;return"array"!==r.kind||0!==r.N||!n||"array"!==n.kind||"number"==typeof n.N&&0!==n.N||(r=n),new pn(r,i)},pn.prototype.evaluate=function(){return this.value},pn.prototype.eachChild=function(){},pn.prototype.possibleOutputs=function(){return[this.value]},pn.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ln?["rgba"].concat(this.value.toArray()):this.value instanceof hn?this.value.serialize():this.value};var fn=function(t){this.name="ExpressionEvaluationError",this.message=t};fn.prototype.toJSON=function(){return this.message};var dn={string:$r,number:Jr,boolean:tn,object:rn},mn=function(t,e){this.type=t,this.args=e};mn.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var i,r=1,n=t[0];if("array"===n){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in dn)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=dn[s],r++}else o=nn;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}i=z(o,a)}else i=dn[n];for(var A=[];r<t.length;r++){var l=e.parse(t[r],r,nn);if(!l)return null;A.push(l)}return new mn(i,A)},mn.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var i=this.args[e].evaluate(t);if(!D(this.type,R(i)))return i;if(e===this.args.length-1)throw new fn("Expected value to be of type "+B(this.type)+", but found "+B(R(i))+" instead.")}return null},mn.prototype.eachChild=function(t){this.args.forEach(t)},mn.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},mn.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var i=t.itemType;if("string"===i.kind||"number"===i.kind||"boolean"===i.kind){e.push(i.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map(function(t){return t.serialize()}))};var yn=function(t){this.type=an,this.sections=t};yn.parse=function(t,e){if(t.length<3)return e.error("Expected at least two arguments.");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");for(var i=[],r=1;r<t.length-1;r+=2){var n=e.parse(t[r],1,nn);if(!n)return null;var o=n.type.kind;if("string"!==o&&"value"!==o&&"null"!==o)return e.error("Formatted text type must be 'string', 'value', or 'null'.");var a=t[r+1];if("object"!=typeof a||Array.isArray(a))return e.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,Jr)))return null;var A=null;if(a["text-font"]&&!(A=e.parse(a["text-font"],1,z($r))))return null;i.push({text:n,scale:s,font:A})}return new yn(i)},yn.prototype.evaluate=function(t){return new hn(this.sections.map(function(e){return new cn(O(e.text.evaluate(t)),e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null)}))},yn.prototype.eachChild=function(t){for(var e=0,i=this.sections;e<i.length;e+=1){var r=i[e];t(r.text),r.scale&&t(r.scale),r.font&&t(r.font)}},yn.prototype.possibleOutputs=function(){return[void 0]},yn.prototype.serialize=function(){for(var t=["format"],e=0,i=this.sections;e<i.length;e+=1){var r=i[e];t.push(r.text.serialize());var n={};r.scale&&(n["font-scale"]=r.scale.serialize()),r.font&&(n["text-font"]=r.font.serialize()),t.push(n)}return t};var gn={"to-boolean":tn,"to-color":en,"to-number":Jr,"to-string":$r},_n=function(t,e){this.type=t,this.args=e};_n.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var i=t[0];if(("to-boolean"===i||"to-string"===i)&&2!==t.length)return e.error("Expected one argument.");for(var r=gn[i],n=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,nn);if(!a)return null;n.push(a)}return new _n(r,n)},_n.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,i,r=0,n=this.args;r<n.length;r+=1){if(i=null,(e=n[r].evaluate(t))instanceof ln)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(i=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":L(e[0],e[1],e[2],e[3])))return new ln(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new fn(i||"Could not parse color from value '"+("string"==typeof e?e:JSON.stringify(e))+"'")}if("number"===this.type.kind){for(var a=null,s=0,A=this.args;s<A.length;s+=1){if(null===(a=A[s].evaluate(t)))return 0;var l=Number(a);if(!isNaN(l))return l}throw new fn("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?hn.fromString(O(this.args[0].evaluate(t))):O(this.args[0].evaluate(t))},_n.prototype.eachChild=function(t){this.args.forEach(t)},_n.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},_n.prototype.serialize=function(){if("formatted"===this.type.kind)return new yn([{text:this.args[0],scale:null,font:null}]).serialize();var t=["to-"+this.type.kind];return this.eachChild(function(e){t.push(e.serialize())}),t};var vn=["Unknown","Point","LineString","Polygon"],xn=function(){this.globals=null,this.feature=null,this.featureState=null,this._parseColorCache={}};xn.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},xn.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?vn[this.feature.type]:this.feature.type:null},xn.prototype.properties=function(){return this.feature&&this.feature.properties||{}},xn.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=ln.parse(t)),e};var bn=function(t,e,i,r){this.name=t,this.type=e,this._evaluate=i,this.args=r};bn.prototype.evaluate=function(t){return this._evaluate(t,this.args)},bn.prototype.eachChild=function(t){this.args.forEach(t)},bn.prototype.possibleOutputs=function(){return[void 0]},bn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},bn.parse=function(t,e){var i=t[0],r=bn.definitions[i];if(!r)return e.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var n=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter(function(e){var i=e[0];return!Array.isArray(i)||i.length===t.length-1}),s=null,A=0,l=a;A<l.length;A+=1){var u=l[A],c=u[0],h=u[1];s=new Tn(e.registry,e.path,null,e.scope);for(var p=[],f=!1,d=1;d<t.length;d++){var m=t[d],y=Array.isArray(c)?c[d-1]:c.type,g=s.parse(m,1+p.length,y);if(!g){f=!0;break}p.push(g)}if(!f)if(Array.isArray(c)&&c.length!==p.length)s.error("Expected "+c.length+" arguments, but found "+p.length+" instead.");else{for(var _=0;_<p.length;_++){var v=Array.isArray(c)?c[_]:c.type,x=p[_];s.concat(_+1).checkSubtype(v,x.type)}if(0===s.errors.length)return new bn(i,n,h,p)}}if(1===a.length)e.errors.push.apply(e.errors,s.errors);else{for(var b=(a.length?a:o).map(function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(B).join(", ")+")":"("+B(e.type)+"...)"}).join(" | "),w=[],E=1;E<t.length;E++){var T=e.parse(t[E],1+w.length);if(!T)return null;w.push(B(T.type))}e.error("Expected arguments of type "+b+", but found ("+w.join(", ")+") instead.")}return null},bn.register=function(t,e){for(var i in bn.definitions=e,e)t[i]=bn};var wn=function(t,e,i){this.type=on,this.locale=i,this.caseSensitive=t,this.diacriticSensitive=e};wn.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var i=t[1];if("object"!=typeof i||Array.isArray(i))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==i["case-sensitive"]&&i["case-sensitive"],1,tn);if(!r)return null;var n=e.parse(void 0!==i["diacritic-sensitive"]&&i["diacritic-sensitive"],1,tn);if(!n)return null;var o=null;return i.locale&&!(o=e.parse(i.locale,1,$r))?null:new wn(r,n,o)},wn.prototype.evaluate=function(t){return new un(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},wn.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},wn.prototype.possibleOutputs=function(){return[void 0]},wn.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var En=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};En.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var i=t[1];return e.scope.has(i)?new En(i,e.scope.get(i)):e.error('Unknown variable "'+i+'". Make sure "'+i+'" has been bound in an enclosing "let" expression before using it.',1)},En.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},En.prototype.eachChild=function(){},En.prototype.possibleOutputs=function(){return[void 0]},En.prototype.serialize=function(){return["var",this.name]};var Tn=function(t,e,i,r,n){void 0===e&&(e=[]),void 0===r&&(r=new Yr),void 0===n&&(n=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=r,this.errors=n,this.expectedType=i};Tn.prototype.parse=function(t,e,i,r,n){return void 0===n&&(n={}),e?this.concat(e,i,r)._parse(t,n):this._parse(t,n)},Tn.prototype._parse=function(t,e){function i(t,e,i){return"assert"===i?new mn(e,[t]):"coerce"===i?new _n(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var n=this.registry[r];if(n){var o=n.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=i(o,a,e.typeAnnotation||"coerce");else o=i(o,a,e.typeAnnotation||"assert")}if(!(o instanceof pn)&&function t(e){if(e instanceof En)return t(e.boundExpression);if(e instanceof bn&&"error"===e.name)return!1;if(e instanceof wn)return!1;var i=e instanceof _n||e instanceof mn,r=!0;return e.eachChild(function(e){r=i?r&&t(e):r&&e instanceof pn}),!!r&&(F(e)&&V(e,["zoom","heatmap-density","line-progress","is-supported-script"]))}(o)){var A=new xn;try{o=new pn(o.type,o.evaluate(A))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},Tn.prototype.concat=function(t,e,i){var r="number"==typeof t?this.path.concat(t):this.path,n=i?this.scope.concat(i):this.scope;return new Tn(this.registry,r,e||null,n,this.errors)},Tn.prototype.error=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var r=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new Wr(r,t))},Tn.prototype.checkSubtype=function(t,e){var i=D(t,e);return i&&this.error(i),i};var Sn=function(t,e,i){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,n=i;r<n.length;r+=1){var o=n[r],a=o[0],s=o[1];this.labels.push(a),this.outputs.push(s)}};Sn.parse=function(t,e){var i=t[1],r=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,1,Jr)))return null;var n=[],o=null;e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType),r.unshift(-1/0);for(var a=0;a<r.length;a+=2){var s=r[a],A=r[a+1],l=a+1,u=a+2;if("number"!=typeof s)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(n.length&&n[n.length-1][0]>=s)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var c=e.parse(A,u,o);if(!c)return null;o=o||c.type,n.push([s,c])}return new Sn(o,i,n)},Sn.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return i[0].evaluate(t);var n=e.length;return r>=e[n-1]?i[n-1].evaluate(t):i[N(e,r)].evaluate(t)},Sn.prototype.eachChild=function(t){t(this.input);for(var e=0,i=this.outputs;e<i.length;e+=1)t(i[e])},Sn.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},Sn.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var kn=j;j.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},j.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},j.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},j.prototype.solveCurveX=function(t,e){var i,r,n,o,a;for(void 0===e&&(e=1e-6),n=t,a=0;a<8;a++){if(o=this.sampleCurveX(n)-t,Math.abs(o)<e)return n;var s=this.sampleCurveDerivativeX(n);if(Math.abs(s)<1e-6)break;n-=o/s}if((n=t)<(i=0))return i;if(n>(r=1))return r;for(;i<r;){if(o=this.sampleCurveX(n),Math.abs(o-t)<e)return n;t>o?i=n:r=n,n=.5*(r-i)+i}return n},j.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var Cn=Object.freeze({number:q,color:function(t,e,i){return new ln(q(t.r,e.r,i),q(t.g,e.g,i),q(t.b,e.b,i),q(t.a,e.a,i))},array:function(t,e,i){return t.map(function(t,r){return q(t,e[r],i)})}}),Pn=.95047,Mn=1,In=1.08883,zn=4/29,Bn=6/29,Dn=3*Bn*Bn,Ln=Bn*Bn*Bn,Rn=Math.PI/180,On=180/Math.PI,Fn={forward:X,reverse:W,interpolate:function(t,e,i){return{l:q(t.l,e.l,i),a:q(t.a,e.a,i),b:q(t.b,e.b,i),alpha:q(t.alpha,e.alpha,i)}}},Un={forward:function(t){var e=X(t),i=e.l,r=e.a,n=e.b,o=Math.atan2(n,r)*On;return{h:o<0?o+360:o,c:Math.sqrt(r*r+n*n),l:i,alpha:t.a}},reverse:function(t){var e=t.h*Rn,i=t.c;return W({l:t.l,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:t.alpha})},interpolate:function(t,e,i){return{h:function(t,e,i){var r=e-t;return t+i*(r>180||r<-180?r-360*Math.round(r/360):r)}(t.h,e.h,i),c:q(t.c,e.c,i),l:q(t.l,e.l,i),alpha:q(t.alpha,e.alpha,i)}}},Vn=Object.freeze({lab:Fn,hcl:Un}),Nn=function(t,e,i,r,n){this.type=t,this.operator=e,this.interpolation=i,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=n;o<a.length;o+=1){var s=a[o],A=s[0],l=s[1];this.labels.push(A),this.outputs.push(l)}};Nn.interpolationFactor=function(t,e,i,r){var n=0;if("exponential"===t.name)n=Y(e,t.base,i,r);else if("linear"===t.name)n=Y(e,1,i,r);else if("cubic-bezier"===t.name){var o=t.controlPoints;n=new kn(o[0],o[1],o[2],o[3]).solve(Y(e,1,i,r))}return n},Nn.parse=function(t,e){var i=t[0],r=t[1],n=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some(function(t){return"number"!=typeof t||t<0||t>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,2,Jr)))return null;var A=[],l=null;"interpolate-hcl"===i||"interpolate-lab"===i?l=en:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var u=0;u<o.length;u+=2){var c=o[u],h=o[u+1],p=u+3,f=u+4;if("number"!=typeof c)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',p);if(A.length&&A[A.length-1][0]>=c)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',p);var d=e.parse(h,f,l);if(!d)return null;l=l||d.type,A.push([c,d])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new Nn(l,i,r,n,A):e.error("Type "+B(l)+" is not interpolatable.")},Nn.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return i[0].evaluate(t);var n=e.length;if(r>=e[n-1])return i[n-1].evaluate(t);var o=N(e,r),a=e[o],s=e[o+1],A=Nn.interpolationFactor(this.interpolation,r,a,s),l=i[o].evaluate(t),u=i[o+1].evaluate(t);return"interpolate"===this.operator?Cn[this.type.kind.toLowerCase()](l,u,A):"interpolate-hcl"===this.operator?Un.reverse(Un.interpolate(Un.forward(l),Un.forward(u),A)):Fn.reverse(Fn.interpolate(Fn.forward(l),Fn.forward(u),A))},Nn.prototype.eachChild=function(t){t(this.input);for(var e=0,i=this.outputs;e<i.length;e+=1)t(i[e])},Nn.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},Nn.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],i=0;i<this.labels.length;i++)e.push(this.labels[i],this.outputs[i].serialize());return e};var jn=function(t,e){this.type=t,this.args=e}
;jn.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var i=null,r=e.expectedType;r&&"value"!==r.kind&&(i=r);for(var n=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=a[o],A=e.parse(s,1+n.length,i,void 0,{typeAnnotation:"omit"});if(!A)return null;i=i||A.type,n.push(A)}var l=r&&n.some(function(t){return D(r,t.type)});return new jn(l?nn:i,n)},jn.prototype.evaluate=function(t){for(var e=null,i=0,r=this.args;i<r.length&&null===(e=r[i].evaluate(t));i+=1);return e},jn.prototype.eachChild=function(t){this.args.forEach(t)},jn.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},jn.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(e){t.push(e.serialize())}),t};var qn=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};qn.prototype.evaluate=function(t){return this.result.evaluate(t)},qn.prototype.eachChild=function(t){for(var e=0,i=this.bindings;e<i.length;e+=1)t(i[e][1]);t(this.result)},qn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var i=[],r=1;r<t.length-1;r+=2){var n=t[r];if("string"!=typeof n)return e.error("Expected string, but found "+typeof n+" instead.",r);if(/[^a-zA-Z0-9_]/.test(n))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;i.push([n,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,i);return a?new qn(i,a):null},qn.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},qn.prototype.serialize=function(){for(var t=["let"],e=0,i=this.bindings;e<i.length;e+=1){var r=i[e],n=r[0],o=r[1];t.push(n,o.serialize())}return t.push(this.result.serialize()),t};var Gn=function(t,e,i){this.type=t,this.index=e,this.input=i};Gn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,Jr),r=e.parse(t[2],2,z(e.expectedType||nn));if(!i||!r)return null;var n=r.type;return new Gn(n.itemType,i,r)},Gn.prototype.evaluate=function(t){var e=this.index.evaluate(t),i=this.input.evaluate(t);if(e<0)throw new fn("Array index out of bounds: "+e+" < 0.");if(e>=i.length)throw new fn("Array index out of bounds: "+e+" > "+(i.length-1)+".");if(e!==Math.floor(e))throw new fn("Array index must be an integer, but found "+e+" instead.");return i[e]},Gn.prototype.eachChild=function(t){t(this.index),t(this.input)},Gn.prototype.possibleOutputs=function(){return[void 0]},Gn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Qn=function(t,e,i,r,n,o){this.inputType=t,this.type=e,this.input=i,this.cases=r,this.outputs=n,this.otherwise=o};Qn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var i,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var n={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],A=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var u=0,c=s;u<c.length;u+=1){var h=c[u];if("number"!=typeof h&&"string"!=typeof h)return l.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return l.error("Numeric branch labels must be integer values.");if(i){if(l.checkSubtype(i,R(h)))return null}else i=R(h);if(void 0!==n[String(h)])return l.error("Branch labels must be unique.");n[String(h)]=o.length}var p=e.parse(A,a,r);if(!p)return null;r=r||p.type,o.push(p)}var f=e.parse(t[1],1,nn);if(!f)return null;var d=e.parse(t[t.length-1],t.length-1,r);return d?"value"!==f.type.kind&&e.concat(1).checkSubtype(i,f.type)?null:new Qn(i,r,f,n,o,d):null},Qn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(R(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},Qn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Qn.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},Qn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],i=[],r={},n=0,o=Object.keys(this.cases).sort();n<o.length;n+=1){var a=o[n],s=r[t.cases[a]];void 0===s?(r[t.cases[a]]=i.length,i.push([t.cases[a],[a]])):i[s][1].push(a)}for(var A=function(e){return"number"===t.inputType.kind?Number(e):e},l=0,u=i;l<u.length;l+=1){var c=u[l],h=c[0],p=c[1];1===p.length?e.push(A(p[0])):e.push(p.map(A)),e.push(t.outputs[h].serialize())}return e.push(this.otherwise.serialize()),e};var Hn=function(t,e,i){this.type=t,this.branches=e,this.otherwise=i};Hn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var r=[],n=1;n<t.length-1;n+=2){var o=e.parse(t[n],n,tn);if(!o)return null;var a=e.parse(t[n+1],n+1,i);if(!a)return null;r.push([o,a]),i=i||a.type}var s=e.parse(t[t.length-1],t.length-1,i);return s?new Hn(i,r,s):null},Hn.prototype.evaluate=function(t){for(var e=0,i=this.branches;e<i.length;e+=1){var r=i[e],n=r[0],o=r[1];if(n.evaluate(t))return o.evaluate(t)}return this.otherwise.evaluate(t)},Hn.prototype.eachChild=function(t){for(var e=0,i=this.branches;e<i.length;e+=1){var r=i[e],n=r[0],o=r[1];t(n),t(o)}t(this.otherwise)},Hn.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.branches.map(function(t){return t[0],t[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},Hn.prototype.serialize=function(){var t=["case"];return this.eachChild(function(e){t.push(e.serialize())}),t};var Zn=$("==",function(t,e,i){return e===i},J),Xn=$("!=",function(t,e,i){return e!==i},function(t,e,i,r){return!J(0,e,i,r)}),Wn=$("<",function(t,e,i){return e<i},function(t,e,i,r){return r.compare(e,i)<0}),Yn=$(">",function(t,e,i){return e>i},function(t,e,i,r){return r.compare(e,i)>0}),Kn=$("<=",function(t,e,i){return e<=i},function(t,e,i,r){return r.compare(e,i)<=0}),Jn=$(">=",function(t,e,i){return e>=i},function(t,e,i,r){return r.compare(e,i)>=0}),$n=function(t){this.type=Jr,this.input=t};$n.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1);return i?"array"!==i.type.kind&&"string"!==i.type.kind&&"value"!==i.type.kind?e.error("Expected argument of type string or array, but found "+B(i.type)+" instead."):new $n(i):null},$n.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new fn("Expected value to be of type string or array, but found "+B(R(e))+" instead.")},$n.prototype.eachChild=function(t){t(this.input)},$n.prototype.possibleOutputs=function(){return[void 0]},$n.prototype.serialize=function(){var t=["length"];return this.eachChild(function(e){t.push(e.serialize())}),t};var to={"==":Zn,"!=":Xn,">":Yn,"<":Wn,">=":Jn,"<=":Kn,array:mn,at:Gn,boolean:mn,case:Hn,coalesce:jn,collator:wn,format:yn,interpolate:Nn,"interpolate-hcl":Nn,"interpolate-lab":Nn,length:$n,let:qn,literal:pn,match:Qn,number:mn,object:mn,step:Sn,string:mn,"to-boolean":_n,"to-color":_n,"to-number":_n,"to-string":_n,var:En};bn.register(to,{error:[{kind:"error"},[$r],function(t,e){var i=e[0];throw new fn(i.evaluate(t))}],typeof:[$r,[nn],function(t,e){return B(R(e[0].evaluate(t)))}],"to-rgba":[z(Jr,4),[en],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[en,[Jr,Jr,Jr],tt],rgba:[en,[Jr,Jr,Jr,Jr],tt],has:{type:tn,overloads:[[[$r],function(t,e){return et(e[0].evaluate(t),t.properties())}],[[$r,rn],function(t,e){var i=e[0],r=e[1];return et(i.evaluate(t),r.evaluate(t))}]]},get:{type:nn,overloads:[[[$r],function(t,e){return it(e[0].evaluate(t),t.properties())}],[[$r,rn],function(t,e){var i=e[0],r=e[1];return it(i.evaluate(t),r.evaluate(t))}]]},"feature-state":[nn,[$r],function(t,e){return it(e[0].evaluate(t),t.featureState||{})}],properties:[rn,[],function(t){return t.properties()}],"geometry-type":[$r,[],function(t){return t.geometryType()}],id:[nn,[],function(t){return t.id()}],zoom:[Jr,[],function(t){return t.globals.zoom}],"heatmap-density":[Jr,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Jr,[],function(t){return t.globals.lineProgress||0}],"+":[Jr,rt(Jr),function(t,e){for(var i=0,r=0,n=e;r<n.length;r+=1)i+=n[r].evaluate(t);return i}],"*":[Jr,rt(Jr),function(t,e){for(var i=1,r=0,n=e;r<n.length;r+=1)i*=n[r].evaluate(t);return i}],"-":{type:Jr,overloads:[[[Jr,Jr],function(t,e){var i=e[0],r=e[1];return i.evaluate(t)-r.evaluate(t)}],[[Jr],function(t,e){return-e[0].evaluate(t)}]]},"/":[Jr,[Jr,Jr],function(t,e){var i=e[0],r=e[1];return i.evaluate(t)/r.evaluate(t)}],"%":[Jr,[Jr,Jr],function(t,e){var i=e[0],r=e[1];return i.evaluate(t)%r.evaluate(t)}],ln2:[Jr,[],function(){return Math.LN2}],pi:[Jr,[],function(){return Math.PI}],e:[Jr,[],function(){return Math.E}],"^":[Jr,[Jr,Jr],function(t,e){var i=e[0],r=e[1];return Math.pow(i.evaluate(t),r.evaluate(t))}],sqrt:[Jr,[Jr],function(t,e){var i=e[0];return Math.sqrt(i.evaluate(t))}],log10:[Jr,[Jr],function(t,e){var i=e[0];return Math.log(i.evaluate(t))/Math.LN10}],ln:[Jr,[Jr],function(t,e){var i=e[0];return Math.log(i.evaluate(t))}],log2:[Jr,[Jr],function(t,e){var i=e[0];return Math.log(i.evaluate(t))/Math.LN2}],sin:[Jr,[Jr],function(t,e){var i=e[0];return Math.sin(i.evaluate(t))}],cos:[Jr,[Jr],function(t,e){var i=e[0];return Math.cos(i.evaluate(t))}],tan:[Jr,[Jr],function(t,e){var i=e[0];return Math.tan(i.evaluate(t))}],asin:[Jr,[Jr],function(t,e){var i=e[0];return Math.asin(i.evaluate(t))}],acos:[Jr,[Jr],function(t,e){var i=e[0];return Math.acos(i.evaluate(t))}],atan:[Jr,[Jr],function(t,e){var i=e[0];return Math.atan(i.evaluate(t))}],min:[Jr,rt(Jr),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[Jr,rt(Jr),function(t,e){return Math.max.apply(Math,e.map(function(e){return e.evaluate(t)}))}],abs:[Jr,[Jr],function(t,e){var i=e[0];return Math.abs(i.evaluate(t))}],round:[Jr,[Jr],function(t,e){var i=e[0].evaluate(t);return i<0?-Math.round(-i):Math.round(i)}],floor:[Jr,[Jr],function(t,e){var i=e[0];return Math.floor(i.evaluate(t))}],ceil:[Jr,[Jr],function(t,e){var i=e[0];return Math.ceil(i.evaluate(t))}],"filter-==":[tn,[$r,nn],function(t,e){var i=e[0],r=e[1];return t.properties()[i.value]===r.value}],"filter-id-==":[tn,[nn],function(t,e){var i=e[0];return t.id()===i.value}],"filter-type-==":[tn,[$r],function(t,e){var i=e[0];return t.geometryType()===i.value}],"filter-<":[tn,[$r,nn],function(t,e){var i=e[0],r=e[1],n=t.properties()[i.value],o=r.value;return typeof n==typeof o&&n<o}],"filter-id-<":[tn,[nn],function(t,e){var i=e[0],r=t.id(),n=i.value;return typeof r==typeof n&&r<n}],"filter->":[tn,[$r,nn],function(t,e){var i=e[0],r=e[1],n=t.properties()[i.value],o=r.value;return typeof n==typeof o&&n>o}],"filter-id->":[tn,[nn],function(t,e){var i=e[0],r=t.id(),n=i.value;return typeof r==typeof n&&r>n}],"filter-<=":[tn,[$r,nn],function(t,e){var i=e[0],r=e[1],n=t.properties()[i.value],o=r.value;return typeof n==typeof o&&n<=o}],"filter-id-<=":[tn,[nn],function(t,e){var i=e[0],r=t.id(),n=i.value;return typeof r==typeof n&&r<=n}],"filter->=":[tn,[$r,nn],function(t,e){var i=e[0],r=e[1],n=t.properties()[i.value],o=r.value;return typeof n==typeof o&&n>=o}],"filter-id->=":[tn,[nn],function(t,e){var i=e[0],r=t.id(),n=i.value;return typeof r==typeof n&&r>=n}],"filter-has":[tn,[nn],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[tn,[],function(t){return null!==t.id()}],"filter-type-in":[tn,[z($r)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[tn,[z(nn)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[tn,[$r,z(nn)],function(t,e){var i=e[0];return e[1].value.indexOf(t.properties()[i.value])>=0}],"filter-in-large":[tn,[$r,z(nn)],function(t,e){var i=e[0],r=e[1];return function(t,e,i,r){for(;i<=r;){var n=i+r>>1;if(e[n]===t)return!0;e[n]>t?r=n-1:i=n+1}return!1}(t.properties()[i.value],r.value,0,r.value.length-1)}],all:{type:tn,overloads:[[[tn,tn],function(t,e){var i=e[0],r=e[1];return i.evaluate(t)&&r.evaluate(t)}],[rt(tn),function(t,e){for(var i=0,r=e;i<r.length;i+=1)if(!r[i].evaluate(t))return!1;return!0}]]},any:{type:tn,overloads:[[[tn,tn],function(t,e){var i=e[0],r=e[1];return i.evaluate(t)||r.evaluate(t)}],[rt(tn),function(t,e){for(var i=0,r=e;i<r.length;i+=1)if(r[i].evaluate(t))return!0;return!1}]]},"!":[tn,[tn],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[tn,[$r],function(t,e){var i=e[0],r=t.globals&&t.globals.isSupportedScript;return!r||r(i.evaluate(t))}],upcase:[$r,[$r],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[$r,[$r],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[$r,rt(nn),function(t,e){return e.map(function(e){return O(e.evaluate(t))}).join("")}],"resolved-locale":[$r,[on],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var eo=function(t,e){var i;this.expression=t,this._warningHistory={},this._evaluator=new xn,this._defaultValue="color"===(i=e).type&&ut(i.default)?new ln(0,0,0,0):"color"===i.type?ln.parse(i.default)||null:void 0===i.default?null:i.default,this._enumValues="enum"===e.type?e.values:null};eo.prototype.evaluateWithoutErrorHandling=function(t,e,i){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=i,this.expression.evaluate(this._evaluator)},eo.prototype.evaluate=function(t,e,i){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=i||null;try{var r=this.expression.evaluate(this._evaluator);if(null==r)return this._defaultValue;if(this._enumValues&&!(r in this._enumValues))throw new fn("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(r)+" instead.");return r}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var io=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!U(e.expression)};io.prototype.evaluateWithoutErrorHandling=function(t,e,i){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i)},io.prototype.evaluate=function(t,e,i){return this._styleExpression.evaluate(t,e,i)};var ro=function(t,e,i){this.kind=t,this.zoomStops=i.labels,this._styleExpression=e,this.isStateDependent="camera"!==t&&!U(e.expression),i instanceof Nn&&(this._interpolationType=i.interpolation)};ro.prototype.evaluateWithoutErrorHandling=function(t,e,i){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i)},ro.prototype.evaluate=function(t,e,i){return this._styleExpression.evaluate(t,e,i)},ro.prototype.interpolationFactor=function(t,e,i){return this._interpolationType?Nn.interpolationFactor(this._interpolationType,t,e,i):0};var no=function(t,e){this._parameters=t,this._specification=e,P(this,function t(e,i){var r,n,o,a="color"===i.type,s=e.stops&&"object"==typeof e.stops[0][0],A=s||void 0!==e.property,l=s||!A,u=e.type||(At(i)?"exponential":"interval");if(a&&((e=P({},e)).stops&&(e.stops=e.stops.map(function(t){return[t[0],ln.parse(t[1])]})),e.default?e.default=ln.parse(e.default):e.default=ln.parse(i.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Vn[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===u)r=dt;else if("interval"===u)r=ft;else if("categorical"===u){r=pt,n=Object.create(null);for(var c=0,h=e.stops;c<h.length;c+=1){var p=h[c];n[p[0]]=p[1]}o=typeof e.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');r=mt}if(s){for(var f={},d=[],m=0;m<e.stops.length;m++){var y=e.stops[m],g=y[0].zoom;void 0===f[g]&&(f[g]={zoom:g,type:e.type,property:e.property,default:e.default,stops:[]},d.push(g)),f[g].stops.push([y[0].value,y[1]])}for(var _=[],v=0,x=d;v<x.length;v+=1){var b=x[v];_.push([f[b].zoom,t(f[b],i)])}return{kind:"composite",interpolationFactor:Nn.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:_.map(function(t){return t[0]}),evaluate:function(t,r){var n=t.zoom;return dt({stops:_,base:e.base},i,n).evaluate(n,r)}}}return l?{kind:"camera",interpolationFactor:"exponential"===u?Nn.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==e.base?e.base:1}):function(){return 0},zoomStops:e.stops.map(function(t){return t[0]}),evaluate:function(t){var a=t.zoom;return r(e,i,a,n,o)}}:{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?ht(e.default,i.default):r(e,i,s,n,o)}}}(this._parameters,this._specification))};no.deserialize=function(t){return new no(t._parameters,t._specification)},no.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var oo={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},ao={"*":function(){return[]},array:wt,boolean:function(t){var e=t.value,i=t.key,r=lt(e);return"boolean"!==r?[new Xr(i,e,"boolean expected, "+r+" found")]:[]},number:Et,color:function(t){var e=t.key,i=t.value,r=lt(i);return"string"!==r?[new Xr(e,i,"color expected, "+r+" found")]:null===An(i)?[new Xr(e,i,'color expected, "'+i+'" found')]:[]},constants:C,enum:kt,filter:Rt,function:Tt,layer:Vt,object:bt,source:Nt,light:jt,string:qt,formatted:function(t){return 0===qt(t).length?[]:St(t)}};Ht.source=Xt(Nt),Ht.light=Xt(jt),Ht.layer=Xt(Vt),Ht.filter=Xt(Rt),Ht.paintProperty=Xt(Ft),Ht.layoutProperty=Xt(Ut);var so=Ht,Ao=Ht.light,lo=Ht.paintProperty,uo=Ht.layoutProperty,co=Yt,ho=3;Yt.prototype.insert=function(t,e,i,r,n){this._forEachCell(e,i,r,n,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(r),this.bboxes.push(n)},Yt.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Yt.prototype._insertCell=function(t,e,i,r,n,o){this.cells[n].push(o)},Yt.prototype.query=function(t,e,i,r){var n=this.min,o=this.max;if(t<=n&&e<=n&&o<=i&&o<=r)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(t,e,i,r,this._queryCell,a,{}),a},Yt.prototype._queryCell=function(t,e,i,r,n,o,a){var s=this.cells[n];if(null!==s)for(var A=this.keys,l=this.bboxes,u=0;u<s.length;u++){var c=s[u];if(void 0===a[c]){var h=4*c;t<=l[h+2]&&e<=l[h+3]&&i>=l[h+0]&&r>=l[h+1]?(a[c]=!0,o.push(A[c])):a[c]=!1}}},Yt.prototype._forEachCell=function(t,e,i,r,n,o,a){for(var s=this._convertToCellCoord(t),A=this._convertToCellCoord(e),l=this._convertToCellCoord(i),u=this._convertToCellCoord(r),c=s;c<=l;c++)for(var h=A;h<=u;h++){var p=this.d*h+c;if(n.call(this,t,e,i,r,p,o,a))return}},Yt.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Yt.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=ho+this.cells.length+1+1,i=0,r=0;r<this.cells.length;r++)i+=this.cells[r].length;var n=new Int32Array(e+i+this.keys.length+this.bboxes.length);n[0]=this.extent,n[1]=this.n,n[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];n[ho+a]=o,n.set(s,o),o+=s.length}return n[ho+t.length]=o,n.set(this.keys,o),o+=this.keys.length,n[ho+t.length+1]=o,n.set(this.bboxes,o),o+=this.bboxes.length,n.buffer};var po=self.ImageData,fo={};for(var mo in Kt("Object",Object),co.serialize=function(t,e){var i=t.toArrayBuffer();return e&&e.push(i),{buffer:i}},co.deserialize=function(t){return new co(t.buffer)},Kt("Grid",co),Kt("Color",ln),Kt("Error",Error),Kt("StylePropertyFunction",no),Kt("StyleExpression",eo,{omit:["_evaluator"]}),Kt("ZoomDependentExpression",ro),Kt("ZoomConstantExpression",io),Kt("CompoundExpression",bn,{omit:["_evaluate"]}),to)to[mo]._classRegistryKey||Kt("Expression_"+mo,to[mo]);var yo=function(){this.first=!0};yo.prototype.update=function(t,e){var i=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=i,!0))};var go,_o={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}},vo=!1,xo=null,bo=!1,wo=new Hr,Eo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return bo||null!=Eo.applyArabicShaping}},To=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new yo,this.transition={})};To.prototype.isSupportedScript=function(t){return function(t,e){for(var i=0,r=t;i<r.length;i+=1)if(!ne(r[i].charCodeAt(0),e))return!1;return!0}(t,Eo.isLoaded())},To.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},To.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),i=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*i}:{fromScale:.5,toScale:1,t:1-(1-i)*e}};var So=function(t,e){this.property=t,this.value=e,this.expression=xt(void 0===e?t.specification.default:e,t.specification)};So.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},So.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var ko=function(t){this.property=t,this.value=new So(t,void 0)};ko.prototype.transitioned=function(t,e){return new Po(this.property,this.value,e,A({},t.transition,this.transition),t.now)},ko.prototype.untransitioned=function(){return new Po(this.property,this.value,null,{},0)};var Co=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Co.prototype.getValue=function(t){return m(this._values[t].value.value)},Co.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ko(this._values[t].property)),this._values[t].value=new So(this._values[t].property,null===e?void 0:m(e))},Co.prototype.getTransition=function(t){return m(this._values[t].transition)},Co.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ko(this._values[t].property)),this._values[t].transition=m(e)||void 0},Co.prototype.serialize=function(){for(var t={},e=0,i=Object.keys(this._values);e<i.length;e+=1){var r=i[e],n=this.getValue(r);void 0!==n&&(t[r]=n);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},Co.prototype.transitioned=function(t,e){for(var i=new Mo(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var o=n[r];i._values[o]=this._values[o].transitioned(t,e._values[o])}return i},Co.prototype.untransitioned=function(){for(var t=new Mo(this._properties),e=0,i=Object.keys(this._values);e<i.length;e+=1){var r=i[e];t._values[r]=this._values[r].untransitioned()}return t};var Po=function(t,e,i,r,n){this.property=t,this.value=e,this.begin=n+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=i)};Po.prototype.possiblyEvaluate=function(t){var e=t.now||0,i=this.value.possiblyEvaluate(t),r=this.prior;if(r){if(e>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(e<this.begin)return r.possiblyEvaluate(t);var n=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(t),i,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)}(n))}return i};var Mo=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Mo.prototype.possiblyEvaluate=function(t){for(var e=new Bo(this._properties),i=0,r=Object.keys(this._values);i<r.length;i+=1){var n=r[i];e._values[n]=this._values[n].possiblyEvaluate(t)}return e},Mo.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1){var i=e[t];if(this._values[i].prior)return!0}return!1};var Io=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};Io.prototype.getValue=function(t){return m(this._values[t].value)},Io.prototype.setValue=function(t,e){this._values[t]=new So(this._values[t].property,null===e?void 0:m(e))},Io.prototype.serialize=function(){for(var t={},e=0,i=Object.keys(this._values);e<i.length;e+=1){var r=i[e],n=this.getValue(r);void 0!==n&&(t[r]=n)}return t},Io.prototype.possiblyEvaluate=function(t){for(var e=new Bo(this._properties),i=0,r=Object.keys(this._values);i<r.length;i+=1){var n=r[i];e._values[n]=this._values[n].possiblyEvaluate(t)}return e};var zo=function(t,e,i){this.property=t,this.value=e,this.parameters=i};zo.prototype.isConstant=function(){return"constant"===this.value.kind},zo.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},zo.prototype.evaluate=function(t,e){return this.property.evaluate(this.value,this.parameters,t,e)};var Bo=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};Bo.prototype.get=function(t){return this._values[t]};var Do=function(t){this.specification=t};Do.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},Do.prototype.interpolate=function(t,e,i){var r=Cn[this.specification.type];return r?r(t,e,i):t};var Lo=function(t){this.specification=t};Lo.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new zo(this,{kind:"constant",value:t.expression.evaluate(e)},e):new zo(this,t.expression,e)},Lo.prototype.interpolate=function(t,e,i){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new zo(this,{kind:"constant",value:void 0},t.parameters);var r=Cn[this.specification.type];return r?new zo(this,{kind:"constant",value:r(t.value.value,e.value.value,i)},t.parameters):t},Lo.prototype.evaluate=function(t,e,i,r){return"constant"===t.kind?t.value:t.evaluate(e,i,r)};var Ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(t,e){if(void 0===t.value)return new zo(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var i=t.expression.evaluate(e),r=this._calculate(i,i,i,e);return new zo(this,{kind:"constant",value:r},e)}if("camera"===t.expression.kind){var n=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new zo(this,{kind:"constant",value:n},e)}return new zo(this,t.expression,e)},e.prototype.evaluate=function(t,e,i,r){if("source"===t.kind){var n=t.evaluate(e,i,r);return this._calculate(n,n,n,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},i,r),t.evaluate({zoom:Math.floor(e.zoom)},i,r),t.evaluate({zoom:Math.floor(e.zoom)+1},i,r),e):t.value},e.prototype._calculate=function(t,e,i,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:i,to:e}},e.prototype.interpolate=function(t){return t},e}(Lo),Oo=function(t){this.specification=t};Oo.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var i=t.expression.evaluate(e);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new To(Math.floor(e.zoom-1),e)),t.expression.evaluate(new To(Math.floor(e.zoom),e)),t.expression.evaluate(new To(Math.floor(e.zoom+1),e)),e)}},Oo.prototype._calculate=function(t,e,i,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:i,to:e}},Oo.prototype.interpolate=function(t){return t};var Fo=function(t){this.specification=t};Fo.prototype.possiblyEvaluate=function(t,e){return!!t.expression.evaluate(e)},Fo.prototype.interpolate=function(){return!1};var Uo=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},t){var i=t[e],r=this.defaultPropertyValues[e]=new So(i,void 0),n=this.defaultTransitionablePropertyValues[e]=new ko(i);this.defaultTransitioningPropertyValues[e]=n.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};Kt("DataDrivenProperty",Lo),Kt("DataConstantProperty",Do),Kt("CrossFadedDataDrivenProperty",Ro),Kt("CrossFadedProperty",Oo),
Kt("ColorRampProperty",Fo);var Vo=function(t){function e(e,i){if(t.call(this),this.id=e.id,this.type=e.type,this.visibility="visible",this._featureFilter=function(){return!0},"custom"!==e.type&&(e=e,this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),i.layout&&(this._unevaluatedLayout=new Io(i.layout)),i.paint)){for(var r in this._transitionablePaint=new Co(i.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var n in e.layout)this.setLayoutProperty(n,e.layout[n],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,i){if(null!=e){var r="layers."+this.id+".layout."+t;if(this._validate(uo,r,t,e,i))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility="none"===e?e:"visible"},e.prototype.getPaintProperty=function(t){return p(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,i){if(null!=e){var r="layers."+this.id+".paint."+t;if(this._validate(lo,r,t,e,i))return!1}if(p(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var n=this._transitionablePaint._values[t],o="cross-faded-data-driven"===n.property.specification["property-type"]&&!n.value.value&&e,a=this._transitionablePaint._values[t].value.isDataDriven();this._transitionablePaint.setValue(t,e);var s=this._transitionablePaint._values[t].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(t),s||a||o},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),d(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,i,r,n){return(!n||!1!==n.validate)&&Wt(this,t.call(so,{key:e,layerType:this.type,objectKey:i,value:r,styleSpec:Zr,style:{glyphs:!0,sprite:!0}}))},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof zo&&at(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Hr),No={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},jo=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},qo=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};qo.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},qo.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},qo.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},qo.prototype.clear=function(){this.length=0},qo.prototype.resize=function(t){this.reserve(t),this.length=t},qo.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},qo.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Go=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;return this.resize(i+1),this.emplace(i,t,e)},e.prototype.emplace=function(t,e,i){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=i,t},e}(qo);Go.prototype.bytesPerElement=4,Kt("StructArrayLayout2i4",Go);var Qo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,i,r)},e.prototype.emplace=function(t,e,i,r,n){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=i,this.int16[o+2]=r,this.int16[o+3]=n,t},e}(qo);Qo.prototype.bytesPerElement=8,Kt("StructArrayLayout4i8",Qo);var Ho=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,i,r,n,o)},e.prototype.emplace=function(t,e,i,r,n,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=i,this.int16[s+2]=r,this.int16[s+3]=n,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(qo);Ho.prototype.bytesPerElement=12,Kt("StructArrayLayout2i4i12",Ho);var Zo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,o,a,s){var A=this.length;return this.resize(A+1),this.emplace(A,t,e,i,r,n,o,a,s)},e.prototype.emplace=function(t,e,i,r,n,o,a,s,A){var l=6*t,u=12*t;return this.int16[l+0]=e,this.int16[l+1]=i,this.int16[l+2]=r,this.int16[l+3]=n,this.uint8[u+8]=o,this.uint8[u+9]=a,this.uint8[u+10]=s,this.uint8[u+11]=A,t},e}(qo);Zo.prototype.bytesPerElement=12,Kt("StructArrayLayout4i4ub12",Zo);var Xo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,o,a,s){var A=this.length;return this.resize(A+1),this.emplace(A,t,e,i,r,n,o,a,s)},e.prototype.emplace=function(t,e,i,r,n,o,a,s,A){var l=8*t;return this.uint16[l+0]=e,this.uint16[l+1]=i,this.uint16[l+2]=r,this.uint16[l+3]=n,this.uint16[l+4]=o,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=A,t},e}(qo);Xo.prototype.bytesPerElement=16,Kt("StructArrayLayout8ui16",Xo);var Wo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,o,a,s){var A=this.length;return this.resize(A+1),this.emplace(A,t,e,i,r,n,o,a,s)},e.prototype.emplace=function(t,e,i,r,n,o,a,s,A){var l=8*t;return this.int16[l+0]=e,this.int16[l+1]=i,this.int16[l+2]=r,this.int16[l+3]=n,this.uint16[l+4]=o,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=A,t},e}(qo);Wo.prototype.bytesPerElement=16,Kt("StructArrayLayout4i4ui16",Wo);var Yo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,i)},e.prototype.emplace=function(t,e,i,r){var n=3*t;return this.float32[n+0]=e,this.float32[n+1]=i,this.float32[n+2]=r,t},e}(qo);Yo.prototype.bytesPerElement=12,Kt("StructArrayLayout3f12",Yo);var Ko=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var i=1*t;return this.uint32[i+0]=e,t},e}(qo);Ko.prototype.bytesPerElement=4,Kt("StructArrayLayout1ul4",Ko);var Jo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,o,a,s,A,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,i,r,n,o,a,s,A,l,u)},e.prototype.emplace=function(t,e,i,r,n,o,a,s,A,l,u,c){var h=12*t,p=6*t;return this.int16[h+0]=e,this.int16[h+1]=i,this.int16[h+2]=r,this.int16[h+3]=n,this.int16[h+4]=o,this.int16[h+5]=a,this.uint32[p+3]=s,this.uint16[h+8]=A,this.uint16[h+9]=l,this.int16[h+10]=u,this.int16[h+11]=c,t},e}(qo);Jo.prototype.bytesPerElement=24,Kt("StructArrayLayout6i1ul2ui2i24",Jo);var $o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,i,r,n,o)},e.prototype.emplace=function(t,e,i,r,n,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=i,this.int16[s+2]=r,this.int16[s+3]=n,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(qo);$o.prototype.bytesPerElement=12,Kt("StructArrayLayout2i2i2i12",$o);var ta=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;return this.resize(i+1),this.emplace(i,t,e)},e.prototype.emplace=function(t,e,i){var r=4*t;return this.uint8[r+0]=e,this.uint8[r+1]=i,t},e}(qo);ta.prototype.bytesPerElement=4,Kt("StructArrayLayout2ub4",ta);var ea=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,o,a,s,A,l,u,c,h,p){var f=this.length;return this.resize(f+1),this.emplace(f,t,e,i,r,n,o,a,s,A,l,u,c,h,p)},e.prototype.emplace=function(t,e,i,r,n,o,a,s,A,l,u,c,h,p,f){var d=20*t,m=10*t,y=40*t;return this.int16[d+0]=e,this.int16[d+1]=i,this.uint16[d+2]=r,this.uint16[d+3]=n,this.uint32[m+2]=o,this.uint32[m+3]=a,this.uint32[m+4]=s,this.uint16[d+10]=A,this.uint16[d+11]=l,this.uint16[d+12]=u,this.float32[m+7]=c,this.float32[m+8]=h,this.uint8[y+36]=p,this.uint8[y+37]=f,t},e}(qo);ea.prototype.bytesPerElement=40,Kt("StructArrayLayout2i2ui3ul3ui2f2ub40",ea);var ia=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r,n,o,a,s,A,l,u,c,h,p){var f=this.length;return this.resize(f+1),this.emplace(f,t,e,i,r,n,o,a,s,A,l,u,c,h,p)},e.prototype.emplace=function(t,e,i,r,n,o,a,s,A,l,u,c,h,p,f){var d=16*t,m=8*t;return this.int16[d+0]=e,this.int16[d+1]=i,this.int16[d+2]=r,this.int16[d+3]=n,this.uint16[d+4]=o,this.uint16[d+5]=a,this.uint16[d+6]=s,this.uint16[d+7]=A,this.uint16[d+8]=l,this.uint16[d+9]=u,this.uint16[d+10]=c,this.uint16[d+11]=h,this.uint16[d+12]=p,this.uint32[m+7]=f,t},e}(qo);ia.prototype.bytesPerElement=32,Kt("StructArrayLayout4i9ui1ul32",ia);var ra=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var i=1*t;return this.float32[i+0]=e,t},e}(qo);ra.prototype.bytesPerElement=4,Kt("StructArrayLayout1f4",ra);var na=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,i)},e.prototype.emplace=function(t,e,i,r){var n=3*t;return this.int16[n+0]=e,this.int16[n+1]=i,this.int16[n+2]=r,t},e}(qo);na.prototype.bytesPerElement=6,Kt("StructArrayLayout3i6",na);var oa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,i)},e.prototype.emplace=function(t,e,i,r){var n=2*t,o=4*t;return this.uint32[n+0]=e,this.uint16[o+2]=i,this.uint16[o+3]=r,t},e}(qo);oa.prototype.bytesPerElement=8,Kt("StructArrayLayout1ul2ui8",oa);var aa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,i)},e.prototype.emplace=function(t,e,i,r){var n=3*t;return this.uint16[n+0]=e,this.uint16[n+1]=i,this.uint16[n+2]=r,t},e}(qo);aa.prototype.bytesPerElement=6,Kt("StructArrayLayout3ui6",aa);var sa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;return this.resize(i+1),this.emplace(i,t,e)},e.prototype.emplace=function(t,e,i){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=i,t},e}(qo);sa.prototype.bytesPerElement=4,Kt("StructArrayLayout2ui4",sa);var Aa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var i=1*t;return this.uint16[i+0]=e,t},e}(qo);Aa.prototype.bytesPerElement=2,Kt("StructArrayLayout1ui2",Aa);var la=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;return this.resize(i+1),this.emplace(i,t,e)},e.prototype.emplace=function(t,e,i){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=i,t},e}(qo);la.prototype.bytesPerElement=8,Kt("StructArrayLayout2f8",la);var ua=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,i,r)},e.prototype.emplace=function(t,e,i,r,n){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=i,this.float32[o+2]=r,this.float32[o+3]=n,t},e}(qo);ua.prototype.bytesPerElement=16,Kt("StructArrayLayout4f16",ua);var ca=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return i.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},i.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},i.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},i.x1.get=function(){return this._structArray.int16[this._pos2+2]},i.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},i.y1.get=function(){return this._structArray.int16[this._pos2+3]},i.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},i.x2.get=function(){return this._structArray.int16[this._pos2+4]},i.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},i.y2.get=function(){return this._structArray.int16[this._pos2+5]},i.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},i.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},i.radius.get=function(){return this._structArray.int16[this._pos2+10]},i.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},i.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},i.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},i.anchorPoint.get=function(){return new dr(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,i),e}(jo);ca.prototype.size=24;var ha=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new ca(this,t)},e}(Jo);Kt("CollisionBoxArray",ha);var pa=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},i.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},i.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},i.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},i.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},i.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},i.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},i.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},i.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},i.segment.get=function(){return this._structArray.uint16[this._pos2+10]},i.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},i.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},i.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},i.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},i.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},i.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},i.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},i.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},i.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},i.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},i.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},i.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},i.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(e.prototype,i),e}(jo);pa.prototype.size=40;var fa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new pa(this,t)},e}(ea);Kt("PlacedSymbolArray",fa);var da=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={anchorX:{configurable:!0},anchorY:{configurable:!0},horizontalPlacedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},i.horizontalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},i.horizontalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+2]=t},i.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},i.verticalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+3]=t},i.key.get=function(){return this._structArray.uint16[this._pos2+4]},i.key.set=function(t){this._structArray.uint16[this._pos2+4]=t},i.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+5]},i.textBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+5]=t},i.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+6]},i.textBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+6]=t},i.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},i.iconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+7]=t},i.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},i.iconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},i.featureIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.featureIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},i.numGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+10]},i.numGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+10]=t},i.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+11]},i.numVerticalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+11]=t},i.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+12]},i.numIconVertices.set=function(t){this._structArray.uint16[this._pos2+12]=t},i.crossTileID.get=function(){return this._structArray.uint32[this._pos4+7]},i.crossTileID.set=function(t){this._structArray.uint32[this._pos4+7]=t},Object.defineProperties(e.prototype,i),e}(jo);da.prototype.size=32;var ma=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new da(this,t)},e}(ia);Kt("SymbolInstanceArray",ma);var ya=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={offsetX:{configurable:!0}};return i.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},i.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,i),e}(jo);ya.prototype.size=4;var ga=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new ya(this,t)},e}(ra);Kt("GlyphOffsetArray",ga);var _a=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return i.x.get=function(){return this._structArray.int16[this._pos2+0]},i.x.set=function(t){this._structArray.int16[this._pos2+0]=t},i.y.get=function(){return this._structArray.int16[this._pos2+1]},i.y.set=function(t){this._structArray.int16[this._pos2+1]=t},i.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},i.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,i),e}(jo);_a.prototype.size=6;var va=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new _a(this,t)},e}(na);Kt("SymbolLineVertexArray",va);var xa=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},i.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},i.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,i),e}(jo);xa.prototype.size=8;var ba=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new xa(this,t)},e}(oa);Kt("FeatureIndexArray",ba);var wa=oe([{name:"a_pos",components:2,type:"Int16"}],4),Ea=wa.members,Ta=(wa.size,wa.alignment,function(t){void 0===t&&(t=[]),this.segments=t});Ta.prototype.prepareSegment=function(t,e,i){var r=this.segments[this.segments.length-1];return t>Ta.MAX_VERTEX_ARRAY_LENGTH&&y("Max vertices per segment is "+Ta.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!r||r.vertexLength+t>Ta.MAX_VERTEX_ARRAY_LENGTH)&&(r={vertexOffset:e.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},this.segments.push(r)),r},Ta.prototype.get=function(){return this.segments},Ta.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var i=e[t];for(var r in i.vaos)i.vaos[r].destroy()}},Ta.simpleSegment=function(t,e,i,r){return new Ta([{vertexOffset:t,primitiveOffset:e,vertexLength:i,primitiveLength:r,vaos:{}}])},Ta.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Kt("SegmentVector",Ta);var Sa=function(t,e){return 256*(t=a(Math.floor(t),0,255))+(e=a(Math.floor(e),0,255))},ka=function(){this.ids=[],this.positions=[],this.indexed=!1};ka.prototype.add=function(t,e,i,r){this.ids.push(t),this.positions.push(e,i,r)},ka.prototype.getPositions=function(t){for(var e=0,i=this.ids.length-1;e<i;){var r=e+i>>1;this.ids[r]>=t?i=r:e=r+1}for(var n=[];this.ids[e]===t;){var o=this.positions[3*e],a=this.positions[3*e+1],s=this.positions[3*e+2];n.push({index:o,start:a,end:s}),e++}return n},ka.serialize=function(t,e){var i=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,i,r,n){if(!(r>=n)){for(var o=e[r+n>>1],a=r-1,s=n+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;se(e,a,s),se(i,3*a,3*s),se(i,3*a+1,3*s+1),se(i,3*a+2,3*s+2)}t(e,i,r,s),t(e,i,s+1,n)}}(i,r,0,i.length-1),e.push(i.buffer,r.buffer),{ids:i,positions:r}},ka.deserialize=function(t){var e=new ka;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e},Kt("FeaturePositionMap",ka);var Ca=function(t,e){this.gl=t.gl,this.location=e},Pa=function(t){function e(e,i){t.call(this,e,i),this.current=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,
this.gl.uniform1i(this.location,t))},e}(Ca),Ma=function(t){function e(e,i){t.call(this,e,i),this.current=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(Ca),Ia=function(t){function e(e,i){t.call(this,e,i),this.current=[0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(Ca),za=function(t){function e(e,i){t.call(this,e,i),this.current=[0,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(Ca),Ba=function(t){function e(e,i){t.call(this,e,i),this.current=[0,0,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(Ca),Da=function(t){function e(e,i){t.call(this,e,i),this.current=ln.transparent}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(Ca),La=new Float32Array(16),Ra=function(t){function e(e,i){t.call(this,e,i),this.current=La}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(Ca),Oa=function(t,e,i){this.value=t,this.names=e,this.uniformNames=this.names.map(function(t){return"u_"+t}),this.type=i,this.maxValue=-1/0};Oa.prototype.defines=function(){return this.names.map(function(t){return"#define HAS_UNIFORM_u_"+t})},Oa.prototype.setConstantPatternPositions=function(){},Oa.prototype.populatePaintArray=function(){},Oa.prototype.updatePaintArray=function(){},Oa.prototype.upload=function(){},Oa.prototype.destroy=function(){},Oa.prototype.setUniforms=function(t,e,i,r){e.set(r.constantOr(this.value))},Oa.prototype.getBinding=function(t,e){return"color"===this.type?new Da(t,e):new Ma(t,e)},Oa.serialize=function(t){var e=t.value,i=t.names,r=t.type;return{value:Jt(e),names:i,type:r}},Oa.deserialize=function(t){var e=t.value,i=t.names,r=t.type;return new Oa($t(e),i,r)};var Fa=function(t,e,i){this.value=t,this.names=e,this.uniformNames=this.names.map(function(t){return"u_"+t}),this.type=i,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};Fa.prototype.defines=function(){return this.names.map(function(t){return"#define HAS_UNIFORM_u_"+t})},Fa.prototype.populatePaintArray=function(){},Fa.prototype.updatePaintArray=function(){},Fa.prototype.upload=function(){},Fa.prototype.destroy=function(){},Fa.prototype.setConstantPatternPositions=function(t,e){this.patternPositions.patternTo=t.tlbr,this.patternPositions.patternFrom=e.tlbr},Fa.prototype.setUniforms=function(t,e,i,r,n){var o=this.patternPositions;"u_pattern_to"===n&&o.patternTo&&e.set(o.patternTo),"u_pattern_from"===n&&o.patternFrom&&e.set(o.patternFrom)},Fa.prototype.getBinding=function(t,e){return new Ba(t,e)};var Ua=function(t,e,i,r){this.expression=t,this.names=e,this.type=i,this.uniformNames=this.names.map(function(t){return"a_"+t}),this.maxValue=-1/0,this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Float32",components:"color"===i?2:1,offset:0}}),this.paintVertexArray=new r};Ua.prototype.defines=function(){return[]},Ua.prototype.setConstantPatternPositions=function(){},Ua.prototype.populatePaintArray=function(t,e){var i=this.paintVertexArray,r=i.length;i.reserve(t);var n=this.expression.evaluate(new To(0),e,{});if("color"===this.type)for(var o=Ae(n),a=r;a<t;a++)i.emplaceBack(o[0],o[1]);else{for(var s=r;s<t;s++)i.emplaceBack(n);this.maxValue=Math.max(this.maxValue,n)}},Ua.prototype.updatePaintArray=function(t,e,i,r){var n=this.paintVertexArray,o=this.expression.evaluate({zoom:0},i,r);if("color"===this.type)for(var a=Ae(o),s=t;s<e;s++)n.emplace(s,a[0],a[1]);else{for(var A=t;A<e;A++)n.emplace(A,o);this.maxValue=Math.max(this.maxValue,o)}},Ua.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ua.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ua.prototype.setUniforms=function(t,e){e.set(0)},Ua.prototype.getBinding=function(t,e){return new Ma(t,e)};var Va=function(t,e,i,r,n,o){this.expression=t,this.names=e,this.uniformNames=this.names.map(function(t){return"a_"+t+"_t"}),this.type=i,this.useIntegerZoom=r,this.zoom=n,this.maxValue=-1/0;var a=o;this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Float32",components:"color"===i?4:2,offset:0}}),this.paintVertexArray=new a};Va.prototype.defines=function(){return[]},Va.prototype.setConstantPatternPositions=function(){},Va.prototype.populatePaintArray=function(t,e){var i=this.paintVertexArray,r=i.length;i.reserve(t);var n=this.expression.evaluate(new To(this.zoom),e,{}),o=this.expression.evaluate(new To(this.zoom+1),e,{});if("color"===this.type)for(var a=Ae(n),s=Ae(o),A=r;A<t;A++)i.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var l=r;l<t;l++)i.emplaceBack(n,o);this.maxValue=Math.max(this.maxValue,n,o)}},Va.prototype.updatePaintArray=function(t,e,i,r){var n=this.paintVertexArray,o=this.expression.evaluate({zoom:this.zoom},i,r),a=this.expression.evaluate({zoom:this.zoom+1},i,r);if("color"===this.type)for(var s=Ae(o),A=Ae(a),l=t;l<e;l++)n.emplace(l,s[0],s[1],A[0],A[1]);else{for(var u=t;u<e;u++)n.emplace(u,o,a);this.maxValue=Math.max(this.maxValue,o,a)}},Va.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Va.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Va.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},Va.prototype.setUniforms=function(t,e,i){e.set(this.interpolationFactor(i.zoom))},Va.prototype.getBinding=function(t,e){return new Ma(t,e)};var Na=function(t,e,i,r,n,o,a){this.expression=t,this.names=e,this.type=i,this.uniformNames=this.names.map(function(t){return"a_"+t+"_t"}),this.useIntegerZoom=r,this.zoom=n,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o};Na.prototype.defines=function(){return[]},Na.prototype.setConstantPatternPositions=function(){},Na.prototype.populatePaintArray=function(t,e,i){var r=this.zoomInPaintVertexArray,n=this.zoomOutPaintVertexArray,o=this.layerId,a=r.length;if(r.reserve(t),n.reserve(t),i&&e.patterns&&e.patterns[o]){var s=e.patterns[o],A=s.min,l=s.mid,u=s.max,c=i[A],h=i[l],p=i[u];if(!c||!h||!p)return;for(var f=a;f<t;f++)r.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1]),n.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1])}},Na.prototype.updatePaintArray=function(t,e,i,r,n){var o=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(n&&i.patterns&&i.patterns[s]){var A=i.patterns[s],l=A.min,u=A.mid,c=A.max,h=n[l],p=n[u],f=n[c];if(!h||!p||!f)return;for(var d=t;d<e;d++)o.emplace(d,p.tl[0],p.tl[1],p.br[0],p.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1]),a.emplace(d,p.tl[0],p.tl[1],p.br[0],p.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1])}},Na.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Na.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},Na.prototype.setUniforms=function(t,e){e.set(0)},Na.prototype.getBinding=function(t,e){return new Ma(t,e)};var ja=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new ka,this._bufferOffset=0};ja.createDynamic=function(t,e,i){var r=new ja,n=[];for(var o in t.paint._values)if(i(o)){var a=t.paint.get(o);if(a instanceof zo&&at(a.property.specification)){var s=le(o,t.type),A=a.property.specification.type,l=a.property.useIntegerZoom;if("cross-faded"===a.property.specification["property-type"]||"cross-faded-data-driven"===a.property.specification["property-type"])if("constant"===a.value.kind)r.binders[o]=new Fa(a.value.value,s,A),n.push("/u_"+o);else{var u=ue(o,A,"source");r.binders[o]=new Na(a.value,s,A,l,e,u,t.id),n.push("/a_"+o)}else if("constant"===a.value.kind)r.binders[o]=new Oa(a.value.value,s,A),n.push("/u_"+o);else if("source"===a.value.kind){var c=ue(o,A,"source");r.binders[o]=new Ua(a.value,s,A,c),n.push("/a_"+o)}else{var h=ue(o,A,"composite");r.binders[o]=new Va(a.value,s,A,l,e,h),n.push("/z_"+o)}}}return r.cacheKey=n.sort().join(""),r},ja.prototype.populatePaintArrays=function(t,e,i,r){for(var n in this.binders)this.binders[n].populatePaintArray(t,e,r);void 0!==e.id&&this._featureMap.add(+e.id,i,this._bufferOffset,t),this._bufferOffset=t},ja.prototype.setConstantPatternPositions=function(t,e){for(var i in this.binders)this.binders[i].setConstantPatternPositions(t,e)},ja.prototype.updatePaintArrays=function(t,e,i,r){var n=!1;for(var o in t)for(var a=0,s=this._featureMap.getPositions(+o);a<s.length;a+=1){var A=s[a],l=e.feature(A.index);for(var u in this.binders){var c=this.binders[u];if(!(c instanceof Oa||c instanceof Fa)&&!0===c.expression.isStateDependent){var h=i.paint.get(u);c.expression=h.value,c.updatePaintArray(A.start,A.end,l,t[o],r),n=!0}}}return n},ja.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},ja.prototype.getPaintVertexBuffers=function(){return this._buffers},ja.prototype.getUniforms=function(t,e){var i={};for(var r in this.binders)for(var n=this.binders[r],o=0,a=n.uniformNames;o<a.length;o+=1){var s=a[o];i[s]=n.getBinding(t,e[s])}return i},ja.prototype.setUniforms=function(t,e,i,r){for(var n in this.binders)for(var o=this.binders[n],a=0,s=o.uniformNames;a<s.length;a+=1){var A=s[a];o.setUniforms(t,e[A],r,i.get(n),A)}},ja.prototype.updatePatternPaintBuffers=function(t){var e=[];for(var i in this.binders){var r=this.binders[i];if(r instanceof Na){var n=2===t.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;n&&e.push(n)}else(r instanceof Ua||r instanceof Va)&&r.paintVertexBuffer&&e.push(r.paintVertexBuffer)}this._buffers=e},ja.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var i=[];for(var r in this.binders){var n=this.binders[r];(n instanceof Ua||n instanceof Va)&&n.paintVertexBuffer&&i.push(n.paintVertexBuffer)}this._buffers=i},ja.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var qa=function(t,e,i,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var n=0,o=e;n<o.length;n+=1){var a=o[n];this.programConfigurations[a.id]=ja.createDynamic(a,i,r),this.programConfigurations[a.id].layoutAttributes=t}this.needsUpload=!1};qa.prototype.populatePaintArrays=function(t,e,i,r){for(var n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(t,e,i,r);this.needsUpload=!0},qa.prototype.updatePaintArrays=function(t,e,i,r){for(var n=0,o=i;n<o.length;n+=1){var a=o[n];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,e,a,r)||this.needsUpload}},qa.prototype.get=function(t){return this.programConfigurations[t]},qa.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},qa.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Kt("ConstantBinder",Oa),Kt("CrossFadedConstantBinder",Fa),Kt("SourceExpressionBinder",Ua),Kt("CrossFadedCompositeBinder",Na),Kt("CompositeExpressionBinder",Va),Kt("ProgramConfiguration",ja,{omit:["_buffers"]}),Kt("ProgramConfigurationSet",qa);var Ga,Qa=8192,Ha=(Ga=16,{min:-1*Math.pow(2,Ga-1),max:Math.pow(2,Ga-1)-1}),Za=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Go,this.indexArray=new aa,this.segments=new Ta,this.programConfigurations=new qa(Ea,t.layers,t.zoom)};Za.prototype.populate=function(t,e){for(var i=0,r=t;i<r.length;i+=1){var n=r[i],o=n.feature,a=n.index,s=n.sourceLayerIndex;if(this.layers[0]._featureFilter(new To(this.zoom),o)){var A=ce(o);this.addFeature(o,A,a),e.featureIndex.insert(o,A,a,s,this.index)}}},Za.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},Za.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Za.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Za.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ea),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Za.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Za.prototype.addFeature=function(t,e,i){for(var r=0,n=e;r<n.length;r+=1)for(var o=0,a=n[r];o<a.length;o+=1){var s=a[o],A=s.x,l=s.y;if(!(A<0||A>=Qa||l<0||l>=Qa)){var u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),c=u.vertexLength;he(this.layoutVertexArray,A,l,-1,-1),he(this.layoutVertexArray,A,l,1,-1),he(this.layoutVertexArray,A,l,1,1),he(this.layoutVertexArray,A,l,-1,1),this.indexArray.emplaceBack(c,c+1,c+2),this.indexArray.emplaceBack(c,c+3,c+2),u.vertexLength+=4,u.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,{})},Kt("CircleBucket",Za,{omit:["layers"]});var Xa={paint:new Uo({"circle-radius":new Lo(Zr.paint_circle["circle-radius"]),"circle-color":new Lo(Zr.paint_circle["circle-color"]),"circle-blur":new Lo(Zr.paint_circle["circle-blur"]),"circle-opacity":new Lo(Zr.paint_circle["circle-opacity"]),"circle-translate":new Do(Zr.paint_circle["circle-translate"]),"circle-translate-anchor":new Do(Zr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Do(Zr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Do(Zr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Lo(Zr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Lo(Zr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Lo(Zr.paint_circle["circle-stroke-opacity"])})},Wa="undefined"!=typeof Float32Array?Float32Array:Array;Math.PI;var Ya,Ka=Ce,Ja=(Ya=ke(),function(t,e,i,r,n,o){var a,s;for(e||(e=3),i||(i=0),s=r?Math.min(r*e+i,t.length):t.length,a=i;a<s;a+=e)Ya[0]=t[a],Ya[1]=t[a+1],Ya[2]=t[a+2],n(Ya,Ya,o),t[a]=Ya[0],t[a+1]=Ya[1],t[a+2]=Ya[2];return t}),$a=function(){var t=Be();return function(e,i,r,n,o,a){var s,A;for(i||(i=4),r||(r=0),A=n?Math.min(n*i+r,e.length):e.length,s=r;s<A;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();ke(),Pe(1,0,0),Pe(0,1,0),Re(),Re(),Se(),function(){var t;(t=new Wa(2))[0]=0,t[1]=0}();var ts=function(t){function e(e){t.call(this,e,Xa)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new Za(t)},e.prototype.queryRadius=function(t){var e=t;return we("circle-radius",this,e)+we("circle-stroke-width",this,e)+Ee(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,r,n,o,a,s){for(var A=Te(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),l=this.paint.get("circle-radius").evaluate(e,i)+this.paint.get("circle-stroke-width").evaluate(e,i),u="map"===this.paint.get("circle-pitch-alignment"),c=u?A:function(t,e,i){return t.map(function(t){return t.map(function(t){return Oe(t,e,i)})})}(A,s,o),h=u?l*a:l,p=0,f=r;p<f.length;p+=1)for(var d=0,m=f[p];d<m.length;d+=1){var y=m[d],g=u?y:Oe(y,s,o),_=h,v=Le([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=v[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/v[3]),pe(c,g,_))return!0}return!1},e}(Vo),es=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Za);Kt("HeatmapBucket",es,{omit:["layers"]});var is=function(t,e){Fe(this,t,1,e)};is.prototype.resize=function(t){Ue(this,t,1)},is.prototype.clone=function(){return new is({width:this.width,height:this.height},new Uint8Array(this.data))},is.copy=function(t,e,i,r,n){Ve(t,e,i,r,n,1)};var rs=function(t,e){Fe(this,t,4,e)};rs.prototype.resize=function(t){Ue(this,t,4)},rs.prototype.clone=function(){return new rs({width:this.width,height:this.height},new Uint8Array(this.data))},rs.copy=function(t,e,i,r,n){Ve(t,e,i,r,n,4)},Kt("AlphaImage",is),Kt("RGBAImage",rs);var ns={paint:new Uo({"heatmap-radius":new Lo(Zr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Lo(Zr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Do(Zr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Fo(Zr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Do(Zr.paint_heatmap["heatmap-opacity"])})},os=function(t){function e(e){t.call(this,e,ns),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new es(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Ne(t,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(Vo),as={paint:new Uo({"hillshade-illumination-direction":new Do(Zr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Do(Zr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Do(Zr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Do(Zr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Do(Zr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Do(Zr.paint_hillshade["hillshade-accent-color"])})},ss=function(t){function e(e){t.call(this,e,as)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(Vo),As=oe([{name:"a_pos",components:2,type:"Int16"}],4),ls=As.members,us=(As.size,As.alignment,je),cs=je;je.deviation=function(t,e,i,r){var n=e&&e.length,o=n?e[0]*i:t.length,a=Math.abs(ui(t,0,o,i));if(n)for(var s=0,A=e.length;s<A;s++){var l=e[s]*i,u=s<A-1?e[s+1]*i:t.length;a-=Math.abs(ui(t,l,u,i))}var c=0;for(s=0;s<r.length;s+=3){var h=r[s]*i,p=r[s+1]*i,f=r[s+2]*i;c+=Math.abs((t[h]-t[f])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[f+1]-t[h+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},je.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var a=0;a<e;a++)i.vertices.push(t[n][o][a]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i},us.default=cs;var hs=ci,ps=ci;hs.default=ps;var fs=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Go,this.indexArray=new aa,this.indexArray2=new sa,this.programConfigurations=new qa(ls,t.layers,t.zoom),this.segments=new Ta,this.segments2=new Ta};fs.prototype.populate=function(t,e){this.features=[],this.hasPattern=mi("fill",this.layers,e);for(var i=0,r=t;i<r.length;i+=1){var n=r[i],o=n.feature,a=n.index,s=n.sourceLayerIndex;if(this.layers[0]._featureFilter(new To(this.zoom),o)){var A=ce(o),l={sourceLayerIndex:s,index:a,geometry:A,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(l.id=o.id),this.hasPattern?this.features.push(yi("fill",this.layers,l,this.zoom,e)):this.addFeature(l,A,a,{}),e.featureIndex.insert(o,A,a,s,this.index)}}},fs.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},fs.prototype.addFeatures=function(t,e){for(var i=0,r=this.features;i<r.length;i+=1){var n=r[i],o=n.geometry;this.addFeature(n,o,n.index,e)}},fs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},fs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},fs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ls),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},fs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},fs.prototype.addFeature=function(t,e,i,r){for(var n=0,o=fi(e,500);n<o.length;n+=1){for(var a=o[n],s=0,A=0,l=a;A<l.length;A+=1)s+=l[A].length;for(var u=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),c=u.vertexLength,h=[],p=[],f=0,d=a;f<d.length;f+=1){var m=d[f];if(0!==m.length){m!==a[0]&&p.push(h.length/2);var y=this.segments2.prepareSegment(m.length,this.layoutVertexArray,this.indexArray2),g=y.vertexLength;this.layoutVertexArray.emplaceBack(m[0].x,m[0].y),this.indexArray2.emplaceBack(g+m.length-1,g),h.push(m[0].x),h.push(m[0].y);for(var _=1;_<m.length;_++)this.layoutVertexArray.emplaceBack(m[_].x,m[_].y),this.indexArray2.emplaceBack(g+_-1,g+_),h.push(m[_].x),h.push(m[_].y);y.vertexLength+=m.length,y.primitiveLength+=m.length}}for(var v=us(h,p),x=0;x<v.length;x+=3)this.indexArray.emplaceBack(c+v[x],c+v[x+1],c+v[x+2]);u.vertexLength+=s,u.primitiveLength+=v.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r)},Kt("FillBucket",fs,{omit:["layers","features"]});var ds={paint:new Uo({"fill-antialias":new Do(Zr.paint_fill["fill-antialias"]),"fill-opacity":new Lo(Zr.paint_fill["fill-opacity"]),"fill-color":new Lo(Zr.paint_fill["fill-color"]),"fill-outline-color":new Lo(Zr.paint_fill["fill-outline-color"]),"fill-translate":new Do(Zr.paint_fill["fill-translate"]),"fill-translate-anchor":new Do(Zr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ro(Zr.paint_fill["fill-pattern"])})},ms=function(t){function e(e){t.call(this,e,ds)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e);var i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new fs(t)},e.prototype.queryRadius=function(){return Ee(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,r,n,o,a){return fe(Te(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},e}(Vo),ys=oe([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),gs=ys.members,_s=(ys.size,ys.alignment,Math.pow(2,13)),vs=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ho,this.indexArray=new aa,this.programConfigurations=new qa(gs,t.layers,t.zoom),this.segments=new Ta};vs.prototype.populate=function(t,e){this.features=[],this.hasPattern=mi("fill-extrusion",this.layers,e);for(var i=0,r=t;i<r.length;i+=1){var n=r[i],o=n.feature,a=n.index,s=n.sourceLayerIndex;if(this.layers[0]._featureFilter(new To(this.zoom),o)){var A=ce(o),l={sourceLayerIndex:s,index:a,geometry:A,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(l.id=o.id),this.hasPattern?this.features.push(yi("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,A,a,{}),e.featureIndex.insert(o,A,a,s,this.index)}}},vs.prototype.addFeatures=function(t,e){for(var i=0,r=this.features;i<r.length;i+=1){var n=r[i],o=n.geometry;this.addFeature(n,o,n.index,e)}},vs.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},vs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},vs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},vs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,gs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},vs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},vs.prototype.addFeature=function(t,e,i,r){for(var n=0,o=fi(e,500);n<o.length;n+=1){for(var a=o[n],s=0,A=0,l=a;A<l.length;A+=1)s+=l[A].length;for(var u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),c=0,h=a;c<h.length;c+=1){var p=h[c];if(0!==p.length&&!vi(p))for(var f=0,d=0;d<p.length;d++){var m=p[d];if(d>=1){var y=p[d-1];if(!_i(m,y)){u.vertexLength+4>Ta.MAX_VERTEX_ARRAY_LENGTH&&(u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var g=m.sub(y)._perp()._unit(),_=y.dist(m);f+_>32768&&(f=0),gi(this.layoutVertexArray,m.x,m.y,g.x,g.y,0,0,f),gi(this.layoutVertexArray,m.x,m.y,g.x,g.y,0,1,f),f+=_,gi(this.layoutVertexArray,y.x,y.y,g.x,g.y,0,0,f),gi(this.layoutVertexArray,y.x,y.y,g.x,g.y,0,1,f);var v=u.vertexLength;this.indexArray.emplaceBack(v,v+2,v+1),this.indexArray.emplaceBack(v+1,v+2,v+3),u.vertexLength+=4,u.primitiveLength+=2}}}}u.vertexLength+s>Ta.MAX_VERTEX_ARRAY_LENGTH&&(u=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray));for(var x=[],b=[],w=u.vertexLength,E=0,T=a;E<T.length;E+=1){var S=T[E];if(0!==S.length){S!==a[0]&&b.push(x.length/2);for(var k=0;k<S.length;k++){var C=S[k];gi(this.layoutVertexArray,C.x,C.y,0,0,1,1,0),x.push(C.x),x.push(C.y)}}}for(var P=us(x,b),M=0;M<P.length;M+=3)this.indexArray.emplaceBack(w+P[M],w+P[M+2],w+P[M+1]);u.primitiveLength+=P.length/3,u.vertexLength+=s}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r)},Kt("FillExtrusionBucket",vs,{omit:["layers","features"]});var xs={paint:new Uo({"fill-extrusion-opacity":new Do(Zr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Lo(Zr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Do(Zr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Do(Zr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ro(Zr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Lo(Zr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Lo(Zr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Do(Zr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},bs=function(t){function e(e){t.call(this,e,xs)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new vs(t)},e.prototype.queryRadius=function(){return Ee(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,r,n,o,a){return fe(Te(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,a),r)},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e}(Vo),ws=oe([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),Es=ws.members,Ts=(ws.size,ws.alignment,xi);xi.types=["Unknown","Point","LineString","Polygon"],xi.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,r=1,n=0,o=0,a=0,s=[];t.pos<i;){if(n<=0){var A=t.readVarint();r=7&A,n=A>>3}if(n--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new dr(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},xi.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,r=0,n=0,o=0,a=1/0,s=-1/0,A=1/0,l=-1/0;t.pos<e;){if(r<=0){var u=t.readVarint();i=7&u,r=u>>3}if(r--,1===i||2===i)(n+=t.readSVarint())<a&&(a=n),n>s&&(s=n),(o+=t.readSVarint())<A&&(A=o),o>l&&(l=o);else if(7!==i)throw new Error("unknown command "+i)}return[a,A,s,l]},xi.prototype.toGeoJSON=function(t,e,i){function r(t){for(var e=0;e<t.length;e++){var i=t[e],r=180-360*(i.y+A)/a;t[e]=[360*(i.x+s)/a-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var n,o,a=this.extent*Math.pow(2,i),s=this.extent*t,A=this.extent*e,l=this.loadGeometry(),u=xi.types[this.type];switch(this.type){case 1:var c=[];for(n=0;n<l.length;n++)c[n]=l[n][0];r(l=c);break;case 2:for(n=0;n<l.length;n++)r(l[n]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var i,r,n=[],o=0;o<e;o++){var a=wi(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(i&&n.push(i),i=[t[o]]):i.push(t[o]))}return i&&n.push(i),n}(l),n=0;n<l.length;n++)for(o=0;o<l[n].length;o++)r(l[n][o])}1===l.length?l=l[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties
};return"id"in this&&(h.id=this.id),h};var Ss=Ei;Ei.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Ts(this._pbf,e,this.extent,this._keys,this._values)};var ks={VectorTile:function(t,e){this.layers=t.readFields(Si,{},e)},VectorTileFeature:Ts,VectorTileLayer:Ss},Cs=ks.VectorTileFeature.types,Ps=63,Ms=Math.cos(Math.PI/180*37.5),Is=.5,zs=Math.pow(2,14)/Is,Bs=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new Zo,this.indexArray=new aa,this.programConfigurations=new qa(Es,t.layers,t.zoom),this.segments=new Ta};Bs.prototype.populate=function(t,e){this.features=[],this.hasPattern=mi("line",this.layers,e);for(var i=0,r=t;i<r.length;i+=1){var n=r[i],o=n.feature,a=n.index,s=n.sourceLayerIndex;if(this.layers[0]._featureFilter(new To(this.zoom),o)){var A=ce(o),l={sourceLayerIndex:s,index:a,geometry:A,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(l.id=o.id),this.hasPattern?this.features.push(yi("line",this.layers,l,this.zoom,e)):this.addFeature(l,A,a,{}),e.featureIndex.insert(o,A,a,s,this.index)}}},Bs.prototype.update=function(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)},Bs.prototype.addFeatures=function(t,e){for(var i=0,r=this.features;i<r.length;i+=1){var n=r[i],o=n.geometry;this.addFeature(n,o,n.index,e)}},Bs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Bs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Bs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Es),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Bs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Bs.prototype.addFeature=function(t,e,i,r){for(var n=this.layers[0].layout,o=n.get("line-join").evaluate(t,{}),a=n.get("line-cap"),s=n.get("line-miter-limit"),A=n.get("line-round-limit"),l=0,u=e;l<u.length;l+=1){var c=u[l];this.addLine(c,t,o,a,s,A,i,r)}},Bs.prototype.addLine=function(t,e,i,r,n,o,a,s){var A=null;e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")&&(A={start:e.properties.mapbox_clip_start,end:e.properties.mapbox_clip_end,tileTotal:void 0});for(var l="Polygon"===Cs[e.type],u=t.length;u>=2&&t[u-1].equals(t[u-2]);)u--;for(var c=0;c<u-1&&t[c].equals(t[c+1]);)c++;if(!(u<(l?3:2))){A&&(A.tileTotal=function(t,e,i){for(var r,n,o=0,a=e;a<i-1;a++)r=t[a],n=t[a+1],o+=r.dist(n);return o}(t,c,u)),"bevel"===i&&(n=1.05);var h=Qa/(512*this.overscaling)*15,p=t[c],f=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray);this.distance=0;var d,m,y,g=r,_=l?"butt":r,v=!0,x=void 0,b=void 0,w=void 0,E=void 0;this.e1=this.e2=this.e3=-1,l&&(d=t[u-2],E=p.sub(d)._unit()._perp());for(var T=c;T<u;T++)if(!(b=l&&T===u-1?t[c+1]:t[T+1])||!t[T].equals(b)){E&&(w=E),d&&(x=d),d=t[T],E=b?b.sub(d)._unit()._perp():w;var S=(w=w||E).add(E);0===S.x&&0===S.y||S._unit();var k=S.x*E.x+S.y*E.y,C=0!==k?1/k:1/0,P=k<Ms&&x&&b;if(P&&T>c){var M=d.dist(x);if(M>2*h){var I=d.sub(d.sub(x)._mult(h/M)._round());this.distance+=I.dist(x),this.addCurrentVertex(I,this.distance,w.mult(1),0,0,!1,f,A),x=I}}var z=x&&b,B=z?i:b?g:_;if(z&&"round"===B&&(C<o?B="miter":C<=2&&(B="fakeround")),"miter"===B&&C>n&&(B="bevel"),"bevel"===B&&(C>2&&(B="flipbevel"),C<n&&(B="miter")),x&&(this.distance+=d.dist(x)),"miter"===B)S._mult(C),this.addCurrentVertex(d,this.distance,S,0,0,!1,f,A);else if("flipbevel"===B){if(C>100)S=E.clone().mult(-1);else{var D=w.x*E.y-w.y*E.x>0?-1:1,L=C*w.add(E).mag()/w.sub(E).mag();S._perp()._mult(L*D)}this.addCurrentVertex(d,this.distance,S,0,0,!1,f,A),this.addCurrentVertex(d,this.distance,S.mult(-1),0,0,!1,f,A)}else if("bevel"===B||"fakeround"===B){var R=w.x*E.y-w.y*E.x>0,O=-Math.sqrt(C*C-1);if(R?(y=0,m=O):(m=0,y=O),v||this.addCurrentVertex(d,this.distance,w,m,y,!1,f,A),"fakeround"===B){for(var F=Math.floor(8*(.5-(k-.5))),U=void 0,V=0;V<F;V++)U=E.mult((V+1)/(F+1))._add(w)._unit(),this.addPieSliceVertex(d,this.distance,U,R,f,A);this.addPieSliceVertex(d,this.distance,S,R,f,A);for(var N=F-1;N>=0;N--)U=w.mult((N+1)/(F+1))._add(E)._unit(),this.addPieSliceVertex(d,this.distance,U,R,f,A)}b&&this.addCurrentVertex(d,this.distance,E,-m,-y,!1,f,A)}else"butt"===B?(v||this.addCurrentVertex(d,this.distance,w,0,0,!1,f,A),b&&this.addCurrentVertex(d,this.distance,E,0,0,!1,f,A)):"square"===B?(v||(this.addCurrentVertex(d,this.distance,w,1,1,!1,f,A),this.e1=this.e2=-1),b&&this.addCurrentVertex(d,this.distance,E,-1,-1,!1,f,A)):"round"===B&&(v||(this.addCurrentVertex(d,this.distance,w,0,0,!1,f,A),this.addCurrentVertex(d,this.distance,w,1,1,!0,f,A),this.e1=this.e2=-1),b&&(this.addCurrentVertex(d,this.distance,E,-1,-1,!0,f,A),this.addCurrentVertex(d,this.distance,E,0,0,!1,f,A)));if(P&&T<u-1){var j=d.dist(b);if(j>2*h){var q=d.add(b.sub(d)._mult(h/j)._round());this.distance+=q.dist(d),this.addCurrentVertex(q,this.distance,E.mult(1),0,0,!1,f,A),d=q}}v=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,a,s)}},Bs.prototype.addCurrentVertex=function(t,e,i,r,n,o,a,s){var A,l=this.layoutVertexArray,u=this.indexArray;s&&(e=Ci(e,s)),A=i.clone(),r&&A._sub(i.perp()._mult(r)),ki(l,t,A,o,!1,r,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(u.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,A=i.mult(-1),n&&A._sub(i.perp()._mult(n)),ki(l,t,A,o,!0,-n,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(u.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>zs/2&&!s&&(this.distance=0,this.addCurrentVertex(t,this.distance,i,r,n,o,a))},Bs.prototype.addPieSliceVertex=function(t,e,i,r,n,o){i=i.mult(r?-1:1);var a=this.layoutVertexArray,s=this.indexArray;o&&(e=Ci(e,o)),ki(a,t,i,!1,r,0,e),this.e3=n.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),n.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},Kt("LineBucket",Bs,{omit:["layers","features"]});var Ds=new Uo({"line-cap":new Do(Zr.layout_line["line-cap"]),"line-join":new Lo(Zr.layout_line["line-join"]),"line-miter-limit":new Do(Zr.layout_line["line-miter-limit"]),"line-round-limit":new Do(Zr.layout_line["line-round-limit"])}),Ls={paint:new Uo({"line-opacity":new Lo(Zr.paint_line["line-opacity"]),"line-color":new Lo(Zr.paint_line["line-color"]),"line-translate":new Do(Zr.paint_line["line-translate"]),"line-translate-anchor":new Do(Zr.paint_line["line-translate-anchor"]),"line-width":new Lo(Zr.paint_line["line-width"]),"line-gap-width":new Lo(Zr.paint_line["line-gap-width"]),"line-offset":new Lo(Zr.paint_line["line-offset"]),"line-blur":new Lo(Zr.paint_line["line-blur"]),"line-dasharray":new Oo(Zr.paint_line["line-dasharray"]),"line-pattern":new Ro(Zr.paint_line["line-pattern"]),"line-gradient":new Fo(Zr.paint_line["line-gradient"])}),layout:Ds},Rs=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,i){return i=new To(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,zoomHistory:i.zoomHistory,transition:i.transition}),t.prototype.possiblyEvaluate.call(this,e,i)},e.prototype.evaluate=function(e,i,r,n){return i=A({},i,{zoom:Math.floor(i.zoom)}),t.prototype.evaluate.call(this,e,i,r,n)},e}(Lo))(Ls.paint.properties["line-width"].specification);Rs.useIntegerZoom=!0;var Os=function(t){function e(e){t.call(this,e,Ls)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},e.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Ne(t,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=Rs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new Bs(t)},e.prototype.queryRadius=function(t){var e=t,i=Pi(we("line-width",this,e),we("line-gap-width",this,e)),r=we("line-offset",this,e);return i/2+Math.abs(r)+Ee(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,r,n,o,a){var s=Te(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,a),A=a/2*Pi(this.paint.get("line-width").evaluate(e,i),this.paint.get("line-gap-width").evaluate(e,i)),l=this.paint.get("line-offset").evaluate(e,i);return l&&(r=function(t,e){for(var i=[],r=new dr(0,0),n=0;n<t.length;n++){for(var o=t[n],a=[],s=0;s<o.length;s++){var A=o[s-1],l=o[s],u=o[s+1],c=0===s?r:l.sub(A)._unit()._perp(),h=s===o.length-1?r:u.sub(l)._unit()._perp(),p=c._add(h)._unit(),f=p.x*h.x+p.y*h.y;p._mult(1/f),a.push(p._mult(e)._add(l))}i.push(a)}return i}(r,l*a)),de(s,r,A)},e}(Vo),Fs=oe([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),Us=oe([{name:"a_projected_pos",components:3,type:"Float32"}],4),Vs=(oe([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),oe([{name:"a_placed",components:2,type:"Uint8"}],4)),Ns=(oe([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),oe([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),js=oe([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);oe([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),oe([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"horizontalPlacedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"}]),oe([{type:"Float32",name:"offsetX"}]),oe([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var qs={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},Gs=function(t){function e(e,i,r,n){t.call(this,e,i),this.angle=r,void 0!==n&&(this.segment=n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(dr);Kt("Anchor",Gs);var Qs=ks.VectorTileFeature.types,Hs=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}],Zs=function(t){this.layoutVertexArray=new Wo,this.indexArray=new aa,this.programConfigurations=t,this.segments=new Ta,this.dynamicLayoutVertexArray=new Yo,this.opacityVertexArray=new Ko,this.placedSymbolArray=new fa};Zs.prototype.upload=function(t,e,i,r){i&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Fs.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Us.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Hs,!0),this.opacityVertexBuffer.itemSize=1),(i||r)&&this.programConfigurations.upload(t)},Zs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Kt("SymbolBuffers",Zs);var Xs=function(t,e,i){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new i,this.segments=new Ta,this.collisionVertexArray=new ta};Xs.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Vs.members,!0)},Xs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Kt("CollisionBuffers",Xs);var Ws=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ii(this.zoom,e["text-size"]),this.iconSizeData=Ii(this.zoom,e["icon-size"]);var i=this.layers[0].layout,r="viewport-y"===i.get("symbol-z-order");this.sortFeaturesByY=r&&(i.get("text-allow-overlap")||i.get("icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement")),this.sourceID=t.sourceID};Ws.prototype.createArrays=function(){this.text=new Zs(new qa(Fs.members,this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new Zs(new qa(Fs.members,this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.collisionBox=new Xs($o,Ns.members,sa),this.collisionCircle=new Xs($o,js.members,aa),this.glyphOffsetArray=new ga,this.lineVertexArray=new va,this.symbolInstances=new ma},Ws.prototype.calculateGlyphDependencies=function(t,e,i,r){for(var n=0;n<t.length;n++)if(e[t.charCodeAt(n)]=!0,i&&r){var o=qs[t.charAt(n)];o&&(e[o.charCodeAt(0)]=!0)}},Ws.prototype.populate=function(t,e){var i=this.layers[0],r=i.layout,n=r.get("text-font"),o=r.get("text-field"),a=r.get("icon-image"),s=("constant"!==o.value.kind||o.value.value.toString().length>0)&&("constant"!==n.value.kind||n.value.value.length>0),A="constant"!==a.value.kind||a.value.value&&a.value.value.length>0;if(this.features=[],s||A){for(var l=e.iconDependencies,u=e.glyphDependencies,c=new To(this.zoom),h=0,p=t;h<p.length;h+=1){var f=p[h],d=f.feature,m=f.index,y=f.sourceLayerIndex;if(i._featureFilter(c,d)){var g=void 0;if(s){var _=i.getValueAndResolveTokens("text-field",d);g=Mi(_ instanceof hn?_:hn.fromString(_),i,d)}var v=void 0;if(A&&(v=i.getValueAndResolveTokens("icon-image",d)),g||v){var x={text:g,icon:v,index:m,sourceLayerIndex:y,geometry:ce(d),properties:d.properties,type:Qs[d.type]};if(void 0!==d.id&&(x.id=d.id),this.features.push(x),v&&(l[v]=!0),g)for(var b=n.evaluate(d,{}).join(","),w="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement"),E=0,T=g.sections;E<T.length;E+=1){var S=T[E],k=te(g.toString()),C=S.fontStack||b,P=u[C]=u[C]||{};this.calculateGlyphDependencies(S.text,P,w,k)}}}}"line"===r.get("symbol-placement")&&(this.features=function(t){function e(e){s.push(t[e]),A++}function i(t,e,i){var r=a[t];return delete a[t],a[e]=r,s[r].geometry[0].pop(),s[r].geometry[0]=s[r].geometry[0].concat(i[0]),r}function r(t,e,i){var r=o[e];return delete o[e],o[t]=r,s[r].geometry[0].shift(),s[r].geometry[0]=i[0].concat(s[r].geometry[0]),r}function n(t,e,i){var r=i?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var o={},a={},s=[],A=0,l=0;l<t.length;l++){var u=t[l],c=u.geometry,h=u.text?u.text.toString():null;if(h){var p=n(h,c),f=n(h,c,!0);if(p in a&&f in o&&a[p]!==o[f]){var d=r(p,f,c),m=i(p,f,s[d].geometry);delete o[p],delete a[f],a[n(h,s[m].geometry,!0)]=m,s[d].geometry=null}else p in a?i(p,f,c):f in o?r(p,f,c):(e(l),o[p]=A-1,a[f]=A-1)}else e(l)}return s.filter(function(t){return t.geometry})}(this.features))}},Ws.prototype.update=function(t,e,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,i),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,i))},Ws.prototype.isEmpty=function(){return 0===this.symbolInstances.length},Ws.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ws.prototype.upload=function(t){this.uploaded||(this.collisionBox.upload(t),this.collisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ws.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},Ws.prototype.addToLineVertexArray=function(t,e){var i=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),n=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:n},s>0&&(n+=e[s-1].dist(e[s]));for(var A=0;A<e.length;A++){var l=o[A];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:i,lineLength:this.lineVertexArray.length-i}},Ws.prototype.addSymbols=function(t,e,i,r,n,o,a,s,A,l){for(var u=t.indexArray,c=t.layoutVertexArray,h=t.dynamicLayoutVertexArray,p=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),f=this.glyphOffsetArray.length,d=p.vertexLength,m=0,y=e;m<y.length;m+=1){var g=y[m],_=g.tl,v=g.tr,x=g.bl,b=g.br,w=g.tex,E=p.vertexLength,T=g.glyphOffset[1];zi(c,s.x,s.y,_.x,T+_.y,w.x,w.y,i),zi(c,s.x,s.y,v.x,T+v.y,w.x+w.w,w.y,i),zi(c,s.x,s.y,x.x,T+x.y,w.x,w.y+w.h,i),zi(c,s.x,s.y,b.x,T+b.y,w.x+w.w,w.y+w.h,i),Bi(h,s,0),u.emplaceBack(E,E+1,E+2),u.emplaceBack(E+1,E+2,E+3),p.vertexLength+=4,p.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(g.glyphOffset[0])}t.placedSymbolArray.emplaceBack(s.x,s.y,f,this.glyphOffsetArray.length-f,d,A,l,s.segment,i?i[0]:0,i?i[1]:0,r[0],r[1],a,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index,{})},Ws.prototype._addCollisionDebugVertex=function(t,e,i,r,n,o){return e.emplaceBack(0,0),t.emplaceBack(i.x,i.y,r,n,Math.round(o.x),Math.round(o.y))},Ws.prototype.addCollisionDebugVertices=function(t,e,i,r,n,o,a,s){var A=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=A.vertexLength,u=n.layoutVertexArray,c=n.collisionVertexArray,h=a.anchorX,p=a.anchorY;if(this._addCollisionDebugVertex(u,c,o,h,p,new dr(t,e)),this._addCollisionDebugVertex(u,c,o,h,p,new dr(i,e)),this._addCollisionDebugVertex(u,c,o,h,p,new dr(i,r)),this._addCollisionDebugVertex(u,c,o,h,p,new dr(t,r)),A.vertexLength+=4,s){var f=n.indexArray;f.emplaceBack(l,l+1,l+2),f.emplaceBack(l,l+2,l+3),A.primitiveLength+=2}else{var d=n.indexArray;d.emplaceBack(l,l+1),d.emplaceBack(l+1,l+2),d.emplaceBack(l+2,l+3),d.emplaceBack(l+3,l),A.primitiveLength+=4}},Ws.prototype.addDebugCollisionBoxes=function(t,e,i){for(var r=t;r<e;r++){var n=this.collisionBoxArray.get(r),o=n.x1,a=n.y1,s=n.x2,A=n.y2,l=n.radius>0;this.addCollisionDebugVertices(o,a,s,A,l?this.collisionCircle:this.collisionBox,n.anchorPoint,i,l)}},Ws.prototype.generateCollisionDebugBuffers=function(){for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e)}},Ws.prototype._deserializeCollisionBoxesForSymbol=function(t,e,i,r,n){for(var o={},a=e;a<i;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},o.textFeatureIndex=s.featureIndex;break}o.textCircles||(o.textCircles=[],o.textFeatureIndex=s.featureIndex),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var A=r;A<n;A++){var l=t.get(A);if(0===l.radius){o.iconBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY},o.iconFeatureIndex=l.featureIndex;break}}return o},Ws.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var i=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,i.textBoxStartIndex,i.textBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex))}},Ws.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ws.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ws.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},Ws.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},Ws.prototype.addIndicesForPlacedTextSymbol=function(t){for(var e=this.text.placedSymbolArray.get(t),i=e.vertexStartIndex+4*e.numGlyphs,r=e.vertexStartIndex;r<i;r+=4)this.text.indexArray.emplaceBack(r,r+1,r+2),this.text.indexArray.emplaceBack(r+1,r+2,r+3)},Ws.prototype.sortFeatures=function(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var e=[],i=0;i<this.symbolInstances.length;i++)e.push(i);for(var r=Math.sin(t),n=Math.cos(t),o=[],a=[],s=0;s<this.symbolInstances.length;s++){var A=this.symbolInstances.get(s);o.push(0|Math.round(r*A.anchorX+n*A.anchorY)),a.push(A.featureIndex)}e.sort(function(t,e){return o[t]-o[e]||a[e]-a[t]}),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var l=0,u=e;l<u.length;l+=1){var c=u[l],h=this.symbolInstances.get(c);this.featureSortOrder.push(h.featureIndex),h.horizontalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.horizontalPlacedTextSymbolIndex),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.verticalPlacedTextSymbolIndex);var p=this.icon.placedSymbolArray.get(c);if(p.numGlyphs){var f=p.vertexStartIndex;this.icon.indexArray.emplaceBack(f,f+1,f+2),this.icon.indexArray.emplaceBack(f+1,f+2,f+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Kt("SymbolBucket",Ws,{omit:["layers","collisionBoxArray","features","compareText"]}),Ws.MAX_GLYPHS=65535,Ws.addDynamicAttributes=Bi;var Ys=new Uo({"symbol-placement":new Do(Zr.layout_symbol["symbol-placement"]),"symbol-spacing":new Do(Zr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Do(Zr.layout_symbol["symbol-avoid-edges"]),"symbol-z-order":new Do(Zr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Do(Zr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Do(Zr.layout_symbol["icon-ignore-placement"]),"icon-optional":new Do(Zr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Do(Zr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Lo(Zr.layout_symbol["icon-size"]),"icon-text-fit":new Do(Zr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Do(Zr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Lo(Zr.layout_symbol["icon-image"]),"icon-rotate":new Lo(Zr.layout_symbol["icon-rotate"]),"icon-padding":new Do(Zr.layout_symbol["icon-padding"]),"icon-keep-upright":new Do(Zr.layout_symbol["icon-keep-upright"]),"icon-offset":new Lo(Zr.layout_symbol["icon-offset"]),"icon-anchor":new Lo(Zr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Do(Zr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Do(Zr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Do(Zr.layout_symbol["text-rotation-alignment"]),"text-field":new Lo(Zr.layout_symbol["text-field"]),"text-font":new Lo(Zr.layout_symbol["text-font"]),"text-size":new Lo(Zr.layout_symbol["text-size"]),"text-max-width":new Lo(Zr.layout_symbol["text-max-width"]),"text-line-height":new Do(Zr.layout_symbol["text-line-height"]),"text-letter-spacing":new Lo(Zr.layout_symbol["text-letter-spacing"]),"text-justify":new Lo(Zr.layout_symbol["text-justify"]),"text-anchor":new Lo(Zr.layout_symbol["text-anchor"]),"text-max-angle":new Do(Zr.layout_symbol["text-max-angle"]),"text-rotate":new Lo(Zr.layout_symbol["text-rotate"]),"text-padding":new Do(Zr.layout_symbol["text-padding"]),"text-keep-upright":new Do(Zr.layout_symbol["text-keep-upright"]),"text-transform":new Lo(Zr.layout_symbol["text-transform"]),"text-offset":new Lo(Zr.layout_symbol["text-offset"]),"text-allow-overlap":new Do(Zr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Do(Zr.layout_symbol["text-ignore-placement"]),"text-optional":new Do(Zr.layout_symbol["text-optional"])}),Ks={paint:new Uo({"icon-opacity":new Lo(Zr.paint_symbol["icon-opacity"]),"icon-color":new Lo(Zr.paint_symbol["icon-color"]),"icon-halo-color":new Lo(Zr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Lo(Zr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Lo(Zr.paint_symbol["icon-halo-blur"]),"icon-translate":new Do(Zr.paint_symbol["icon-translate"]),"icon-translate-anchor":new Do(Zr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Lo(Zr.paint_symbol["text-opacity"]),"text-color":new Lo(Zr.paint_symbol["text-color"]),"text-halo-color":new Lo(Zr.paint_symbol["text-halo-color"]),"text-halo-width":new Lo(Zr.paint_symbol["text-halo-width"]),"text-halo-blur":new Lo(Zr.paint_symbol["text-halo-blur"]),"text-translate":new Do(Zr.paint_symbol["text-translate"]),"text-translate-anchor":new Do(Zr.paint_symbol["text-translate-anchor"])}),layout:Ys},Js=function(t){function e(e){t.call(this,e,Ks)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var i,r=this.layout.get(t).evaluate(e,{}),n=this._unevaluatedLayout._values[t];return n.isDataDriven()||gt(n.value)?r:(i=e.properties,r.replace(/{([^{}]+)}/g,function(t,e){return e in i?String(i[e]):""}))},e.prototype.createBucket=function(t){return new Ws(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(Vo),$s={paint:new Uo({"background-color":new Do(Zr.paint_background["background-color"]),"background-pattern":new Oo(Zr.paint_background["background-pattern"]),"background-opacity":new Do(Zr.paint_background["background-opacity"])})},tA=function(t){function e(e){t.call(this,e,$s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Vo),eA={paint:new Uo({"raster-opacity":new Do(Zr.paint_raster["raster-opacity"]),"raster-hue-rotate":new Do(Zr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Do(Zr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Do(Zr.paint_raster["raster-brightness-max"]),"raster-saturation":new Do(Zr.paint_raster["raster-saturation"]),"raster-contrast":new Do(Zr.paint_raster["raster-contrast"]),"raster-resampling":new Do(Zr.paint_raster["raster-resampling"]),"raster-fade-duration":new Do(Zr.paint_raster["raster-fade-duration"])})},iA=function(t){function e(e){t.call(this,e,eA)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Vo),rA=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender||"3d"===this.implementation.renderingMode},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t)},e}(Vo),nA={circle:ts,heatmap:os,hillshade:ss,fill:ms,"fill-extrusion":bs,line:Os,symbol:Js,background:tA,raster:iA},oA=function(t,e){var i=e.pixelRatio;this.paddedRect=t,this.pixelRatio=i},aA={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};aA.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},aA.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},aA.tlbr.get=function(){return this.tl.concat(this.br)},aA.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(oA.prototype,aA);var sA=function(t,e){var i={},r={},n=[];for(var o in t){var a=t[o],s={x:0,y:0,w:a.data.width+2,h:a.data.height+2};n.push(s),i[o]=new oA(s,a)}for(var A in e){var l=e[A],u={x:0,y:0,w:l.data.width+2,h:l.data.height+2};n.push(u),r[A]=new oA(u,l)}var c=Di(n),h=c.w,p=c.h,f=new rs({width:h||1,height:p||1});for(var d in t){var m=t[d],y=i[d].paddedRect;rs.copy(m.data,f,{x:0,y:0},{x:y.x+1,y:y.y+1},m.data)}for(var g in e){var _=e[g],v=r[g].paddedRect,x=v.x+1,b=v.y+1,w=_.data.width,E=_.data.height;rs.copy(_.data,f,{x:0,y:0},{x:x,y:b},_.data),rs.copy(_.data,f,{x:0,y:E-1},{x:x,y:b-1},{width:w,height:1}),rs.copy(_.data,f,{x:0,y:0},{x:x,y:b+E},{width:w,height:1}),rs.copy(_.data,f,{x:w-1,y:0},{x:x-1,y:b},{width:1,height:E}),rs.copy(_.data,f,{x:0,y:0},{x:x+w,y:b},{width:1,height:E})}this.image=f,this.iconPositions=i,this.patternPositions=r};Kt("ImagePosition",oA),Kt("ImageAtlas",sA);var AA=self.HTMLImageElement,lA=self.HTMLCanvasElement,uA=self.HTMLVideoElement,cA=self.ImageData,hA=function(t,e,i,r){this.context=t,this.format=i,
this.texture=t.gl.createTexture(),this.update(e,r)};hA.prototype.update=function(t,e){var i=t.width,r=t.height,n=!this.size||this.size[0]!==i||this.size[1]!==r,o=this.context,a=o.gl;this.useMipmap=Boolean(e&&e.useMipmap),a.bindTexture(a.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===a.RGBA&&(!e||!1!==e.premultiply)),n?(this.size=[i,r],t instanceof AA||t instanceof lA||t instanceof uA||t instanceof cA?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,t):a.texImage2D(a.TEXTURE_2D,0,this.format,i,r,0,this.format,a.UNSIGNED_BYTE,t.data)):t instanceof AA||t instanceof lA||t instanceof uA||t instanceof cA?a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,t):a.texSubImage2D(a.TEXTURE_2D,0,0,0,i,r,a.RGBA,a.UNSIGNED_BYTE,t.data),this.useMipmap&&this.isSizePowerOfTwo()&&a.generateMipmap(a.TEXTURE_2D)},hA.prototype.bind=function(t,e,i){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),i!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(i=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},hA.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},hA.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var pA=function(t,e,i,r,n){var o,a,s=8*n-r-1,A=(1<<s)-1,l=A>>1,u=-7,c=i?n-1:0,h=i?-1:1,p=t[e+c];for(c+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+t[e+c],c+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+c],c+=h,u-=8);if(0===o)o=1-l;else{if(o===A)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},fA=function(t,e,i,r,n,o){var a,s,A,l=8*o-n-1,u=(1<<l)-1,c=u>>1,h=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(A=Math.pow(2,-a))<1&&(a--,A*=2),(e+=a+c>=1?h/A:h*Math.pow(2,1-c))*A>=2&&(a++,A/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(e*A-1)*Math.pow(2,n),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,n),a=0));n>=8;t[i+p]=255&s,p+=f,s/=256,n-=8);for(a=a<<n|s,l+=n;l>0;t[i+p]=255&a,p+=f,a/=256,l-=8);t[i+p-f]|=128*d},dA=Li;Li.Varint=0,Li.Fixed64=1,Li.Bytes=2,Li.Fixed32=5,Li.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var r=this.readVarint(),n=r>>3,o=this.pos;this.type=7&r,t(n,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Xi(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Yi(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Xi(this.buf,this.pos)+4294967296*Xi(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Xi(this.buf,this.pos)+4294967296*Yi(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=pA(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=pA(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,r=this.buf;return e=127&(i=r[this.pos++]),i<128?e:(e|=(127&(i=r[this.pos++]))<<7,i<128?e:(e|=(127&(i=r[this.pos++]))<<14,i<128?e:(e|=(127&(i=r[this.pos++]))<<21,i<128?e:function(t,e,i){var r,n,o=i.buf;if(n=o[i.pos++],r=(112&n)>>4,n<128)return Oi(t,r,e);if(n=o[i.pos++],r|=(127&n)<<3,n<128)return Oi(t,r,e);if(n=o[i.pos++],r|=(127&n)<<10,n<128)return Oi(t,r,e);if(n=o[i.pos++],r|=(127&n)<<17,n<128)return Oi(t,r,e);if(n=o[i.pos++],r|=(127&n)<<24,n<128)return Oi(t,r,e);if(n=o[i.pos++],r|=(1&n)<<31,n<128)return Oi(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,i){for(var r="",n=e;n<i;){var o,a,s,A=t[n],l=null,u=A>239?4:A>223?3:A>191?2:1;if(n+u>i)break;1===u?A<128&&(l=A):2===u?128==(192&(o=t[n+1]))&&(l=(31&A)<<6|63&o)<=127&&(l=null):3===u?(o=t[n+1],a=t[n+2],128==(192&o)&&128==(192&a)&&((l=(15&A)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===u&&(o=t[n+1],a=t[n+2],s=t[n+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((l=(15&A)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,u=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),n+=u}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var i=Ri(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=Ri(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=Ri(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=Ri(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=Ri(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=Ri(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=Ri(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=Ri(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=Ri(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Li.Varint)for(;this.buf[this.pos++]>127;);else if(e===Li.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Li.Fixed32)this.pos+=4;else{if(e!==Li.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Wi(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Wi(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Wi(this.buf,-1&t,this.pos),Wi(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Wi(this.buf,-1&t,this.pos),Wi(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var i,r;if(t>=0?(i=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:(i=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos]=127&t}(i,0,e),function(t,e){var i=(7&t)<<4;e.buf[e.pos++]|=i|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var r,n,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!n){r>56319||o+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):n=r;continue}if(r<56320){t[i++]=239,t[i++]=191,t[i++]=189,n=r;continue}r=n-55296<<10|r-56320|65536,n=null}else n&&(t[i++]=239,t[i++]=191,t[i++]=189,n=null);r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:(r<65536?t[i++]=r>>12|224:(t[i++]=r>>18|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128),t[i++]=63&r|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&Fi(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),fA(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),fA(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var r=this.pos-i;r>=128&&Fi(i,r,this),this.pos=i-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,i){this.writeTag(t,Li.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){this.writeMessage(t,Ui,e)},writePackedSVarint:function(t,e){this.writeMessage(t,Vi,e)},writePackedBoolean:function(t,e){this.writeMessage(t,qi,e)},writePackedFloat:function(t,e){this.writeMessage(t,Ni,e)},writePackedDouble:function(t,e){this.writeMessage(t,ji,e)},writePackedFixed32:function(t,e){this.writeMessage(t,Gi,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,Qi,e)},writePackedFixed64:function(t,e){this.writeMessage(t,Hi,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,Zi,e)},writeBytesField:function(t,e){this.writeTag(t,Li.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Li.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Li.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Li.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Li.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Li.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Li.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Li.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Li.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Li.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var mA=3,yA=mA,gA=function(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.callbackID=0,h(["receive"],this),this.target.addEventListener("message",this.receive,!1)};gA.prototype.send=function(t,e,i,r){var n=i?this.mapId+":"+this.callbackID++:null;i&&(this.callbacks[n]=i);var o=[];this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:t,id:String(n),data:Jt(e,o)},o)},gA.prototype.receive=function(t){var e,i=this,r=t.data,n=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var o=function(t,e){var r=[];i.target.postMessage({sourceMapId:i.mapId,type:"<response>",id:String(n),error:t?Jt(t):null,data:Jt(e,r)},r)};if("<response>"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&r.error?e($t(r.error)):e&&e(null,$t(r.data));else if(void 0!==r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,$t(r.data),o);else if(void 0!==r.id&&this.parent.getWorkerSource){var a=r.type.split("."),s=$t(r.data);this.parent.getWorkerSource(r.sourceMapId,a[0],s.source)[a[1]](s,o)}else this.parent[r.type]($t(r.data))}},gA.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var _A=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};_A.prototype.setNorthEast=function(t){return this._ne=t instanceof vA?new vA(t.lng,t.lat):vA.convert(t),this},_A.prototype.setSouthWest=function(t){return this._sw=t instanceof vA?new vA(t.lng,t.lat):vA.convert(t),this},_A.prototype.extend=function(t){var e,i,r=this._sw,n=this._ne;if(t instanceof vA)e=t,i=t;else{if(!(t instanceof _A))return Array.isArray(t)?t.every(Array.isArray)?this.extend(_A.convert(t)):this.extend(vA.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return r||n?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),n.lng=Math.max(i.lng,n.lng),n.lat=Math.max(i.lat,n.lat)):(this._sw=new vA(e.lng,e.lat),this._ne=new vA(i.lng,i.lat)),this},_A.prototype.getCenter=function(){return new vA((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},_A.prototype.getSouthWest=function(){return this._sw},_A.prototype.getNorthEast=function(){return this._ne},_A.prototype.getNorthWest=function(){return new vA(this.getWest(),this.getNorth())},_A.prototype.getSouthEast=function(){return new vA(this.getEast(),this.getSouth())},_A.prototype.getWest=function(){return this._sw.lng},_A.prototype.getSouth=function(){return this._sw.lat},_A.prototype.getEast=function(){return this._ne.lng},_A.prototype.getNorth=function(){return this._ne.lat},_A.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},_A.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},_A.prototype.isEmpty=function(){return!(this._sw&&this._ne)},_A.convert=function(t){return!t||t instanceof _A?t:new _A(t)};var vA=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};vA.prototype.wrap=function(){return new vA(s(this.lng,-180,180),this.lat)},vA.prototype.toArray=function(){return[this.lng,this.lat]},vA.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},vA.prototype.toBounds=function(t){var e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new _A(new vA(this.lng-i,this.lat-e),new vA(this.lng+i,this.lat+e))},vA.convert=function(t){if(t instanceof vA)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new vA(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new vA(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var xA=function(t,e,i){void 0===i&&(i=0),this.x=+t,this.y=+e,this.z=+i};xA.fromLngLat=function(t,e){void 0===e&&(e=0);var i=vA.convert(t);return new xA(ir(i.lng),rr(i.lat),nr(e,i.lat))},xA.prototype.toLngLat=function(){return new vA(360*this.x-180,or(this.y))},xA.prototype.toAltitude=function(){return t=this.z,e=this.y,t*er(or(e));var t,e};var bA=function(t,e,i){this.z=t,this.x=e,this.y=i,this.key=ar(0,t,e,i)};bA.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},bA.prototype.url=function(t,e){var i,r,n,o,a,s=(i=this.x,r=this.y,n=this.z,o=tr(256*i,256*(r=Math.pow(2,n)-r-1),n),a=tr(256*(i+1),256*(r+1),n),o[0]+","+o[1]+","+a[0]+","+a[1]),A=function(t,e,i){for(var r,n="",o=t;o>0;o--)n+=(e&(r=1<<o-1)?1:0)+(i&r?2:0);return n}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",A).replace("{bbox-epsg-3857}",s)},bA.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new dr((t.x*e-this.x)*Qa,(t.y*e-this.y)*Qa)};var wA=function(t,e){this.wrap=t,this.canonical=e,this.key=ar(t,e.z,e.x,e.y)},EA=function(t,e,i,r,n){this.overscaledZ=t,this.wrap=e,this.canonical=new bA(i,+r,+n),this.key=ar(e,t,r,n)};EA.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},EA.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new EA(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new EA(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},EA.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},EA.prototype.children=function(t){if(this.overscaledZ>=t)return[new EA(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,i=2*this.canonical.x,r=2*this.canonical.y;return[new EA(e,this.wrap,e,i,r),new EA(e,this.wrap,e,i+1,r),new EA(e,this.wrap,e,i,r+1),new EA(e,this.wrap,e,i+1,r+1)]},EA.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},EA.prototype.wrapped=function(){return new EA(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},EA.prototype.unwrapTo=function(t){return new EA(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},EA.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},EA.prototype.toUnwrapped=function(){return new wA(this.wrap,this.canonical)},EA.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},EA.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new xA(t.x-this.wrap,t.y))},Kt("CanonicalTileID",bA),Kt("OverscaledTileID",EA,{omit:["posMatrix"]});var TA=function(t,e,i){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(i&&"mapbox"!==i&&"terrarium"!==i)return y('"'+i+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var r=this.dim=e.height;this.border=Math.max(Math.ceil(e.height/2),1),this.stride=this.dim+2*this.border,this.data=new Int32Array(this.stride*this.stride);for(var n=e.data,o="terrarium"===i?this._unpackTerrarium:this._unpackMapbox,a=0;a<r;a++)for(var s=0;s<r;s++){var A=4*(a*r+s);this.set(s,a,o(n[A],n[A+1],n[A+2]))}for(var l=0;l<r;l++)this.set(-1,l,this.get(0,l)),this.set(r,l,this.get(r-1,l)),this.set(l,-1,this.get(l,0)),this.set(l,r,this.get(l,r-1));this.set(-1,-1,this.get(0,0)),this.set(r,-1,this.get(r-1,0)),this.set(-1,r,this.get(0,r-1)),this.set(r,r,this.get(r-1,r-1))};TA.prototype.set=function(t,e,i){this.data[this._idx(t,e)]=i+65536},TA.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},TA.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)},TA.prototype._unpackMapbox=function(t,e,i){return(256*t*256+256*e+i)/10-1e4},TA.prototype._unpackTerrarium=function(t,e,i){return 256*t+e+i/256-32768},TA.prototype.getPixels=function(){return new rs({width:this.dim+2*this.border,height:this.dim+2*this.border},new Uint8Array(this.data.buffer))},TA.prototype.backfillBorder=function(t,e,i){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,n=e*this.dim+this.dim,o=i*this.dim,s=i*this.dim+this.dim;switch(e){case-1:r=n-1;break;case 1:n=r+1}switch(i){case-1:o=s-1;break;case 1:s=o+1}for(var A=a(r,-this.border,this.dim+this.border),l=a(n,-this.border,this.dim+this.border),u=a(o,-this.border,this.dim+this.border),c=a(s,-this.border,this.dim+this.border),h=-e*this.dim,p=-i*this.dim,f=u;f<c;f++)for(var d=A;d<l;d++)this.set(d,f,t.get(d+h,f+p))},Kt("DEMData",TA);var SA=oe([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),kA=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var i=t[e];this._stringToNumber[i]=e,this._numberToString[e]=i}};kA.prototype.encode=function(t){return this._stringToNumber[t]},kA.prototype.decode=function(t){return this._numberToString[t]};var CA=function(t,e,i,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=i,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},PA={geometry:{configurable:!0}};PA.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},PA.geometry.set=function(t){this._geometry=t},CA.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(CA.prototype,PA);var MA=function(){this.state={},this.stateChanges={}};MA.prototype.updateState=function(t,e,i){var r=String(e);this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},A(this.stateChanges[t][r],i)},MA.prototype.getState=function(t,e){var i=String(e);return A({},(this.state[t]||{})[i],(this.stateChanges[t]||{})[i])},MA.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},MA.prototype.coalesceChanges=function(t,e){var i={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var n={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),A(this.state[r][o],this.stateChanges[r][o]),n[o]=this.state[r][o];i[r]=n}if(this.stateChanges={},0!==Object.keys(i).length)for(var a in t)t[a].setFeatureState(i,e)};var IA=function(t,e,i){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new co(Qa,16,0),this.featureIndexArray=i||new ba};IA.prototype.insert=function(t,e,i,r,n){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,r,n);for(var a=0;a<e.length;a++){for(var s=e[a],A=[1/0,1/0,-1/0,-1/0],l=0;l<s.length;l++){var u=s[l];A[0]=Math.min(A[0],u.x),A[1]=Math.min(A[1],u.y),A[2]=Math.max(A[2],u.x),A[3]=Math.max(A[3],u.y)}A[0]<Qa&&A[1]<Qa&&A[2]>=0&&A[3]>=0&&this.grid.insert(o,A[0],A[1],A[2],A[3])}},IA.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ks.VectorTile(new dA(this.rawTileData)).layers,this.sourceLayerCoder=new kA(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},IA.prototype.query=function(t,e,i){var r=this;this.loadVTLayers();for(var n=t.params||{},o=Qa/t.tileSize/t.scale,a=Pt(n.filter),s=t.queryGeometry,A=t.queryPadding*o,l=1/0,u=1/0,c=-1/0,h=-1/0,p=0;p<s.length;p++)for(var f=s[p],d=0;d<f.length;d++){var m=f[d];l=Math.min(l,m.x),u=Math.min(u,m.y),c=Math.max(c,m.x),h=Math.max(h,m.y)}var y=this.grid.query(l-A,u-A,c+A,h+A);y.sort(sr);for(var g,_={},v=0;v<y.length;v++)!function(A){var l=y[A];if(l!==g){g=l;var u=r.featureIndexArray.get(l),c=null;r.loadMatchingFeature(_,u.bucketIndex,u.sourceLayerIndex,u.featureIndex,a,n.layers,e,function(e,n){c||(c=ce(e));var a={};return e.id&&(a=i.getState(n.sourceLayer||"_geojsonTileLayer",e.id)),n.queryIntersectsFeature(s,e,a,c,r.z,t.transform,o,t.posMatrix)})}}(v);return _},IA.prototype.loadMatchingFeature=function(t,e,i,r,n,o,a,s){var A=this.bucketLayerIDs[e];if(!o||function(t,e){for(var i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1}(o,A)){var l=this.sourceLayerCoder.decode(i),u=this.vtLayers[l].feature(r);if(n(new To(this.tileID.overscaledZ),u))for(var c=0;c<A.length;c++){var h=A[c];if(!(o&&o.indexOf(h)<0)){var p=a[h];if(p&&(!s||s(u,p))){var f=new CA(u,this.z,this.x,this.y);f.layer=p.serialize();var d=t[h];void 0===d&&(d=t[h]=[]),d.push({featureIndex:r,feature:f})}}}}},IA.prototype.lookupSymbolFeatures=function(t,e,i,r,n,o){var a={};this.loadVTLayers();for(var s=Pt(r),A=0,l=t;A<l.length;A+=1){var u=l[A];this.loadMatchingFeature(a,e,i,u,s,n,o)}return a},IA.prototype.hasLayer=function(t){for(var e=0,i=this.bucketLayerIDs;e<i.length;e+=1)for(var r=0,n=i[e];r<n.length;r+=1)if(t===n[r])return!0;return!1},Kt("FeatureIndex",IA,{omit:["rawTileData","sourceLayerCoder"]});var zA=function(t,e){this.tileID=t,this.uid=l(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};zA.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<br.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},zA.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},zA.prototype.loadVectorData=function(t,e,i){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var i={};if(!e)return i;for(var r=0,n=t;r<n.length;r+=1){var o=n[r],a=o.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){o.layers=a,o.stateDependentLayers=a.filter(function(t){return t.isStateDependent()});for(var s=0,A=a;s<A.length;s+=1)i[A[s].id]=o}}return i}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var n=this.buckets[r];if(n instanceof Ws){if(this.hasSymbolBuckets=!0,!i)break;n.justReloaded=!0}}for(var o in this.queryPadding=0,this.buckets){var a=this.buckets[o];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(o).queryRadius(a))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new ha},zA.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},zA.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},zA.prototype.getBucket=function(t){return this.buckets[t.id]},zA.prototype.upload=function(t){for(var e in this.buckets){var i=this.buckets[e];i.uploadPending()&&i.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new hA(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new hA(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},zA.prototype.queryRenderedFeatures=function(t,e,i,r,n,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:i,scale:r,tileSize:this.tileSize,posMatrix:s,transform:o,params:n,queryPadding:this.queryPadding*a},t,e):{}},zA.prototype.querySourceFeatures=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var i=this.latestFeatureIndex.loadVTLayers(),r=e?e.sourceLayer:"",n=i._geojsonTileLayer||i[r];if(n)for(var o=Pt(e&&e.filter),a=this.tileID.canonical,s=a.z,A=a.x,l=a.y,u={z:s,x:A,y:l},c=0;c<n.length;c++){var h=n.feature(c);if(o(new To(this.tileID.overscaledZ),h)){var p=new CA(h,s,A,l);p.tile=u,t.push(p)}}}},zA.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},zA.prototype.setMask=function(t,e){if(!n(this.mask,t)&&(this.mask=t,this.clearMask(),!n(t,{0:!0}))){var i=new Qo,r=new aa;this.segments=new Ta,this.segments.prepareSegment(0,i,r);for(var o=Object.keys(t),a=0;a<o.length;a++){var s=t[o[a]],A=Qa>>s.z,l=new dr(s.x*A,s.y*A),u=new dr(l.x+A,l.y+A),c=this.segments.prepareSegment(4,i,r);i.emplaceBack(l.x,l.y,l.x,l.y),i.emplaceBack(u.x,l.y,u.x,l.y),i.emplaceBack(l.x,u.y,l.x,u.y),i.emplaceBack(u.x,u.y,u.x,u.y);var h=c.vertexLength;r.emplaceBack(h,h+1,h+2),r.emplaceBack(h+1,h+2,h+3),c.vertexLength+=4,c.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(i,SA.members),this.maskedIndexBuffer=e.createIndexBuffer(r)}},zA.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},zA.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},zA.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var i=function(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(t,i,r,n){var o=r||n;return e[i]=!o||o.toLowerCase(),""}),e["max-age"]){var i=parseInt(e["max-age"],10);isNaN(i)?delete e["max-age"]:e["max-age"]=i}return e}(t.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),n=!1;if(this.expirationTime>r)n=!1;else if(e)if(this.expirationTime<e)n=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):n=!0}else n=!0;n?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},zA.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},zA.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var i=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets){var n=this.buckets[r],o=n.layers[0].sourceLayer||"_geojsonTileLayer",a=i[o],s=t[o];a&&s&&0!==Object.keys(s).length&&(n.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(r).queryRadius(n))))}}},zA.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},zA.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<br.now()},zA.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},zA.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=br.now()+t};var BA={horizontal:1,vertical:2,horizontalOnly:3},DA=function(){this.text="",this.sectionIndex=[],this.sections=[]};DA.fromFeature=function(t,e){for(var i=new DA,r=0;r<t.sections.length;r++){var n=t.sections[r];i.sections.push({scale:n.scale||1,fontStack:n.fontStack||e}),i.text+=n.text;for(var o=0;o<n.text.length;o++)i.sectionIndex.push(r)}return i},DA.prototype.length=function(){return this.text.length},DA.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},DA.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},DA.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",i=0;i<t.length;i++){var r=t.charCodeAt(i+1)||null,n=t.charCodeAt(i-1)||null;r&&re(r)&&!qs[t[i+1]]||n&&re(n)&&!qs[t[i-1]]||!qs[t[i]]?e+=t[i]:e+=qs[t[i]]}return e}(this.text)},DA.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&LA[this.text.charCodeAt(e)];e++)t++;for(var i=this.text.length,r=this.text.length-1;r>=0&&r>=t&&LA[this.text.charCodeAt(r)];r--)i--;this.text=this.text.substring(t,i),this.sectionIndex=this.sectionIndex.slice(t,i)},DA.prototype.substring=function(t,e){var i=new DA;return i.text=this.text.substring(t,e),i.sectionIndex=this.sectionIndex.slice(t,e),i.sections=this.sections,i},DA.prototype.toString=function(){return this.text},DA.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(e,i){return Math.max(e,t.sections[i].scale)},0)};var LA={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},RA={};RA[10]=!0,RA[32]=!0,RA[38]=!0,RA[40]=!0,RA[41]=!0,RA[43]=!0,RA[45]=!0,RA[47]=!0,RA[173]=!0,RA[183]=!0,RA[8203]=!0,RA[8208]=!0,RA[8211]=!0,RA[8231]=!0,t.createCommonjsModule=e,t.Point=dr,
t.window=self,t.getJSON=function(t,e){return Fr(A(t,{type:"json"}),e)},t.getImage=qr,t.ResourceType=Lr,t.browser=br,t.normalizeSpriteURL=function(t,e,i,r){var n=E(t);return b(t)?(n.path="/styles/v1"+n.path+"/sprite"+e+i,x(n,r)):(n.path+=""+e+i,T(n))},t.RGBAImage=rs,t.potpack=Di,t.ImagePosition=oA,t.Texture=hA,t.normalizeGlyphsURL=function(t,e){if(!b(t))return t;var i=E(t);return i.path="/fonts/v1"+i.path,x(i,e)},t.getArrayBuffer=Ur,t.parseGlyphPBF=function(t){return new dA(t).readFields(Ki,[])},t.isChar=_o,t.asyncAll=function(t,e,i){if(!t.length)return i(null,[]);var r=t.length,n=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),n[a]=e,0==--r&&i(o,n)})})},t.AlphaImage=is,t.styleSpec=Zr,t.endsWith=p,t.extend=A,t.sphericalToCartesian=function(t){var e=t[0],i=t[1],r=t[2];return i+=90,i*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(i)*Math.sin(r),y:e*Math.sin(i)*Math.sin(r),z:e*Math.cos(r)}},t.Evented=Hr,t.validateStyle=so,t.validateLight=Ao,t.emitValidationErrors=Wt,t.Color=ln,t.number=q,t.Properties=Uo,t.Transitionable=Co,t.Transitioning=Mo,t.PossiblyEvaluated=Bo,t.DataConstantProperty=Do,t.warnOnce=y,t.uniqueId=l,t.Actor=gA,t.pick=function(t,e){for(var i={},r=0;r<e.length;r++){var n=e[r];n in t&&(i[n]=t[n])}return i},t.normalizeSourceURL=function(t,e){if(!b(t))return t;var i=E(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),x(i,e)},t.LngLatBounds=_A,t.clamp=a,t.Event=Gr,t.ErrorEvent=Qr,t.normalizeTileURL=function(t,e,i){if(!e||!b(e))return t;var r=E(t),n=br.devicePixelRatio>=2||512===i?"@2x":"",o=br.supportsWebp?".webp":"$1";return r.path=r.path.replace(kr,""+n+o),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(Er.ACCESS_TOKEN||""))}(r.params),T(r)},t.postTurnstileEvent=zr,t.postMapLoadEvent=Dr,t.OverscaledTileID=EA,t.EXTENT=Qa,t.CanonicalTileID=bA,t.StructArrayLayout4i8=Qo,t.rasterBoundsAttributes=SA,t.SegmentVector=Ta,t.MercatorCoordinate=xA,t.getVideo=function(t,e){var i,r,n=self.document.createElement("video");n.muted=!0,n.onloadstart=function(){e(null,n)};for(var o=0;o<t.length;o++){var a=self.document.createElement("source");i=t[o],r=void 0,(r=self.document.createElement("a")).href=i,(r.protocol!==self.document.location.protocol||r.host!==self.document.location.host)&&(n.crossOrigin="Anonymous"),a.src=t[o],n.appendChild(a)}return{cancel:function(){}}},t.ValidationError=Xr,t.bindAll=h,t.isEqual=n,t.Tile=zA,t.keysDifference=function(t,e){var i=[];for(var r in t)r in e||i.push(r);return i},t.SourceFeatureState=MA,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.create=function(){var t=new Wa(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.invert=function(t,e){var i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],s=e[5],A=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11],f=e[12],d=e[13],m=e[14],y=e[15],g=i*s-r*a,_=i*A-n*a,v=i*l-o*a,x=r*A-n*s,b=r*l-o*s,w=n*l-o*A,E=u*d-c*f,T=u*m-h*f,S=u*y-p*f,k=c*m-h*d,C=c*y-p*d,P=h*y-p*m,M=g*P-_*C+v*k+x*S-b*T+w*E;return M?(M=1/M,t[0]=(s*P-A*C+l*k)*M,t[1]=(n*C-r*P-o*k)*M,t[2]=(d*w-m*b+y*x)*M,t[3]=(h*b-c*w-p*x)*M,t[4]=(A*S-a*P-l*T)*M,t[5]=(i*P-n*S+o*T)*M,t[6]=(m*v-f*w-y*_)*M,t[7]=(u*w-h*v+p*_)*M,t[8]=(a*C-s*S+l*E)*M,t[9]=(r*S-i*C-o*E)*M,t[10]=(f*b-d*v+y*g)*M,t[11]=(c*v-u*b-p*g)*M,t[12]=(s*T-a*k-A*E)*M,t[13]=(i*k-r*T+n*E)*M,t[14]=(d*_-f*x-m*g)*M,t[15]=(u*x-c*_+h*g)*M,t):null},t.multiply=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],A=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],y=e[14],g=e[15],_=i[0],v=i[1],x=i[2],b=i[3];return t[0]=_*r+v*s+x*c+b*d,t[1]=_*n+v*A+x*h+b*m,t[2]=_*o+v*l+x*p+b*y,t[3]=_*a+v*u+x*f+b*g,_=i[4],v=i[5],x=i[6],b=i[7],t[4]=_*r+v*s+x*c+b*d,t[5]=_*n+v*A+x*h+b*m,t[6]=_*o+v*l+x*p+b*y,t[7]=_*a+v*u+x*f+b*g,_=i[8],v=i[9],x=i[10],b=i[11],t[8]=_*r+v*s+x*c+b*d,t[9]=_*n+v*A+x*h+b*m,t[10]=_*o+v*l+x*p+b*y,t[11]=_*a+v*u+x*f+b*g,_=i[12],v=i[13],x=i[14],b=i[15],t[12]=_*r+v*s+x*c+b*d,t[13]=_*n+v*A+x*h+b*m,t[14]=_*o+v*l+x*p+b*y,t[15]=_*a+v*u+x*f+b*g,t},t.translate=function(t,e,i){var r,n,o,a,s,A,l,u,c,h,p,f,d=i[0],m=i[1],y=i[2];return e===t?(t[12]=e[0]*d+e[4]*m+e[8]*y+e[12],t[13]=e[1]*d+e[5]*m+e[9]*y+e[13],t[14]=e[2]*d+e[6]*m+e[10]*y+e[14],t[15]=e[3]*d+e[7]*m+e[11]*y+e[15]):(r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],A=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],t[0]=r,t[1]=n,t[2]=o,t[3]=a,t[4]=s,t[5]=A,t[6]=l,t[7]=u,t[8]=c,t[9]=h,t[10]=p,t[11]=f,t[12]=r*d+s*m+c*y+e[12],t[13]=n*d+A*m+h*y+e[13],t[14]=o*d+l*m+p*y+e[14],t[15]=a*d+u*m+f*y+e[15]),t},t.scale=function(t,e,i){var r=i[0],n=i[1],o=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.rotateX=function(t,e,i){var r=Math.sin(i),n=Math.cos(i),o=e[4],a=e[5],s=e[6],A=e[7],l=e[8],u=e[9],c=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*n+l*r,t[5]=a*n+u*r,t[6]=s*n+c*r,t[7]=A*n+h*r,t[8]=l*n-o*r,t[9]=u*n-a*r,t[10]=c*n-s*r,t[11]=h*n-A*r,t},t.rotateZ=function(t,e,i){var r=Math.sin(i),n=Math.cos(i),o=e[0],a=e[1],s=e[2],A=e[3],l=e[4],u=e[5],c=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n+l*r,t[1]=a*n+u*r,t[2]=s*n+c*r,t[3]=A*n+h*r,t[4]=l*n-o*r,t[5]=u*n-a*r,t[6]=c*n-s*r,t[7]=h*n-A*r,t},t.perspective=function(t,e,i,r,n){var o=1/Math.tan(e/2),a=1/(r-n);return t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*r*a,t[15]=0,t},t.ortho=function(t,e,i,r,n,o,a){var s=1/(e-i),A=1/(r-n),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*A,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+i)*s,t[13]=(n+r)*A,t[14]=(a+o)*l,t[15]=1,t},t.create$1=Be,t.normalize=De,t.transformMat4=Le,t.forEach=$a,t.getSizeData=Ii,t.evaluateSizeForFeature=function(t,e,i){var r=e;return"source"===t.functionType?i.lowerSize/256:"composite"===t.functionType?q(i.lowerSize/256,i.upperSize/256,r.uSizeT):r.uSize},t.evaluateSizeForZoom=function(t,e,i){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var r=t.propertyValue,n=t.zoomRange,o=t.sizeRange,s=a(xt(r,i.specification).interpolationFactor(e,n.min,n.max),0,1);return{uSizeT:0,uSize:o.min+s*(o.max-o.min)}}var A=t.propertyValue,l=t.zoomRange;return{uSizeT:a(xt(A,i.specification).interpolationFactor(e,l.min,l.max),0,1),uSize:0}},t.SIZE_PACK_FACTOR=256,t.addDynamicAttributes=Bi,t.properties=Ks,t.WritingMode=BA,t.multiPolygonIntersectsBufferedPoint=pe,t.multiPolygonIntersectsMultiPolygon=fe,t.multiPolygonIntersectsBufferedMultiLine=de,t.polygonIntersectsPolygon=function(t,e){for(var i=0;i<t.length;i++)if(be(e,t[i]))return!0;for(var r=0;r<e.length;r++)if(be(t,e[r]))return!0;return!!ye(t,e)},t.distToSegmentSquared=ve,t.SymbolInstanceArray=ma,t.StyleLayer=Vo,t.createStyleLayer=function(t){return"custom"===t.type?new rA(t):new nA[t.type](t)},t.clone=m,t.filterObject=d,t.mapObject=f,t.getReferrer=Or,t.isMapboxURL=b,t.normalizeStyleURL=function(t,e){if(!b(t))return t;var i=E(t);return i.path="/styles/v1"+i.path,x(i,e)},t.registerForPluginAvailability=function(t){return xo?t({pluginURL:xo,completionCallback:go}):wo.once("pluginAvailable",t),t},t.evented=wo,t.ZoomHistory=yo,t.validateCustomStyleLayer=function(t){var e=[],i=t.id;return void 0===i&&e.push({message:"layers."+i+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+i+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+i+': property "renderingMode" must be either "2d" or "3d"'}),e},t.createLayout=oe,t.ProgramConfiguration=ja,t.Uniform1i=Pa,t.Uniform1f=Ma,t.Uniform2f=Ia,t.Uniform4f=Ba,t.Uniform3f=za,t.UniformMatrix4f=Ra,t.create$2=Se,t.fromRotation=function(t,e){var i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=-i,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.create$3=ke,t.length=Ce,t.fromValues=Pe,t.normalize$1=Me,t.dot=Ie,t.cross=ze,t.transformMat3=function(t,e,i){var r=e[0],n=e[1],o=e[2];return t[0]=r*i[0]+n*i[3]+o*i[6],t[1]=r*i[1]+n*i[4]+o*i[7],t[2]=r*i[2]+n*i[5]+o*i[8],t},t.len=Ka,t.forEach$1=Ja,t.UniformColor=Da,t.StructArrayLayout2i4=Go,t.StructArrayLayout2ui4=sa,t.StructArrayLayout3ui6=aa,t.StructArrayLayout1ui2=Aa,t.LngLat=vA,t.mercatorXfromLng=ir,t.mercatorYfromLat=rr,t.mercatorZfromAltitude=nr,t.wrap=s,t.UnwrappedTileID=wA,t.create$4=function(){var t=new Wa(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},t.rotate=function(t,e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=Math.sin(i),A=Math.cos(i);return t[0]=r*A+o*s,t[1]=n*A+a*s,t[2]=r*-s+o*A,t[3]=n*-s+a*A,t},t.ease=mr,t.bezier=o,t.config=Er,t.EvaluationParameters=To,t.version="0.51.0",t.setRTLTextPlugin=function(t,e){if(vo)throw new Error("setRTLTextPlugin cannot be called multiple times.");vo=!0,xo=br.resolveURL(t),go=function(t){t?(vo=!1,xo=null,e&&e(t)):bo=!0},wo.fire(new Gr("pluginAvailable",{pluginURL:xo,completionCallback:go}))},t.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},t.featureFilter=Pt,t.Anchor=Gs,t.GLYPH_PBF_BORDER=yA,t.shapeText=function(t,e,i,r,n,o,a,s,A,l,u){var c=DA.fromFeature(t,i);u===BA.vertical&&c.verticalizePunctuation();var h,p=[],f={positionedGlyphs:p,text:c,top:A[1],bottom:A[1],left:A[0],right:A[0],writingMode:u},d=Eo.processBidirectionalText,m=Eo.processStyledBidirectionalText;if(d&&1===c.sections.length){h=[];for(var y=0,g=d(c.toString(),cr(c,s,r,e));y<g.length;y+=1){var _=g[y],v=new DA;v.text=_,v.sections=c.sections;for(var x=0;x<_.length;x++)v.sectionIndex.push(0);h.push(v)}}else if(m){h=[];for(var b=0,w=m(c.text,c.sectionIndex,cr(c,s,r,e));b<w.length;b+=1){var E=w[b],T=new DA;T.text=E[0],T.sectionIndex=E[1],T.sections=c.sections,h.push(T)}}else h=function(t,e){for(var i=[],r=t.text,n=0,o=0,a=e;o<a.length;o+=1){var s=a[o];i.push(t.substring(n,s)),n=s}return n<r.length&&i.push(t.substring(n,r.length)),i}(c,cr(c,s,r,e));return function(t,e,i,r,n,o,a,s,A){for(var l=0,u=-17,c=0,h=t.positionedGlyphs,p="right"===o?1:"left"===o?0:.5,f=0,d=i;f<d.length;f+=1){var m=d[f];m.trim();var y=m.getMaxScale();if(m.length()){for(var g=h.length,_=0;_<m.length();_++){var v=m.getSection(_),x=m.getCharCode(_),b=24*(y-v.scale),w=e[v.fontStack],E=w&&w[x];E&&(ie(x)&&a!==BA.horizontal?(h.push({glyph:x,x:l,y:b,vertical:!0,scale:v.scale,fontStack:v.fontStack}),l+=A*v.scale+s):(h.push({glyph:x,x:l,y:u+b,vertical:!1,scale:v.scale,fontStack:v.fontStack}),l+=E.metrics.advance*v.scale+s))}if(h.length!==g){var T=l-s;c=Math.max(T,c),pr(h,e,g,h.length-1,p)}l=0,u+=r*y}else u+=r}var S=hr(n),k=S.horizontalAlign,C=S.verticalAlign;!function(t,e,i,r,n,o,a){for(var s=(e-i)*n,A=(-r*a+.5)*o,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=A}(h,p,k,C,c,r,i.length);var P=u- -17;t.top+=-C*P,t.bottom=t.top+P,t.left+=-k*c,t.right=t.left+c}(f,e,h,n,o,a,u,s,l),!!p.length&&(f.text=f.text.toString(),f)},t.shapeIcon=function(t,e,i){var r=hr(i),n=r.horizontalAlign,o=r.verticalAlign,a=e[0],s=e[1],A=a-t.displaySize[0]*n,l=A+t.displaySize[0],u=s-t.displaySize[1]*o;return{image:t,top:u,bottom:u+t.displaySize[1],left:A,right:l}},t.allowsVerticalWritingMode=te,t.allowsLetterSpacing=function(t){for(var e=0,i=t;e<i.length;e+=1)if(!ee(i[e].charCodeAt(0)))return!1;return!0},t.classifyRings=fi,t.SymbolBucket=Ws,t.register=Kt,t.FeatureIndex=IA,t.CollisionBoxArray=ha,t.DictionaryCoder=kA,t.LineBucket=Bs,t.FillBucket=fs,t.FillExtrusionBucket=vs,t.ImageAtlas=sA,t.mvt=ks,t.Protobuf=dA,t.DEMData=TA,t.vectorTile=ks,t.Point$1=dr,t.pbf=dA,t.plugin=Eo}),t(["./shared.js"],function(t){function e(t){var i=typeof t;if("number"===i||"boolean"===i||"string"===i||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var r="[",n=0,o=t;n<o.length;n+=1)r+=e(o[n])+",";return r+"]"}for(var a=Object.keys(t).sort(),s="{",A=0;A<a.length;A++)s+=JSON.stringify(a[A])+":"+e(t[a[A]])+",";return s+"}"}function i(i){for(var r="",n=0,o=t.refProperties;n<o.length;n+=1)r+="/"+e(i[o[n]]);return r}function r(t,e,i,r,n){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-i/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var A=[],l=0;s<i/2;){var u=t[a-1],c=t[a],h=t[a+1];if(!h)return!1;var p=u.angleTo(c)-c.angleTo(h);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),A.push({distance:s,angleDelta:p}),l+=p;s-A[0].distance>r;)l-=A.shift().angleDelta;if(l>n)return!1;a++,s+=c.dist(h)}return!0}function n(t){for(var e=0,i=0;i<t.length-1;i++)e+=t[i].dist(t[i+1]);return e}function o(t,e,i){return t?.6*e*i:0}function a(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function s(e,i,s,A,l,u){for(var c=o(s,l,u),h=a(s,A)*u,p=0,f=n(e)/2,d=0;d<e.length-1;d++){var m=e[d],y=e[d+1],g=m.dist(y);if(p+g>f){var _=(f-p)/g,v=t.number(m.x,y.x,_),x=t.number(m.y,y.y,_),b=new t.Anchor(v,x,y.angleTo(m),d);return b._round(),!c||r(e,b,h,c,i)?b:void 0}p+=g}}function A(e,i,s,A,l,u,c,h,p){var f=o(A,u,c),d=a(A,l),m=d*c,y=0===e[0].x||e[0].x===p||0===e[0].y||e[0].y===p;return i-m<i/4&&(i=m+i/4),function e(i,o,a,s,A,l,u,c,h){for(var p=l/2,f=n(i),d=0,m=o-a,y=[],g=0;g<i.length-1;g++){for(var _=i[g],v=i[g+1],x=_.dist(v),b=v.angleTo(_);m+a<d+x;){var w=((m+=a)-d)/x,E=t.number(_.x,v.x,w),T=t.number(_.y,v.y,w);if(E>=0&&E<h&&T>=0&&T<h&&m-p>=0&&m+p<=f){var S=new t.Anchor(E,T,b,g);S._round(),s&&!r(i,S,l,s,A)||y.push(S)}}d+=x}return c||y.length||u||(y=e(i,d/2,a,s,A,l,u,!0,h)),y}(e,y?i/2*h%i:(d/2+2*u)*c*h%i,i,f,s,m,y,!1,p)}function l(t,e){if(!(this instanceof l))return new l(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||u,this.length>0)for(var i=(this.length>>1)-1;i>=0;i--)this._down(i)}function u(t,e){return t<e?-1:t>e?1:0}function c(e,i,r){void 0===i&&(i=1),void 0===r&&(r=!1);for(var n=1/0,o=1/0,a=-1/0,s=-1/0,A=e[0],l=0;l<A.length;l++){var u=A[l];(!l||u.x<n)&&(n=u.x),(!l||u.y<o)&&(o=u.y),(!l||u.x>a)&&(a=u.x),(!l||u.y>s)&&(s=u.y)}var c=a-n,f=s-o,d=Math.min(c,f),m=d/2,y=new Ct(null,h);if(0===d)return new t.Point(n,o);for(var g=n;g<a;g+=d)for(var _=o;_<s;_+=d)y.push(new p(g+m,_+m,m,e));for(var v=function(t){for(var e=0,i=0,r=0,n=t[0],o=0,a=n.length,s=a-1;o<a;s=o++){var A=n[o],l=n[s],u=A.x*l.y-l.x*A.y;i+=(A.x+l.x)*u,r+=(A.y+l.y)*u,e+=3*u}return new p(i/e,r/e,0,t)}(e),x=y.length;y.length;){var b=y.pop();(b.d>v.d||!v.d)&&(v=b,r&&console.log("found best %d after %d probes",Math.round(1e4*b.d)/1e4,x)),b.max-v.d<=i||(m=b.h/2,y.push(new p(b.p.x-m,b.p.y-m,m,e)),y.push(new p(b.p.x+m,b.p.y-m,m,e)),y.push(new p(b.p.x-m,b.p.y+m,m,e)),y.push(new p(b.p.x+m,b.p.y+m,m,e)),x+=4)}return r&&(console.log("num probes: "+x),console.log("best distance: "+v.d)),v.p}function h(t,e){return e.max-t.max}function p(e,i,r,n){this.p=new t.Point(e,i),this.h=r,this.d=function(e,i){for(var r=!1,n=1/0,o=0;o<i.length;o++)for(var a=i[o],s=0,A=a.length,l=A-1;s<A;l=s++){var u=a[s],c=a[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(r=!r),n=Math.min(n,t.distToSegmentSquared(e,u,c))}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}function f(e,i,r,n,o,a){e.createArrays();var s=512*e.overscaling;e.tilePixelRatio=t.EXTENT/s,e.compareText={},e.iconsNeedLinear=!1;var A=e.layers[0].layout,l=e.layers[0]._unevaluatedLayout._values,u={};if("composite"===e.textSizeData.functionType){var c=e.textSizeData.zoomRange,h=c.min,p=c.max;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new t.EvaluationParameters(h)),l["text-size"].possiblyEvaluate(new t.EvaluationParameters(p))]}if("composite"===e.iconSizeData.functionType){var f=e.iconSizeData.zoomRange,m=f.min,y=f.max;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new t.EvaluationParameters(m)),l["icon-size"].possiblyEvaluate(new t.EvaluationParameters(y))]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new t.EvaluationParameters(e.zoom+1)),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new t.EvaluationParameters(e.zoom+1)),u.textMaxSize=l["text-size"].possiblyEvaluate(new t.EvaluationParameters(18));for(var g=24*A.get("text-line-height"),_="map"===A.get("text-rotation-alignment")&&"point"!==A.get("symbol-placement"),v=A.get("text-keep-upright"),x=0,b=e.features;x<b.length;x+=1){var w=b[x],E=A.get("text-font").evaluate(w,{}).join(","),T=r,S={},k=w.text;if(k){var C=k.toString(),P=A.get("text-offset").evaluate(w,{}).map(function(t){return 24*t}),M=24*A.get("text-letter-spacing").evaluate(w,{}),I=t.allowsLetterSpacing(C)?M:0,z=A.get("text-anchor").evaluate(w,{}),B=A.get("text-justify").evaluate(w,{}),D="point"===A.get("symbol-placement")?24*A.get("text-max-width").evaluate(w,{}):0;S.horizontal=t.shapeText(k,i,E,D,g,z,B,I,P,24,t.WritingMode.horizontal),t.allowsVerticalWritingMode(C)&&_&&v&&(S.vertical=t.shapeText(k,i,E,D,g,z,B,I,P,24,t.WritingMode.vertical))}var L=void 0;if(w.icon){var R=n[w.icon];R&&(L=t.shapeIcon(o[w.icon],A.get("icon-offset").evaluate(w,{}),A.get("icon-anchor").evaluate(w,{})),void 0===e.sdfIcons?e.sdfIcons=R.sdf:e.sdfIcons!==R.sdf&&t.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),R.pixelRatio!==e.pixelRatio?e.iconsNeedLinear=!0:0!==A.get("icon-rotate").constantOr(1)&&(e.iconsNeedLinear=!0))}(S.horizontal||L)&&d(e,w,S,L,T,u)}a&&e.generateCollisionDebugBuffers()}function d(e,i,r,n,o,a){var l=a.layoutTextSize.evaluate(i,{}),u=a.layoutIconSize.evaluate(i,{}),h=a.textMaxSize.evaluate(i,{});void 0===h&&(h=l);var p=e.layers[0].layout,f=p.get("text-offset").evaluate(i,{}),d=p.get("icon-offset").evaluate(i,{}),g=l/24,_=e.tilePixelRatio*g,v=e.tilePixelRatio*h/24,x=e.tilePixelRatio*u,b=e.tilePixelRatio*p.get("symbol-spacing"),w=p.get("text-padding")*e.tilePixelRatio,E=p.get("icon-padding")*e.tilePixelRatio,T=p.get("text-max-angle")/180*Math.PI,S="map"===p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),k="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),C=p.get("symbol-placement"),P=b/2,M=function(s,A){A.x<0||A.x>=t.EXTENT||A.y<0||A.y>=t.EXTENT||function(e,i,r,n,o,a,s,A,l,u,c,h,p,f,d,y,g,_,v,x,b){var w,E,T=e.addToLineVertexArray(i,r),S=0,k=0,C=0,P=zt(n.horizontal?n.horizontal.text:""),M=[];if(n.horizontal){var I=a.layout.get("text-rotate").evaluate(v,{});w=new kt(s,r,i,A,l,u,n.horizontal,c,h,p,e.overscaling,I),k+=m(e,i,n.horizontal,a,p,v,f,T,n.vertical?t.WritingMode.horizontal:t.WritingMode.horizontalOnly,M,x,b),n.vertical&&(C+=m(e,i,n.vertical,a,p,v,f,T,t.WritingMode.vertical,M,x,b))}var z=w?w.boxStartIndex:e.collisionBoxArray.length,B=w?w.boxEndIndex:e.collisionBoxArray.length;if(o){var D=function(e,i,r,n,o,a){var s,A,l,u,c=i.image,h=r.layout,p=i.top-1/c.pixelRatio,f=i.left-1/c.pixelRatio,d=i.bottom+1/c.pixelRatio,m=i.right+1/c.pixelRatio;if("none"!==h.get("icon-text-fit")&&o){var y=m-f,g=d-p,_=h.get("text-size").evaluate(a,{})/24,v=o.left*_,x=o.right*_,b=o.top*_,w=x-v,E=o.bottom*_-b,T=h.get("icon-text-fit-padding")[0],S=h.get("icon-text-fit-padding")[1],k=h.get("icon-text-fit-padding")[2],C=h.get("icon-text-fit-padding")[3],P="width"===h.get("icon-text-fit")?.5*(E-g):0,M="height"===h.get("icon-text-fit")?.5*(w-y):0,I="width"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?w:y,z="height"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?E:g;s=new t.Point(v+M-C,b+P-T),A=new t.Point(v+M+S+I,b+P-T),l=new t.Point(v+M+S+I,b+P+k+z),u=new t.Point(v+M-C,b+P+k+z)}else s=new t.Point(f,p),A=new t.Point(m,p),l=new t.Point(m,d),u=new t.Point(f,d);var B=r.layout.get("icon-rotate").evaluate(a,{})*Math.PI/180;if(B){var D=Math.sin(B),L=Math.cos(B),R=[L,-D,D,L];s._matMult(R),A._matMult(R),u._matMult(R),l._matMult(R)}return[{tl:s,tr:A,bl:u,br:l,tex:c.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,o,a,0,n.horizontal,v),L=a.layout.get("icon-rotate").evaluate(v,{});E=new kt(s,r,i,A,l,u,o,d,y,!1,e.overscaling,L),S=4*D.length;var R=e.iconSizeData,O=null;"source"===R.functionType?(O=[t.SIZE_PACK_FACTOR*a.layout.get("icon-size").evaluate(v,{})])[0]>Lt&&t.warnOnce(e.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===R.functionType&&((O=[t.SIZE_PACK_FACTOR*b.compositeIconSizes[0].evaluate(v,{}),t.SIZE_PACK_FACTOR*b.compositeIconSizes[1].evaluate(v,{})])[0]>Lt||O[1]>Lt)&&t.warnOnce(e.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),e.addSymbols(e.icon,D,O,_,g,v,!1,i,T.lineStartIndex,T.lineLength)}var F=E?E.boxStartIndex:e.collisionBoxArray.length,U=E?E.boxEndIndex:e.collisionBoxArray.length;e.glyphOffsetArray.length>=t.SymbolBucket.MAX_GLYPHS&&t.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),e.symbolInstances.emplaceBack(i.x,i.y,M.length>0?M[0]:-1,M.length>1?M[1]:-1,P,z,B,F,U,A,k,C,S,0)}(e,A,s,r,n,e.layers[0],e.collisionBoxArray,i.index,i.sourceLayerIndex,e.index,_,w,S,f,x,E,k,d,i,o,a)};if("line"===C)for(var I=0,z=function(e,i,r,n,o){for(var a=[],s=0;s<e.length;s++)for(var A=e[s],l=void 0,u=0;u<A.length-1;u++){var c=A[u],h=A[u+1];c.x<0&&h.x<0||(c.x<0?c=new t.Point(0,c.y+(h.y-c.y)*((0-c.x)/(h.x-c.x)))._round():h.x<0&&(h=new t.Point(0,c.y+(h.y-c.y)*((0-c.x)/(h.x-c.x)))._round()),c.y<0&&h.y<0||(c.y<0?c=new t.Point(c.x+(h.x-c.x)*((0-c.y)/(h.y-c.y)),0)._round():h.y<0&&(h=new t.Point(c.x+(h.x-c.x)*((0-c.y)/(h.y-c.y)),0)._round()),c.x>=n&&h.x>=n||(c.x>=n?c=new t.Point(n,c.y+(h.y-c.y)*((n-c.x)/(h.x-c.x)))._round():h.x>=n&&(h=new t.Point(n,c.y+(h.y-c.y)*((n-c.x)/(h.x-c.x)))._round()),c.y>=o&&h.y>=o||(c.y>=o?c=new t.Point(c.x+(h.x-c.x)*((o-c.y)/(h.y-c.y)),o)._round():h.y>=o&&(h=new t.Point(c.x+(h.x-c.x)*((o-c.y)/(h.y-c.y)),o)._round()),l&&c.equals(l[l.length-1])||(l=[c],a.push(l)),l.push(h)))))}return a}(i.geometry,0,0,t.EXTENT,t.EXTENT);I<z.length;I+=1)for(var B=z[I],D=0,L=A(B,b,T,r.vertical||r.horizontal,n,24,v,e.overscaling,t.EXTENT);D<L.length;D+=1){var R=L[D],O=r.horizontal;O&&y(e,O.text,P,R)||M(B,R)}else if("line-center"===C)for(var F=0,U=i.geometry;F<U.length;F+=1){var V=U[F];if(V.length>1){var N=s(V,T,r.vertical||r.horizontal,n,24,v);N&&M(V,N)}}else if("Polygon"===i.type)for(var j=0,q=t.classifyRings(i.geometry,0);j<q.length;j+=1){var G=q[j],Q=c(G,16);M(G[0],new t.Anchor(Q.x,Q.y,0))}else if("LineString"===i.type)for(var H=0,Z=i.geometry;H<Z.length;H+=1){var X=Z[H];M(X,new t.Anchor(X[0].x,X[0].y,0))}else if("Point"===i.type)for(var W=0,Y=i.geometry;W<Y.length;W+=1)for(var K=0,J=Y[W];K<J.length;K+=1){var $=J[K];M([$],new t.Anchor($.x,$.y,0))}}function m(e,i,r,n,o,a,s,A,l,u,c,h){var p=function(e,i,r,n,o,a){for(var s=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,A=r.layout.get("text-offset").evaluate(o,{}).map(function(t){return 24*t}),l=i.positionedGlyphs,u=[],c=0;c<l.length;c++){var h=l[c],p=a[h.fontStack],f=p&&p[h.glyph];if(f){var d=f.rect;if(d){var m=t.GLYPH_PBF_BORDER+1,y=f.metrics.advance*h.scale/2,g=n?[h.x+y,h.y]:[0,0],_=n?[0,0]:[h.x+y+A[0],h.y+A[1]],v=(f.metrics.left-m)*h.scale-y+_[0],x=(-f.metrics.top-m)*h.scale+_[1],b=v+d.w*h.scale,w=x+d.h*h.scale,E=new t.Point(v,x),T=new t.Point(b,x),S=new t.Point(v,w),k=new t.Point(b,w);if(n&&h.vertical){var C=new t.Point(-y,y),P=-Math.PI/2,M=new t.Point(5,0);E._rotateAround(P,C)._add(M),T._rotateAround(P,C)._add(M),S._rotateAround(P,C)._add(M),k._rotateAround(P,C)._add(M)}if(s){var I=Math.sin(s),z=Math.cos(s),B=[z,-I,I,z];E._matMult(B),T._matMult(B),S._matMult(B),k._matMult(B)}u.push({tl:E,tr:T,bl:S,br:k,tex:d,writingMode:i.writingMode,glyphOffset:g})}}}return u}(0,r,n,o,a,c),f=e.textSizeData,d=null;return"source"===f.functionType?(d=[t.SIZE_PACK_FACTOR*n.layout.get("text-size").evaluate(a,{})])[0]>Lt&&t.warnOnce(e.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===f.functionType&&((d=[t.SIZE_PACK_FACTOR*h.compositeTextSizes[0].evaluate(a,{}),t.SIZE_PACK_FACTOR*h.compositeTextSizes[1].evaluate(a,{})])[0]>Lt||d[1]>Lt)&&t.warnOnce(e.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),e.addSymbols(e.text,p,d,s,o,a,l,i,A.lineStartIndex,A.lineLength),u.push(e.text.placedSymbolArray.length-1),4*p.length}function y(t,e,i,r){var n=t.compareText;if(e in n){for(var o=n[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<i)return!0}else n[e]=[];return n[e].push(r),!1}function g(e,i){for(var r=new t.EvaluationParameters(i),n=0,o=e;n<o.length;n+=1)o[n].recalculate(r)}function _(e,i){var r=t.getArrayBuffer(e.request,function(e,r,n,o){e?i(e):r&&i(null,{vectorTile:new t.mvt.VectorTile(new t.Protobuf(r)),rawData:r,cacheControl:n,expires:o})});return function(){r.cancel(),i()}}function v(t){var e=0;if(t&&t.length>0){e+=Math.abs(x(t[0]));for(var i=1;i<t.length;i++)e-=Math.abs(x(t[i]))}return e}function x(t){var e,i,r,n,o,a,s=0,A=t.length;if(A>2){for(a=0;a<A;a++)a===A-2?(r=A-2,n=A-1,o=0):a===A-1?(r=A-1,n=0,o=1):(r=a,n=a+1,o=a+2),e=t[r],i=t[n],s+=(b(t[o][0])-b(e[0]))*Math.sin(b(i[1]));s=s*qt.RADIUS*qt.RADIUS/2}return s}function b(t){return t*Math.PI/180}function w(t,e){return function(i){return t(i,e)}}function E(t,e){e=!!e,t[0]=T(t[0],e);for(var i=1;i<t.length;i++)t[i]=T(t[i],!e);return t}function T(t,e){return function(t){return Gt.ring(t)>=0}(t)===e?t:t.reverse()}function S(t,e){this.options=e||{},this.features=t,this.length=t.length}function k(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}function C(e){var i=new t.pbf;return function(t,e){for(var i in t.layers)e.writeMessage(3,P,t.layers[i])}(e,i),i.finish()}function P(t,e){var i;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(i=0;i<t.length;i++)r.feature=t.feature(i),e.writeMessage(2,M,r);var n=r.keys;for(i=0;i<n.length;i++)e.writeStringField(3,n[i]);var o=r.values;for(i=0;i<o.length;i++)e.writeMessage(4,L,o[i])}function M(t,e){var i=t.feature;void 0!==i.id&&e.writeVarintField(1,i.id),e.writeMessage(2,I,t),e.writeVarintField(3,i.type),e.writeMessage(4,D,i)}function I(t,e){var i=t.feature,r=t.keys,n=t.values,o=t.keycache,a=t.valuecache;for(var s in i.properties){var A=o[s];void 0===A&&(r.push(s),A=r.length-1,o[s]=A),e.writeVarint(A);var l=i.properties[s],u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var c=u+":"+l,h=a[c];void 0===h&&(n.push(l),h=n.length-1,a[c]=h),e.writeVarint(h)}}function z(t,e){return(e<<3)+(7&t)}function B(t){return t<<1^t>>31}function D(t,e){for(var i=t.loadGeometry(),r=t.type,n=0,o=0,a=i.length,s=0;s<a;s++){var A=i[s],l=1;1===r&&(l=A.length),e.writeVarint(z(1,l));for(var u=3===r?A.length-1:A.length,c=0;c<u;c++){1===c&&1!==r&&e.writeVarint(z(2,u-1));var h=A[c].x-n,p=A[c].y-o;e.writeVarint(B(h)),e.writeVarint(B(p)),n+=h,o+=p}3===r&&e.writeVarint(z(7,0))}}function L(t,e){var i=typeof t;"string"===i?e.writeStringField(1,t):"boolean"===i?e.writeBooleanField(7,t):"number"===i&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function R(t,e,i,r,n,o){if(!(n-r<=i)){var a=Math.floor((r+n)/2);!function t(e,i,r,n,o,a){for(;o>n;){if(o-n>600){var s=o-n+1,A=r-n+1,l=Math.log(s),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(s-u)/s)*(A-s/2<0?-1:1);t(e,i,r,Math.max(n,Math.floor(r-A*u/s+c)),Math.min(o,Math.floor(r+(s-A)*u/s+c)),a)}var h=i[2*r+a],p=n,f=o;for(O(e,i,n,r),i[2*o+a]>h&&O(e,i,n,o);p<f;){for(O(e,i,p,f),p++,f--;i[2*p+a]<h;)p++;for(;i[2*f+a]>h;)f--}i[2*n+a]===h?O(e,i,n,f):O(e,i,++f,o),f<=r&&(n=f+1),r<=f&&(o=f-1)}}(t,e,a,r,n,o%2),R(t,e,i,r,a-1,o+1),R(t,e,i,a+1,n,o+1)}}function O(t,e,i,r){F(t,i,r),F(e,2*i,2*r),F(e,2*i+1,2*r+1)}function F(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function U(t,e,i,r){var n=t-i,o=e-r;return n*n+o*o}function V(t,e,i,r,n){return new N(t,e,i,r,n)}function N(t,e,i,r,n){e=e||j,i=i||q,n=n||Array,this.nodeSize=r||64,this.points=t,this.ids=new n(t.length),this.coords=new n(2*t.length);for(var o=0;o<t.length;o++)this.ids[o]=o,this.coords[2*o]=e(t[o]),this.coords[2*o+1]=i(t[o]);R(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function j(t){return t[0]}function q(t){return t[1]}function G(t){this.options=Y(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function Q(t,e,i,r,n){return{x:t,y:e,zoom:1/0,id:i,parentId:-1,numPoints:r,properties:n}}function H(t){return{type:"Feature",id:t.id,properties:Z(t),geometry:{type:"Point",coordinates:[360*(t.x-.5),(e=t.y,i=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(i))/Math.PI-90)]}};var e,i}function Z(t){var e=t.numPoints,i=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return Y(Y({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:i})}function X(t){return t/360+.5}function W(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function Y(t,e){for(var i in e)t[i]=e[i];return t}function K(t){return t.x}function J(t){return t.y}function $(t,e,i,r,n,o){var a=n-i,s=o-r;if(0!==a||0!==s){var A=((t-i)*a+(e-r)*s)/(a*a+s*s);A>1?(i=n,r=o):A>0&&(i+=a*A,r+=s*A)}return(a=t-i)*a+(s=e-r)*s}function tt(t,e,i,r){var n={id:void 0===t?null:t,type:e,geometry:i,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,i=t.type;if("Point"===i||"MultiPoint"===i||"LineString"===i)et(t,e);else if("Polygon"===i||"MultiLineString"===i)for(var r=0;r<e.length;r++)et(t,e[r]);else if("MultiPolygon"===i)for(r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)et(t,e[r][n])}(n),n}function et(t,e){for(var i=0;i<e.length;i+=3)t.minX=Math.min(t.minX,e[i]),t.minY=Math.min(t.minY,e[i+1]),t.maxX=Math.max(t.maxX,e[i]),t.maxY=Math.max(t.maxY,e[i+1])}function it(t,e,i,r){if(e.geometry){var n=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(i.tolerance/((1<<i.maxZoom)*i.extent),2),s=[],A=e.id;if(i.promoteId?A=e.properties[i.promoteId]:i.generateId&&(A=r||0),"Point"===o)rt(n,s);else if("MultiPoint"===o)for(var l=0;l<n.length;l++)rt(n[l],s);else if("LineString"===o)nt(n,s,a,!1);else if("MultiLineString"===o){if(i.lineMetrics){for(l=0;l<n.length;l++)s=[],nt(n[l],s,a,!1),t.push(tt(A,"LineString",s,e.properties));return}ot(n,s,a,!1)}else if("Polygon"===o)ot(n,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(l=0;l<e.geometry.geometries.length;l++)it(t,{id:A,geometry:e.geometry.geometries[l],properties:e.properties},i,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<n.length;l++){var u=[];ot(n[l],u,a,!0),s.push(u)}}t.push(tt(A,o,s,e.properties))}}function rt(t,e){e.push(at(t[0])),e.push(st(t[1])),e.push(0)}function nt(t,e,i,r){for(var n,o,a=0,s=0;s<t.length;s++){var A=at(t[s][0]),l=st(t[s][1]);e.push(A),e.push(l),e.push(0),s>0&&(a+=r?(n*l-A*o)/2:Math.sqrt(Math.pow(A-n,2)+Math.pow(l-o,2))),n=A,o=l}var u=e.length-3;e[2]=1,function t(e,i,r,n){for(var o,a=n,s=r-i>>1,A=r-i,l=e[i],u=e[i+1],c=e[r],h=e[r+1],p=i+3;p<r;p+=3){var f=$(e[p],e[p+1],l,u,c,h);if(f>a)o=p,a=f;else if(f===a){var d=Math.abs(p-s);d<A&&(o=p,A=d)}}a>n&&(o-i>3&&t(e,i,o,n),e[o+2]=a,r-o>3&&t(e,o,r,n))}(e,0,u,i),e[u+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function ot(t,e,i,r){for(var n=0;n<t.length;n++){var o=[];nt(t[n],o,i,r),e.push(o)}}function at(t){return t/360+.5}function st(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function At(t,e,i,r,n,o,a,s){if(r/=e,o>=(i/=e)&&a<r)return t;if(a<i||o>=r)return null;for(var A=[],l=0;l<t.length;l++){var u=t[l],c=u.geometry,h=u.type,p=0===n?u.minX:u.minY,f=0===n?u.maxX:u.maxY;if(p>=i&&f<r)A.push(u);else if(!(f<i||p>=r)){var d=[];if("Point"===h||"MultiPoint"===h)lt(c,d,i,r,n);else if("LineString"===h)ut(c,d,i,r,n,!1,s.lineMetrics);else if("MultiLineString"===h)ht(c,d,i,r,n,!1);else if("Polygon"===h)ht(c,d,i,r,n,!0);else if("MultiPolygon"===h)for(var m=0;m<c.length;m++){var y=[];ht(c[m],y,i,r,n,!0),y.length&&d.push(y)}if(d.length){
if(s.lineMetrics&&"LineString"===h){for(m=0;m<d.length;m++)A.push(tt(u.id,h,d[m],u.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===d.length?(h="LineString",d=d[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===d.length?"Point":"MultiPoint"),A.push(tt(u.id,h,d,u.tags))}}}return A.length?A:null}function lt(t,e,i,r,n){for(var o=0;o<t.length;o+=3){var a=t[o+n];a>=i&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function ut(t,e,i,r,n,o,a){for(var s,A,l=ct(t),u=0===n?ft:dt,c=t.start,h=0;h<t.length-3;h+=3){var p=t[h],f=t[h+1],d=t[h+2],m=t[h+3],y=t[h+4],g=0===n?p:f,_=0===n?m:y,v=!1;a&&(s=Math.sqrt(Math.pow(p-m,2)+Math.pow(f-y,2))),g<i?_>i&&(A=u(l,p,f,m,y,i),a&&(l.start=c+s*A)):g>r?_<r&&(A=u(l,p,f,m,y,r),a&&(l.start=c+s*A)):pt(l,p,f,d),_<i&&g>=i&&(A=u(l,p,f,m,y,i),v=!0),_>r&&g<=r&&(A=u(l,p,f,m,y,r),v=!0),!o&&v&&(a&&(l.end=c+s*A),e.push(l),l=ct(t)),a&&(c+=s)}var x=t.length-3;p=t[x],f=t[x+1],d=t[x+2],(g=0===n?p:f)>=i&&g<=r&&pt(l,p,f,d),x=l.length-3,o&&x>=3&&(l[x]!==l[0]||l[x+1]!==l[1])&&pt(l,l[0],l[1],l[2]),l.length&&e.push(l)}function ct(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function ht(t,e,i,r,n,o){for(var a=0;a<t.length;a++)ut(t[a],e,i,r,n,o,!1)}function pt(t,e,i,r){t.push(e),t.push(i),t.push(r)}function ft(t,e,i,r,n,o){var a=(o-e)/(r-e);return t.push(o),t.push(i+(n-i)*a),t.push(1),a}function dt(t,e,i,r,n,o){var a=(o-i)/(n-i);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function mt(t,e){for(var i=[],r=0;r<t.length;r++){var n,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)n=yt(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){n=[];for(var s=0;s<o.geometry.length;s++)n.push(yt(o.geometry[s],e))}else if("MultiPolygon"===a)for(n=[],s=0;s<o.geometry.length;s++){for(var A=[],l=0;l<o.geometry[s].length;l++)A.push(yt(o.geometry[s][l],e));n.push(A)}i.push(tt(o.id,a,n,o.tags))}return i}function yt(t,e){var i=[];i.size=t.size,void 0!==t.start&&(i.start=t.start,i.end=t.end);for(var r=0;r<t.length;r+=3)i.push(t[r]+e,t[r+1],t[r+2]);return i}function gt(t,e){if(t.transformed)return t;var i,r,n,o=1<<t.z,a=t.x,s=t.y;for(i=0;i<t.features.length;i++){var A=t.features[i],l=A.geometry,u=A.type;if(A.geometry=[],1===u)for(r=0;r<l.length;r+=2)A.geometry.push(_t(l[r],l[r+1],e,o,a,s));else for(r=0;r<l.length;r++){var c=[];for(n=0;n<l[r].length;n+=2)c.push(_t(l[r][n],l[r][n+1],e,o,a,s));A.geometry.push(c)}}return t.transformed=!0,t}function _t(t,e,i,r,n,o){return[Math.round(i*(t*r-n)),Math.round(i*(e*r-o))]}function vt(t,e,i,r,n){for(var o=e===n.maxZoom?0:n.tolerance/((1<<e)*n.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,xt(a,t[s],o,n);var A=t[s].minX,l=t[s].minY,u=t[s].maxX,c=t[s].maxY;A<a.minX&&(a.minX=A),l<a.minY&&(a.minY=l),u>a.maxX&&(a.maxX=u),c>a.maxY&&(a.maxY=c)}return a}function xt(t,e,i,r){var n=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<n.length;s+=3)a.push(n[s]),a.push(n[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)bt(a,n,t,i,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<n.length;s++)bt(a,n[s],t,i,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var A=0;A<n.length;A++){var l=n[A];for(s=0;s<l.length;s++)bt(a,l[s],t,i,!0,0===s)}if(a.length){var u=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var c in u={},e.tags)u[c]=e.tags[c];u.mapbox_clip_start=n.start/n.size,u.mapbox_clip_end=n.end/n.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==e.id&&(h.id=e.id),t.features.push(h)}}function bt(t,e,i,r,n,o){var a=r*r;if(r>0&&e.size<(n?a:r))i.numPoints+=e.length/3;else{for(var s=[],A=0;A<e.length;A+=3)(0===r||e[A+2]>a)&&(i.numSimplified++,s.push(e[A]),s.push(e[A+1])),i.numPoints++;n&&function(t,e){for(var i=0,r=0,n=t.length,o=n-2;r<n;o=r,r+=2)i+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(i>0===e)for(r=0,n=t.length;r<n/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[n-2-r],t[r+1]=t[n-1-r],t[n-2-r]=a,t[n-1-r]=s}}(s,o),t.push(s)}}function wt(t,e){var i=(e=this.options=function(t,e){for(var i in e)t[i]=e[i];return t}(Object.create(this.options),e)).debug;if(i&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var i=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)it(i,t.features[r],e,r);else"Feature"===t.type?it(i,t,e):it(i,{geometry:t},e);return i}(t,e);this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var i=e.buffer/e.extent,r=t,n=At(t,1,-1-i,i,0,-1,2,e),o=At(t,1,1-i,2+i,0,-1,2,e);return(n||o)&&(r=At(t,1,-i,1+i,0,-1,2,e)||[],n&&(r=mt(n,1).concat(r)),o&&(r=r.concat(mt(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),i&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Et(t,e,i){return 32*((1<<t)*i+e)+t}function Tt(t,e){var i=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(i.z,i.x,i.y);if(!r)return e(null,null);var n=new Xt(r.features),o=Kt(n);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:n,rawData:o.buffer})}var St=function(t){t&&this.replace(t)};St.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},St.prototype.update=function(e,r){for(var n=this,o=0,a=e;o<a.length;o+=1){var s=a[o];n._layerConfigs[s.id]=s;var A=n._layers[s.id]=t.createStyleLayer(s);A._featureFilter=t.featureFilter(A.filter)}for(var l=0,u=r;l<u.length;l+=1){var c=u[l];delete n._layerConfigs[c],delete n._layers[c]}this.familiesBySource={};for(var h=0,p=function(t){for(var e={},r=0;r<t.length;r++){var n=i(t[r]),o=e[n];o||(o=e[n]=[]),o.push(t[r])}var a=[];for(var s in e)a.push(e[s]);return a}(t.values(this._layerConfigs));h<p.length;h+=1){var f=p[h].map(function(t){return n._layers[t.id]}),d=f[0];if("none"!==d.visibility){var m=d.source||"",y=n.familiesBySource[m];y||(y=n.familiesBySource[m]={});var g=d.sourceLayer||"_geojsonTileLayer",_=y[g];_||(_=y[g]=[]),_.push(f)}}};var kt=function(e,i,r,n,o,a,s,A,l,u,c,h){var p=s.top*A-l,f=s.bottom*A+l,d=s.left*A-l,m=s.right*A+l;if(this.boxStartIndex=e.length,u){var y=f-p,g=m-d;y>0&&(y=Math.max(10*A,y),this._addLineCollisionCircles(e,i,r,r.segment,g,y,n,o,a,c))}else{if(h){var _=new t.Point(d,p),v=new t.Point(m,p),x=new t.Point(d,f),b=new t.Point(m,f),w=h*Math.PI/180;_._rotate(w),v._rotate(w),x._rotate(w),b._rotate(w),d=Math.min(_.x,v.x,x.x,b.x),m=Math.max(_.x,v.x,x.x,b.x),p=Math.min(_.y,v.y,x.y,b.y),f=Math.max(_.y,v.y,x.y,b.y)}e.emplaceBack(r.x,r.y,d,p,m,f,n,o,a,0,0)}this.boxEndIndex=e.length};kt.prototype._addLineCollisionCircles=function(t,e,i,r,n,o,a,s,A,l){var u=o/2,c=Math.floor(n/u)||1,h=1+.4*Math.log(l)/Math.LN2,p=Math.floor(c*h/2),f=-o/2,d=i,m=r+1,y=f,g=-n/2,_=g-n/4;do{if(--m<0){if(y>g)return;m=0;break}y-=e[m].dist(d),d=e[m]}while(y>_);for(var v=e[m].dist(e[m+1]),x=-p;x<c+p;x++){var b=x*u,w=g+b;if(b<0&&(w+=b),b>n&&(w+=b-n),!(w<y)){for(;y+v<w;){if(y+=v,++m+1>=e.length)return;v=e[m].dist(e[m+1])}var E=w-y,T=e[m],S=e[m+1].sub(T)._unit()._mult(E)._add(T)._round(),k=Math.abs(w-f)<u?0:.8*(w-f);t.emplaceBack(S.x,S.y,-o/2,-o/2,o/2,o/2,a,s,A,o/2,k)}}};var Ct=l,Pt=l;l.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,i=this.compare,r=e[t];t>0;){var n=t-1>>1,o=e[n];if(i(r,o)>=0)break;e[t]=o,t=n}e[t]=r},_down:function(t){for(var e=this.data,i=this.compare,r=this.length>>1,n=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&i(e[a],s)<0&&(o=a,s=e[a]),i(s,n)>=0)break;e[t]=s,t=o}e[t]=n}},Ct.default=Pt;var Mt=t.createCommonjsModule(function(t){t.exports=function(t,e){var i,r,n,o,a,s,A,l;for(i=3&t.length,r=t.length-i,n=e,a=3432918353,s=461845907,l=0;l<r;)A=255&t.charCodeAt(l)|(255&t.charCodeAt(++l))<<8|(255&t.charCodeAt(++l))<<16|(255&t.charCodeAt(++l))<<24,++l,n=27492+(65535&(o=5*(65535&(n=(n^=A=(65535&(A=(A=(65535&A)*a+(((A>>>16)*a&65535)<<16)&4294967295)<<15|A>>>17))*s+(((A>>>16)*s&65535)<<16)&4294967295)<<13|n>>>19))+((5*(n>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(A=0,i){case 3:A^=(255&t.charCodeAt(l+2))<<16;case 2:A^=(255&t.charCodeAt(l+1))<<8;case 1:n^=A=(65535&(A=(A=(65535&(A^=255&t.charCodeAt(l)))*a+(((A>>>16)*a&65535)<<16)&4294967295)<<15|A>>>17))*s+(((A>>>16)*s&65535)<<16)&4294967295}return n^=t.length,n=2246822507*(65535&(n^=n>>>16))+((2246822507*(n>>>16)&65535)<<16)&4294967295,n=3266489909*(65535&(n^=n>>>13))+((3266489909*(n>>>16)&65535)<<16)&4294967295,(n^=n>>>16)>>>0}}),It=t.createCommonjsModule(function(t){t.exports=function(t,e){for(var i,r=t.length,n=e^r,o=0;r>=4;)i=1540483477*(65535&(i=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(i>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:n^=(255&t.charCodeAt(o+2))<<16;case 2:n^=(255&t.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(o)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0}}),zt=Mt,Bt=Mt,Dt=It;zt.murmur3=Bt,zt.murmur2=Dt;var Lt=65535,Rt=function(e){var i={},r=[];for(var n in e){var o=e[n],a=i[n]={};for(var s in o){var A=o[+s];if(A&&0!==A.bitmap.width&&0!==A.bitmap.height){var l={x:0,y:0,w:A.bitmap.width+2,h:A.bitmap.height+2};r.push(l),a[s]={rect:l,metrics:A.metrics}}}}var u=t.potpack(r),c=u.w,h=u.h,p=new t.AlphaImage({width:c||1,height:h||1});for(var f in e){var d=e[f];for(var m in d){var y=d[+m];if(y&&0!==y.bitmap.width&&0!==y.bitmap.height){var g=i[f][m].rect;t.AlphaImage.copy(y.bitmap,p,{x:0,y:0},{x:g.x+1,y:g.y+1},y.bitmap)}}}this.image=p,this.positions=i};t.register("GlyphAtlas",Rt);var Ot=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies};Ot.prototype.parse=function(e,i,r,n){function o(){if(l)return n(l);if(u&&c&&h){var e=new Rt(u),i=new t.ImageAtlas(c,h);for(var r in p){var o=p[r];o instanceof t.SymbolBucket?(g(o.layers,this.zoom),f(o,u,e.positions,c,i.iconPositions,this.showCollisionBoxes)):o.hasPattern&&(o instanceof t.LineBucket||o instanceof t.FillBucket||o instanceof t.FillExtrusionBucket)&&(g(o.layers,this.zoom),o.addFeatures(d,i.patternPositions))}this.status="done",n(null,{buckets:t.values(p).filter(function(t){return!t.isEmpty()}),featureIndex:A,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:i,glyphMap:this.returnDependencies?u:null,iconMap:this.returnDependencies?c:null,glyphPositions:this.returnDependencies?e.positions:null})}}var a=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var s=new t.DictionaryCoder(Object.keys(e.layers).sort()),A=new t.FeatureIndex(this.tileID);A.bucketLayerIDs=[];var l,u,c,h,p={},d={featureIndex:A,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},m=i.familiesBySource[this.source];for(var y in m){var _=e.layers[y];if(_){1===_.version&&t.warnOnce('Vector tile source "'+a.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var v=s.encode(y),x=[],b=0;b<_.length;b++){var w=_.feature(b);x.push({feature:w,index:b,sourceLayerIndex:v})}for(var E=0,T=m[y];E<T.length;E+=1){var S=T[E],k=S[0];k.minzoom&&a.zoom<Math.floor(k.minzoom)||k.maxzoom&&a.zoom>=k.maxzoom||"none"!==k.visibility&&(g(S,a.zoom),(p[k.id]=k.createBucket({index:A.bucketLayerIDs.length,layers:S,zoom:a.zoom,pixelRatio:a.pixelRatio,overscaling:a.overscaling,collisionBoxArray:a.collisionBoxArray,sourceLayerIndex:v,sourceID:a.source})).populate(x,d),A.bucketLayerIDs.push(S.map(function(t){return t.id})))}}}var C=t.mapObject(d.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(C).length?r.send("getGlyphs",{uid:this.uid,stacks:C},function(t,e){l||(l=t,u=e,o.call(a))}):u={};var P=Object.keys(d.iconDependencies);P.length?r.send("getImages",{icons:P},function(t,e){l||(l=t,c=e,o.call(a))}):c={};var M=Object.keys(d.patternDependencies);M.length?r.send("getImages",{icons:M},function(t,e){l||(l=t,h=e,o.call(a))}):h={},o.call(this)};var Ft="undefined"!=typeof performance,Ut={getEntriesByName:function(t){return!!(Ft&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(t)},mark:function(t){return!!(Ft&&performance&&performance.mark)&&performance.mark(t)},measure:function(t,e,i){return!!(Ft&&performance&&performance.measure)&&performance.measure(t,e,i)},clearMarks:function(t){return!!(Ft&&performance&&performance.clearMarks)&&performance.clearMarks(t)},clearMeasures:function(t){return!!(Ft&&performance&&performance.clearMeasures)&&performance.clearMeasures(t)}},Vt=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},Ut.mark(this._marks.start)};Vt.prototype.finish=function(){Ut.mark(this._marks.end);var t=Ut.getEntriesByName(this._marks.measure);return 0===t.length&&(Ut.measure(this._marks.measure,this._marks.start,this._marks.end),t=Ut.getEntriesByName(this._marks.measure),Ut.clearMarks(this._marks.start),Ut.clearMarks(this._marks.end),Ut.clearMeasures(this._marks.measure)),t},Ut.Performance=Vt;var Nt=function(t,e,i){this.actor=t,this.layerIndex=e,this.loadVectorData=i||_,this.loading={},this.loaded={}};Nt.prototype.loadTile=function(e,i){var r=this,n=e.uid;this.loading||(this.loading={});var o=!!(e&&e.request&&e.request.collectResourceTiming)&&new Ut.Performance(e.request),a=this.loading[n]=new Ot(e);a.abort=this.loadVectorData(e,function(e,s){if(delete r.loading[n],e||!s)return a.status="done",r.loaded[n]=a,i(e);var A=s.rawData,l={};s.expires&&(l.expires=s.expires),s.cacheControl&&(l.cacheControl=s.cacheControl);var u={};if(o){var c=o.finish();c&&(u.resourceTiming=JSON.parse(JSON.stringify(c)))}a.vectorTile=s.vectorTile,a.parse(s.vectorTile,r.layerIndex,r.actor,function(e,r){if(e||!r)return i(e);i(null,t.extend({rawTileData:A.slice(0)},r,l,u))}),r.loaded=r.loaded||{},r.loaded[n]=a})},Nt.prototype.reloadTile=function(t,e){var i=this.loaded,r=t.uid,n=this;if(i&&i[r]){var o=i[r];o.showCollisionBoxes=t.showCollisionBoxes;var a=function(t,i){var r=o.reloadCallback;r&&(delete o.reloadCallback,o.parse(o.vectorTile,n.layerIndex,n.actor,r)),e(t,i)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.actor,a):a())}},Nt.prototype.abortTile=function(t,e){var i=this.loading,r=t.uid;i&&i[r]&&i[r].abort&&(i[r].abort(),delete i[r]),e()},Nt.prototype.removeTile=function(t,e){var i=this.loaded,r=t.uid;i&&i[r]&&delete i[r],e()};var jt=function(){this.loaded={}};jt.prototype.loadTile=function(e,i){var r=e.uid,n=e.encoding,o=e.rawImageData,a=new t.DEMData(r,o,n);this.loaded=this.loaded||{},this.loaded[r]=a,i(null,a)},jt.prototype.removeTile=function(t){var e=this.loaded,i=t.uid;e&&e[i]&&delete e[i]};var qt={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142},Gt={geometry:function t(e){var i,r=0;switch(e.type){case"Polygon":return v(e.coordinates);case"MultiPolygon":for(i=0;i<e.coordinates.length;i++)r+=v(e.coordinates[i]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(i=0;i<e.geometries.length;i++)r+=t(e.geometries[i]);return r}},ring:x},Qt=function t(e,i){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(w(t,i)),e;case"Feature":return e.geometry=t(e.geometry,i),e;case"Polygon":case"MultiPolygon":return function(t,e){return"Polygon"===t.type?t.coordinates=E(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(w(E,e))),t}(e,i);default:return e}},Ht=t.mvt.VectorTileFeature.prototype.toGeoJSON,Zt=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};Zt.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],i=0,r=this._feature.geometry;i<r.length;i+=1){var n=r[i];e.push([new t.Point(n[0],n[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var A=[],l=0,u=s[a];l<u.length;l+=1){var c=u[l];A.push(new t.Point(c[0],c[1]))}o.push(A)}return o},Zt.prototype.toGeoJSON=function(t,e,i){return Ht.call(this,t,e,i)};var Xt=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};Xt.prototype.feature=function(t){return new Zt(this._features[t])};var Wt=t.vectorTile.VectorTileFeature,Yt=S;S.prototype.feature=function(t){return new k(this.features[t],this.options.extent)},k.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var i=0;i<e.length;i++){for(var r=e[i],n=[],o=0;o<r.length;o++)n.push(new t.Point$1(r[o][0],r[o][1]));this.geometry.push(n)}return this.geometry},k.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-1/0,r=1/0,n=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var A=a[s];e=Math.min(e,A.x),i=Math.max(i,A.x),r=Math.min(r,A.y),n=Math.max(n,A.y)}return[e,r,i,n]},k.prototype.toGeoJSON=Wt.prototype.toGeoJSON;var Kt=C,Jt=C,$t=function(t,e){e=e||{};var i={};for(var r in t)i[r]=new Yt(t[r].features,e),i[r].name=r,i[r].version=e.version,i[r].extent=e.extent;return C({layers:i})},te=Yt;Kt.fromVectorTileJs=Jt,Kt.fromGeojsonVt=$t,Kt.GeoJSONWrapper=te,N.prototype={range:function(t,e,i,r){return function(t,e,i,r,n,o,a){for(var s,A,l=[0,t.length-1,0],u=[];l.length;){var c=l.pop(),h=l.pop(),p=l.pop();if(h-p<=a)for(var f=p;f<=h;f++)s=e[2*f],A=e[2*f+1],s>=i&&s<=n&&A>=r&&A<=o&&u.push(t[f]);else{var d=Math.floor((p+h)/2);s=e[2*d],A=e[2*d+1],s>=i&&s<=n&&A>=r&&A<=o&&u.push(t[d]);var m=(c+1)%2;(0===c?i<=s:r<=A)&&(l.push(p),l.push(d-1),l.push(m)),(0===c?n>=s:o>=A)&&(l.push(d+1),l.push(h),l.push(m))}}return u}(this.ids,this.coords,t,e,i,r,this.nodeSize)},within:function(t,e,i){return function(t,e,i,r,n,o){for(var a=[0,t.length-1,0],s=[],A=n*n;a.length;){var l=a.pop(),u=a.pop(),c=a.pop();if(u-c<=o)for(var h=c;h<=u;h++)U(e[2*h],e[2*h+1],i,r)<=A&&s.push(t[h]);else{var p=Math.floor((c+u)/2),f=e[2*p],d=e[2*p+1];U(f,d,i,r)<=A&&s.push(t[p]);var m=(l+1)%2;(0===l?i-n<=f:r-n<=d)&&(a.push(c),a.push(p-1),a.push(m)),(0===l?i+n>=f:r+n>=d)&&(a.push(p+1),a.push(u),a.push(m))}}return s}(this.ids,this.coords,t,e,i,this.nodeSize)}},G.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var i="prepare "+t.length+" points";e&&console.time(i),this.points=t;for(var r,n,o,a=[],s=0;s<t.length;s++)t[s].geometry&&a.push((r=t[s],n=s,{x:X((o=r.geometry.coordinates)[0]),y:W(o[1]),zoom:1/0,index:n,parentId:-1}));this.trees[this.options.maxZoom+1]=V(a,K,J,this.options.nodeSize,Float32Array),e&&console.timeEnd(i);for(var A=this.options.maxZoom;A>=this.options.minZoom;A--){var l=+Date.now();a=this._cluster(a,A),this.trees[A]=V(a,K,J,this.options.nodeSize,Float32Array),e&&console.log("z%d: %d clusters in %dms",A,a.length,+Date.now()-l)}return e&&console.timeEnd("total time"),this},getClusters:function(t,e){var i=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),n=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)i=-180,n=180;else if(i>n){var a=this.getClusters([i,r,180,o],e),s=this.getClusters([-180,r,n,o],e);return a.concat(s)}for(var A=this.trees[this._limitZoom(e)],l=A.range(X(i),W(o),X(n),W(r)),u=[],c=0;c<l.length;c++){var h=A.points[l[c]];u.push(h.numPoints?H(h):this.points[h.index])}return u},getChildren:function(t){var e=t>>5,i=t%32,r="No cluster with the specified id.",n=this.trees[i];if(!n)throw new Error(r);var o=n.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,i-1)),s=n.within(o.x,o.y,a),A=[],l=0;l<s.length;l++){var u=n.points[s[l]];u.parentId===t&&A.push(u.numPoints?H(u):this.points[u.index])}if(0===A.length)throw new Error(r);return A},getLeaves:function(t,e,i){e=e||10,i=i||0;var r=[];return this._appendLeaves(r,t,e,i,0),r},getTile:function(t,e,i){var r=this.trees[this._limitZoom(t)],n=Math.pow(2,t),o=this.options.extent,a=this.options.radius/o,s=(i-a)/n,A=(i+1+a)/n,l={features:[]};return this._addTileFeatures(r.range((e-a)/n,s,(e+1+a)/n,A),r.points,e,i,n,l),0===e&&this._addTileFeatures(r.range(1-a/n,s,1,A),r.points,n,i,n,l),e===n-1&&this._addTileFeatures(r.range(0,s,a/n,A),r.points,-1,i,n,l),l.features.length?l:null},getClusterExpansionZoom:function(t){for(var e=t%32-1;e<this.options.maxZoom;){var i=this.getChildren(t);if(e++,1!==i.length)break;t=i[0].properties.cluster_id}return e},_appendLeaves:function(t,e,i,r,n){for(var o=this.getChildren(e),a=0;a<o.length;a++){var s=o[a].properties;if(s&&s.cluster?n+s.point_count<=r?n+=s.point_count:n=this._appendLeaves(t,s.cluster_id,i,r,n):n<r?n++:t.push(o[a]),t.length===i)break}return n},_addTileFeatures:function(t,e,i,r,n,o){for(var a=0;a<t.length;a++){var s=e[t[a]],A={type:1,geometry:[[Math.round(this.options.extent*(s.x*n-i)),Math.round(this.options.extent*(s.y*n-r))]],tags:s.numPoints?Z(s):this.points[s.index].properties},l=s.numPoints?s.id:this.points[s.index].id;void 0!==l&&(A.id=l),o.features.push(A)}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var i=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),n=0;n<t.length;n++){var o=t[n];if(!(o.zoom<=e)){o.zoom=e;var a=this.trees[e+1],s=a.within(o.x,o.y,r),A=o.numPoints||1,l=o.x*A,u=o.y*A,c=null;this.options.reduce&&(c=this.options.initial(),this._accumulate(c,o));for(var h=(n<<5)+(e+1),p=0;p<s.length;p++){var f=a.points[s[p]];if(!(f.zoom<=e)){f.zoom=e;var d=f.numPoints||1;l+=f.x*d,u+=f.y*d,A+=d,f.parentId=h,this.options.reduce&&this._accumulate(c,f)}}1===A?i.push(o):(o.parentId=h,i.push(Q(l/A,u/A,h,A,c)))}}return i},_accumulate:function(t,e){var i=e.numPoints?e.properties:this.options.map(this.points[e.index].properties);this.options.reduce(t,i)}},wt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},wt.prototype.splitTile=function(t,e,i,r,n,o,a){for(var s=[t,e,i,r],A=this.options,l=A.debug;s.length;){r=s.pop(),i=s.pop(),e=s.pop(),t=s.pop();var u=1<<e,c=Et(e,i,r),h=this.tiles[c];if(!h&&(l>1&&console.time("creation"),h=this.tiles[c]=vt(t,e,i,r,A),this.tileCoords.push({z:e,x:i,y:r}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,i,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var p="z"+e;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=t,n){if(e===A.maxZoom||e===n)continue;var f=1<<n-e;if(i!==Math.floor(o/f)||r!==Math.floor(a/f))continue}else if(e===A.indexMaxZoom||h.numPoints<=A.indexMaxPoints)continue;if(h.source=null,0!==t.length){l>1&&console.time("clipping");var d,m,y,g,_,v,x=.5*A.buffer/A.extent,b=.5-x,w=.5+x,E=1+x;d=m=y=g=null,_=At(t,u,i-x,i+w,0,h.minX,h.maxX,A),v=At(t,u,i+b,i+E,0,h.minX,h.maxX,A),t=null,_&&(d=At(_,u,r-x,r+w,1,h.minY,h.maxY,A),m=At(_,u,r+b,r+E,1,h.minY,h.maxY,A),_=null),v&&(y=At(v,u,r-x,r+w,1,h.minY,h.maxY,A),g=At(v,u,r+b,r+E,1,h.minY,h.maxY,A),v=null),l>1&&console.timeEnd("clipping"),s.push(d||[],e+1,2*i,2*r),s.push(m||[],e+1,2*i,2*r+1),s.push(y||[],e+1,2*i+1,2*r),s.push(g||[],e+1,2*i+1,2*r+1)}}},wt.prototype.getTile=function(t,e,i){var r=this.options,n=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=Et(t,e=(e%a+a)%a,i);if(this.tiles[s])return gt(this.tiles[s],n);o>1&&console.log("drilling down to z%d-%d-%d",t,e,i);for(var A,l=t,u=e,c=i;!A&&l>0;)l--,u=Math.floor(u/2),c=Math.floor(c/2),A=this.tiles[Et(l,u,c)];return A&&A.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,u,c),o>1&&console.time("drilling down"),this.splitTile(A.source,l,u,c,t,e,i),o>1&&console.timeEnd("drilling down"),this.tiles[s]?gt(this.tiles[s],n):null):null};var ee=function(e){function i(t,i,r){e.call(this,t,i,Tt),r&&(this.loadGeoJSON=r)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},i.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var e=this._pendingCallback,i=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var r=!!(i&&i.request&&i.request.collectResourceTiming)&&new Ut.Performance(i.request);this.loadGeoJSON(i,function(n,o){if(n||!o)return e(n);if("object"!=typeof o)return e(new Error("Input data is not a valid GeoJSON object."));Qt(o,!0);try{t._geoJSONIndex=i.cluster?(a=i.superclusterOptions,new G(a)).load(o.features):function(t,e){return new wt(t,e)}(o,i.geojsonVtOptions)}catch(n){return e(n)}t.loaded={};var a,s={};if(r){var A=r.finish();A&&(s.resourceTiming={},s.resourceTiming[i.source]=JSON.parse(JSON.stringify(A)))}e(null,s)})}},i.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},i.prototype.reloadTile=function(t,i){var r=this.loaded,n=t.uid;return r&&r[n]?e.prototype.reloadTile.call(this,t,i):this.loadTile(t,i)},i.prototype.loadGeoJSON=function(e,i){if(e.request)t.getJSON(e.request,i);else{if("string"!=typeof e.data)return i(new Error("Input data is not a valid GeoJSON object."));try{return i(null,JSON.parse(e.data))}catch(t){return i(new Error("Input data is not a valid GeoJSON object."))}}},i.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},i.prototype.getClusterExpansionZoom=function(t,e){e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))},i.prototype.getClusterChildren=function(t,e){e(null,this._geoJSONIndex.getChildren(t.clusterId))},i.prototype.getClusterLeaves=function(t,e){e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))},i}(Nt),ie=function(e){var i=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.workerSourceTypes={vector:Nt,geojson:ee},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(i.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');i.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isLoaded())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return ie.prototype.setReferrer=function(t,e){this.referrer=e},ie.prototype.setLayers=function(t,e,i){this.getLayerIndex(t).replace(e),i()},ie.prototype.updateLayers=function(t,e,i){this.getLayerIndex(t).update(e.layers,e.removedIds),i()},ie.prototype.loadTile=function(t,e,i){this.getWorkerSource(t,e.type,e.source).loadTile(e,i)},ie.prototype.loadDEMTile=function(t,e,i){this.getDEMWorkerSource(t,e.source).loadTile(e,i)},ie.prototype.reloadTile=function(t,e,i){this.getWorkerSource(t,e.type,e.source).reloadTile(e,i)},ie.prototype.abortTile=function(t,e,i){this.getWorkerSource(t,e.type,e.source).abortTile(e,i)},ie.prototype.removeTile=function(t,e,i){this.getWorkerSource(t,e.type,e.source).removeTile(e,i)},ie.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},ie.prototype.removeSource=function(t,e,i){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,i):i()}},ie.prototype.loadWorkerSource=function(t,e,i){try{this.self.importScripts(e.url),i()}catch(t){i(t.toString())}},ie.prototype.loadRTLTextPlugin=function(e,i,r){try{t.plugin.isLoaded()||(this.self.importScripts(i),r(t.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+i)))}catch(t){r(t.toString())}},ie.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new St),e},ie.prototype.getWorkerSource=function(t,e,i){var r=this;if(this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),!this.workerSources[t][e][i]){var n={send:function(e,i,n){r.actor.send(e,i,n,t)}};this.workerSources[t][e][i]=new this.workerSourceTypes[e](n,this.getLayerIndex(t))}return this.workerSources[t][e][i]},ie.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new jt),this.demWorkerSources[t][e]},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new ie(self)),ie}),t(["./shared.js"],function(t){function e(t){if(!ct)return null;for(var e=0;e<t.length;e++)if(t[e]in ct)return t[e];return t[0]}function i(t,e,i,r,n,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=n||"sans-serif",this.fontWeight=o||"normal",this.radius=i||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function r(t,e,i,r,o,a,s){for(var A=0;A<e;A++){for(var l=0;l<i;l++)r[l]=t[l*e+A];for(n(r,o,a,s,i),l=0;l<i;l++)t[l*e+A]=o[l]}for(l=0;l<i;l++){for(A=0;A<e;A++)r[A]=t[l*e+A];for(n(r,o,a,s,e),A=0;A<e;A++)t[l*e+A]=Math.sqrt(o[A])}}function n(t,e,i,r,n){i[0]=0,r[0]=-_t,r[1]=+_t;for(var o=1,a=0;o<n;o++){for(var s=(t[o]+o*o-(t[i[a]]+i[a]*i[a]))/(2*o-2*i[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[i[a]]+i[a]*i[a]))/(2*o-2*i[a]);i[++a]=o,r[a]=s,r[a+1]=+_t}for(o=0,a=0;o<n;o++){for(;r[a+1]<o;)a++;e[o]=(o-i[a])*(o-i[a])+t[i[a]]}}function o(e,i,r){var n=function(e,i){if(e)return r(e);if(i){var n=t.pick(i,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);i.vector_layers&&(n.vectorLayers=i.vector_layers,n.vectorLayerIds=n.vectorLayers.map(function(t){return t.id})),r(null,n)}};return e.url?t.getJSON(i(t.normalizeSourceURL(e.url),t.ResourceType.Source),n):t.browser.frame(function(){return n(null,e)})}function a(t,e,i,r,n){
var o=n.maxPitchScaleFactor(),a=t.tilesIn(i,o);a.sort(s);for(var A=[],l=0,u=a;l<u.length;l+=1){var c=u[l];A.push({wrappedTileID:c.tileID.wrapped().key,queryResults:c.tile.queryRenderedFeatures(e,t._state,c.queryGeometry,c.scale,r,n,o,t.transform.calculatePosMatrix(c.tileID.toUnwrapped()))})}var h=function(t){for(var e={},i={},r=0,n=t;r<n.length;r+=1){var o=n[r],a=o.queryResults,s=o.wrappedTileID,A=i[s]=i[s]||{};for(var l in a)for(var u=a[l],c=A[l]=A[l]||{},h=e[l]=e[l]||[],p=0,f=u;p<f.length;p+=1){var d=f[p];c[d.featureIndex]||(c[d.featureIndex]=!0,h.push(d.feature))}}return e}(A);for(var p in h)h[p].forEach(function(e){var i=t.getFeatureState(e.layer["source-layer"],e.id);e.source=e.layer.source,e.layer["source-layer"]&&(e.sourceLayer=e.layer["source-layer"]),e.state=i});return h}function s(t,e){var i=t.tileID,r=e.tileID;return i.overscaledZ-r.overscaledZ||i.canonical.y-r.canonical.y||i.wrap-r.wrap||i.canonical.x-r.canonical.x}function A(t,e){return t%32-e%32||e-t}function l(t){return"raster"===t||"image"===t||"video"===t}function u(){return new t.window.Worker(Wr.workerUrl)}function c(e,i){var r={};for(var n in e)"ref"!==n&&(r[n]=e[n]);return t.refProperties.forEach(function(t){t in i&&(r[t]=i[t])}),r}function h(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=c(t[r],e[t[r].ref]));return t}function p(t,e,i){i.push({command:Ie.addSource,args:[t,e[t]]})}function f(t,e,i){e.push({command:Ie.removeSource,args:[t]}),i[t]=!0}function d(t,e,i,r){f(t,i,r),p(t,e,i)}function m(e,i,r){var n;for(n in e[r])if(e[r].hasOwnProperty(n)&&"data"!==n&&!t.isEqual(e[r][n],i[r][n]))return!1;for(n in i[r])if(i[r].hasOwnProperty(n)&&"data"!==n&&!t.isEqual(e[r][n],i[r][n]))return!1;return!0}function y(e,i,r,n,o,a){var s;for(s in i=i||{},e=e||{})e.hasOwnProperty(s)&&(t.isEqual(e[s],i[s])||r.push({command:a,args:[n,s,i[s],o]}));for(s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.isEqual(e[s],i[s])||r.push({command:a,args:[n,s,i[s],o]}))}function g(t){return t.id}function _(t,e){return t[e.id]=e,t}function v(e,i){if(!e)return[{command:Ie.setStyle,args:[i]}];var r=[];try{if(!t.isEqual(e.version,i.version))return[{command:Ie.setStyle,args:[i]}];t.isEqual(e.center,i.center)||r.push({command:Ie.setCenter,args:[i.center]}),t.isEqual(e.zoom,i.zoom)||r.push({command:Ie.setZoom,args:[i.zoom]}),t.isEqual(e.bearing,i.bearing)||r.push({command:Ie.setBearing,args:[i.bearing]}),t.isEqual(e.pitch,i.pitch)||r.push({command:Ie.setPitch,args:[i.pitch]}),t.isEqual(e.sprite,i.sprite)||r.push({command:Ie.setSprite,args:[i.sprite]}),t.isEqual(e.glyphs,i.glyphs)||r.push({command:Ie.setGlyphs,args:[i.glyphs]}),t.isEqual(e.transition,i.transition)||r.push({command:Ie.setTransition,args:[i.transition]}),t.isEqual(e.light,i.light)||r.push({command:Ie.setLight,args:[i.light]});var n={},o=[];!function(e,i,r,n){var o;for(o in i=i||{},e=e||{})e.hasOwnProperty(o)&&(i.hasOwnProperty(o)||f(o,r,n));for(o in i)i.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.isEqual(e[o],i[o])||("geojson"===e[o].type&&"geojson"===i[o].type&&m(e,i,o)?r.push({command:Ie.setGeoJSONSourceData,args:[o,i[o].data]}):d(o,i,r,n)):p(o,i,r))}(e.sources,i.sources,o,n);var a=[];e.layers&&e.layers.forEach(function(t){n[t.source]?r.push({command:Ie.removeLayer,args:[t.id]}):a.push(t)}),r=r.concat(o),function(e,i,r){i=i||[];var n,o,a,s,A,l,u,c=(e=e||[]).map(g),h=i.map(g),p=e.reduce(_,{}),f=i.reduce(_,{}),d=c.slice(),m=Object.create(null);for(n=0,o=0;n<c.length;n++)a=c[n],f.hasOwnProperty(a)?o++:(r.push({command:Ie.removeLayer,args:[a]}),d.splice(d.indexOf(a,o),1));for(n=0,o=0;n<h.length;n++)a=h[h.length-1-n],d[d.length-1-n]!==a&&(p.hasOwnProperty(a)?(r.push({command:Ie.removeLayer,args:[a]}),d.splice(d.lastIndexOf(a,d.length-o),1)):o++,l=d[d.length-n],r.push({command:Ie.addLayer,args:[f[a],l]}),d.splice(d.length-n,0,a),m[a]=!0);for(n=0;n<h.length;n++)if(s=p[a=h[n]],A=f[a],!m[a]&&!t.isEqual(s,A))if(t.isEqual(s.source,A.source)&&t.isEqual(s["source-layer"],A["source-layer"])&&t.isEqual(s.type,A.type)){for(u in y(s.layout,A.layout,r,a,null,Ie.setLayoutProperty),y(s.paint,A.paint,r,a,null,Ie.setPaintProperty),t.isEqual(s.filter,A.filter)||r.push({command:Ie.setFilter,args:[a,A.filter]}),t.isEqual(s.minzoom,A.minzoom)&&t.isEqual(s.maxzoom,A.maxzoom)||r.push({command:Ie.setLayerZoomRange,args:[a,A.minzoom,A.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?y(s[u],A[u],r,a,u.slice(6),Ie.setPaintProperty):t.isEqual(s[u],A[u])||r.push({command:Ie.setLayerProperty,args:[a,u,A[u]]}));for(u in A)A.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?y(s[u],A[u],r,a,u.slice(6),Ie.setPaintProperty):t.isEqual(s[u],A[u])||r.push({command:Ie.setLayerProperty,args:[a,u,A[u]]}))}else r.push({command:Ie.removeLayer,args:[a]}),l=d[d.lastIndexOf(a)+1],r.push({command:Ie.addLayer,args:[A,l]})}(a,i.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:Ie.setStyle,args:[i]}]}return r}function x(e,i,r,n,o){var a=t.identity(new Float32Array(16));return i?(t.identity(a),t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,n.angle)):(t.scale(a,a,[n.width/2,-n.height/2,1]),t.translate(a,a,[1,-1,0]),t.multiply(a,a,e)),a}function b(e,i,r,n,o){var a=t.identity(new Float32Array(16));return i?(t.multiply(a,a,e),t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-n.angle)):(t.scale(a,a,[1,-1,1]),t.translate(a,a,[-1,-1,0]),t.scale(a,a,[2/n.width,2/n.height,1])),a}function w(e,i){var r=[e.x,e.y,0,1];z(r,r,i);var n=r[3];return{point:new t.Point(r[0]/n,r[1]/n),signedDistanceFromCamera:n}}function E(t,e){var i=t[0]/t[3],r=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&r>=-e[1]&&r<=e[1]}function T(e,i,r,n,o,a,s,A){var l=n?e.textSizeData:e.iconSizeData,u=t.evaluateSizeForZoom(l,r.transform.zoom,Be.properties[n?"text-size":"icon-size"]),c=[256/r.width*2+1,256/r.height*2+1],h=n?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;h.clear();for(var p=e.lineVertexArray,f=n?e.text.placedSymbolArray:e.icon.placedSymbolArray,d=r.transform.width/r.transform.height,m=!1,y=0;y<f.length;y++){var g=f.get(y);if(g.hidden||g.writingMode===t.WritingMode.vertical&&!m)I(g.numGlyphs,h);else{m=!1;var _=[g.anchorX,g.anchorY,0,1];if(t.transformMat4(_,_,i),E(_,c)){var v=.5+_[3]/r.transform.cameraToCenterDistance*.5,x=t.evaluateSizeForFeature(l,u,g),b=s?x*v:x/v,T=new t.Point(g.anchorX,g.anchorY),S=w(T,o).point,k={},P=C(g,b,!1,A,i,o,a,e.glyphOffsetArray,p,h,S,T,k,d);m=P.useVertical,(P.notEnoughRoom||m||P.needsFlipping&&C(g,b,!0,A,i,o,a,e.glyphOffsetArray,p,h,S,T,k,d).notEnoughRoom)&&I(g.numGlyphs,h)}else I(g.numGlyphs,h)}}n?e.text.dynamicLayoutVertexBuffer.updateData(h):e.icon.dynamicLayoutVertexBuffer.updateData(h)}function S(t,e,i,r,n,o,a,s,A,l,u,c){var h=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,d=e.getoffsetX(s.glyphStartIndex),m=e.getoffsetX(h-1),y=M(t*d,i,r,n,o,a,s.segment,p,f,A,l,u,c);if(!y)return null;var g=M(t*m,i,r,n,o,a,s.segment,p,f,A,l,u,c);return g?{first:y,last:g}:null}function k(e,i,r,n){return e===t.WritingMode.horizontal&&Math.abs(r.y-i.y)>Math.abs(r.x-i.x)*n?{useVertical:!0}:(e===t.WritingMode.vertical?i.y<r.y:i.x>r.x)?{needsFlipping:!0}:null}function C(e,i,r,n,o,a,s,A,l,u,c,h,p,f){var d,m=i/24,y=e.lineOffsetX*i,g=e.lineOffsetY*i;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,v=e.lineStartIndex,x=e.lineStartIndex+e.lineLength,b=S(m,A,y,g,r,c,h,e,l,a,p,!1);if(!b)return{notEnoughRoom:!0};var E=w(b.first.point,s).point,T=w(b.last.point,s).point;if(n&&!r){var C=k(e.writingMode,E,T,f);if(C)return C}d=[b.first];for(var I=e.glyphStartIndex+1;I<_-1;I++)d.push(M(m*A.getoffsetX(I),y,g,r,c,h,e.segment,v,x,l,a,p,!1));d.push(b.last)}else{if(n&&!r){var z=w(h,o).point,B=e.lineStartIndex+e.segment+1,D=new t.Point(l.getx(B),l.gety(B)),L=w(D,o),R=L.signedDistanceFromCamera>0?L.point:P(h,D,z,1,o),O=k(e.writingMode,z,R,f);if(O)return O}var F=M(m*A.getoffsetX(e.glyphStartIndex),y,g,r,c,h,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,a,p,!1);if(!F)return{notEnoughRoom:!0};d=[F]}for(var U=0,V=d;U<V.length;U+=1){var N=V[U];t.addDynamicAttributes(u,N.point,N.angle)}return{}}function P(t,e,i,r,n){var o=w(t.add(t.sub(e)._unit()),n).point,a=i.sub(o);return i.add(a._mult(r/a.mag()))}function M(e,i,r,n,o,a,s,A,l,u,c,h,p){var f=n?e-i:e+i,d=f>0?1:-1,m=0;n&&(d*=-1,m=Math.PI),d<0&&(m+=Math.PI);for(var y=d>0?A+s:A+s+1,g=y,_=o,v=o,x=0,b=0,E=Math.abs(f);x+b<=E;){if((y+=d)<A||y>=l)return null;if(v=_,void 0===(_=h[y])){var T=new t.Point(u.getx(y),u.gety(y)),S=w(T,c);if(S.signedDistanceFromCamera>0)_=h[y]=S.point;else{var k=y-d;_=P(0===x?a:new t.Point(u.getx(k),u.gety(k)),T,v,E-x+1,c)}}x+=b,b=v.dist(_)}var C=(E-x)/b,M=_.sub(v),I=M.mult(C)._add(v);return I._add(M._unit()._perp()._mult(r*d)),{point:I,angle:m+Math.atan2(_.y-v.y,_.x-v.x),tileDistance:p?{prevTileDistance:y-d===g?0:u.gettileUnitDistanceFromAnchor(y-d),lastSegmentViewportDistance:E-x}:null}}function I(t,e){for(var i=0;i<t;i++){var r=e.length;e.resize(r+4),e.float32.set(De,3*r)}}function z(t,e,i){var r=e[0],n=e[1];return t[0]=i[0]*r+i[4]*n+i[12],t[1]=i[1]*r+i[5]*n+i[13],t[3]=i[3]*r+i[7]*n+i[15],t}function B(t,e,i){t[e+4]=i?1:0}function D(e,i,r){return i*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}function L(t,e,i){t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0)}function R(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*Ne+e*je+i*qe+e*Ge+i*Qe+e*He+i*Ze+e}function O(t,e){var i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r={};return{fragmentSource:t=t.replace(i,function(t,e,i,n,o){return r[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+i+" "+n+" "+o+";\n#else\nuniform "+i+" "+n+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n"}),vertexSource:e=e.replace(i,function(t,e,i,n,o){var a="float"===n?"vec2":"vec4",s=o.match(/color/)?"color":a;return r[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+i+" "+a+" a_"+o+";\nvarying "+i+" "+n+" "+o+";\n#else\nuniform "+i+" "+n+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = a_"+o+";\n#else\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+s+"(a_"+o+", a_"+o+"_t);\n#else\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+i+" "+a+" a_"+o+";\n#else\nuniform "+i+" "+n+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+i+" "+n+" "+o+" = a_"+o+";\n#else\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+i+" "+n+" "+o+" = unpack_mix_"+s+"(a_"+o+", a_"+o+"_t);\n#else\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n"})}}function F(e,i,r){var n=1/D(r,1,i.transform.tileZoom),o=Math.pow(2,r.tileID.overscaledZ),a=r.tileSize*Math.pow(2,i.transform.tileZoom)/o,s=a*(r.tileID.canonical.x+r.tileID.wrap*o),A=a*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[t.browser.devicePixelRatio,n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,A>>16],u_pixel_coord_lower:[65535&s,65535&A]}}function U(t,e){return 1/D(t,1,e.tileZoom)}function V(t,e,i){return t.translatePosMatrix(e.tileID.posMatrix,e,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}function N(e,i){for(var r=e.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),n=0;n<r.length;n++){var o={},a=r[n],s=r.slice(n+1);j(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),o),a.setMask(o,i)}}function j(e,i,r,n,o){for(var a=0;a<r.length;a++){var s=r[a];if(n.isLessThan(s.tileID))break;if(i.key===s.tileID.key)return;if(s.tileID.isChildOf(i)){for(var A=i.children(1/0),l=0;l<A.length;l++)j(e,A[l],r.slice(a),n,o);return}}var u=i.overscaledZ-e.overscaledZ,c=new t.CanonicalTileID(u,i.canonical.x-(e.canonical.x<<u),i.canonical.y-(e.canonical.y<<u));o[c.key]=o[c.key]||c}function q(t,e,i,r,n){for(var o=t.context,a=o.gl,s=n?t.useProgram("collisionCircle"):t.useProgram("collisionBox"),A=0;A<r.length;A++){var l=r[A],u=e.getTile(l),c=u.getBucket(i);if(c){var h=n?c.collisionCircle:c.collisionBox;h&&s.draw(o,n?a.TRIANGLES:a.LINES,be.disabled,we.disabled,t.colorModeForRenderPass(),Te.disabled,Gi(l.posMatrix,t.transform,u),i.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,null,t.transform.zoom,null,null,h.collisionVertexBuffer)}}}function G(e,i,r,n,o,a,s,A,l,u,c,h){for(var p,f,d=e.context,m=d.gl,y=e.transform,g="map"===A,_="map"===l,v=g&&"point"!==r.layout.get("symbol-placement"),w=g&&!_&&!v,E=_?e.depthModeForSublayer(0,be.ReadOnly):be.disabled,S=0,k=n;S<k.length;S+=1){var C=k[S],P=i.getTile(C),M=P.getBucket(r);if(M){var I=o?M.text:M.icon;if(I&&I.segments.get().length){var z=I.programConfigurations.get(r.id),B=o||M.sdfIcons,L=o?M.textSizeData:M.iconSizeData;p||(p=e.useProgram(B?"symbolSDF":"symbolIcon",z),f=t.evaluateSizeForZoom(L,y.zoom,Ar.properties[o?"text-size":"icon-size"])),d.activeTexture.set(m.TEXTURE0);var R=void 0;if(o)P.glyphAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),R=P.glyphAtlasTexture.size;else{var O=1!==r.layout.get("icon-size").constantOr(0)||M.iconsNeedLinear,F=_||0!==y.pitch;P.imageAtlasTexture.bind(B||e.options.rotating||e.options.zooming||O||F?m.LINEAR:m.NEAREST,m.CLAMP_TO_EDGE),R=P.imageAtlasTexture.size}var U=D(P,1,e.transform.zoom),V=x(C.posMatrix,_,g,e.transform,U),N=b(C.posMatrix,_,g,e.transform,U);v&&T(M,C.posMatrix,e,o,V,N,_,u);var j=e.translatePosMatrix(C.posMatrix,P,a,s),q=v?sr:V,G=e.translatePosMatrix(N,P,a,s,!0),H=void 0;if(B){var Z=0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);H=rr(L.functionType,f,w,_,e,j,q,G,o,R,!0),Z&&Q(I,r,e,p,E,c,h,H),H.u_is_halo=0}else H=ir(L.functionType,f,w,_,e,j,q,G,o,R);Q(I,r,e,p,E,c,h,H)}}}}function Q(t,e,i,r,n,o,a,s){var A=i.context,l=A.gl;r.draw(A,l.TRIANGLES,n,o,a,Te.disabled,s,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,e.paint,i.transform.zoom,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function H(t,e,i,r,n,o,a){var s,A,l,u,c,h=t.context.gl,p=i.paint.get("fill-pattern"),f=p&&p.constantOr(1),d=i.getCrossfadeParameters();a?(A=f&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(A=f?"fillPattern":"fill",s=h.TRIANGLES);for(var m=0,y=r;m<y.length;m+=1){var g=y[m],_=e.getTile(g);if(!f||_.patternsLoaded()){var v=_.getBucket(i);if(v){var x=v.programConfigurations.get(i.id),b=t.useProgram(A,x);f&&(t.context.activeTexture.set(h.TEXTURE0),_.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),x.updatePatternPaintBuffers(d));var w=p.constantOr(null);if(w&&_.imageAtlas){var E=_.imageAtlas.patternPositions[w.to],T=_.imageAtlas.patternPositions[w.from];E&&T&&x.setConstantPatternPositions(E,T)}var S=t.translatePosMatrix(g.posMatrix,_,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(a){u=v.indexBuffer2,c=v.segments2;var k=[h.drawingBufferWidth,h.drawingBufferHeight];l="fillOutlinePattern"===A&&f?Ni(S,t,d,_,k):Vi(S,k)}else u=v.indexBuffer,c=v.segments,l=f?Ui(S,t,d,_):Fi(S);b.draw(t.context,s,n,t.stencilModeForClipping(g),o,Te.disabled,l,i.id,v.layoutVertexBuffer,u,c,i.paint,t.transform.zoom,x)}}}}function Z(e,i){var r=e.context,n=r.gl,o=i.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!o){var a=new t.Texture(r,{width:e.width,height:e.height,data:null},n.RGBA);a.bind(n.LINEAR,n.CLAMP_TO_EDGE),(o=i.viewportFrame=r.createFramebuffer(e.width,e.height)).colorAttachment.set(a.texture)}r.bindFramebuffer.set(o.framebuffer),o.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(r.clear({depth:1}),e.depthRboNeedsClear=!1),r.clear({color:t.Color.transparent}),r.setStencilMode(we.disabled),r.setDepthMode(new be(n.LEQUAL,be.ReadWrite,[0,1])),r.setColorMode(e.colorModeForRenderPass())}function X(t,e,i){var r=e.viewportFrame;if(r){var n=t.context,o=n.gl;n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),t.useProgram("extrusionTexture").draw(n,o.TRIANGLES,be.disabled,we.disabled,t.colorModeForRenderPass(),Te.disabled,Oi(t,i,0),e.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,e.paint,t.transform.zoom)}}function W(t,e,i,r,n,o){var a=t.context,s=a.gl,A=e.fbo;if(A){var l=t.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,A.colorAttachment.get());var u=Wi(t,e,i);e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments?l.draw(a,s.TRIANGLES,r,n,o,Te.disabled,u,i.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments):l.draw(a,s.TRIANGLES,r,n,o,Te.disabled,u,i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function Y(e,i,r,n,o,a,s){var A=e.context,l=A.gl;if(i.dem&&i.dem.data){var u=i.dem.dim,c=i.dem.getPixels();if(A.activeTexture.set(l.TEXTURE1),A.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(i.tileSize),i.demTexture){var h=i.demTexture;h.update(c,{premultiply:!1}),h.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else i.demTexture=new t.Texture(A,c,l.RGBA,{premultiply:!1}),i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);A.activeTexture.set(l.TEXTURE0);var p=i.fbo;if(!p){var f=new t.Texture(A,{width:u,height:u,data:null},l.RGBA);f.bind(l.LINEAR,l.CLAMP_TO_EDGE),(p=i.fbo=A.createFramebuffer(u,u)).colorAttachment.set(f.texture)}A.bindFramebuffer.set(p.framebuffer),A.viewport.set([0,0,u,u]),e.useProgram("hillshadePrepare").draw(A,l.TRIANGLES,o,a,s,Te.disabled,Yi(i,n),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function K(e,i,r,n,o){var a=n.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),A=(s-e.timeAdded)/a,l=i?(s-i.timeAdded)/a:-1,u=r.getSource(),c=o.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),h=!i||Math.abs(i.tileID.overscaledZ-c)>Math.abs(e.tileID.overscaledZ-c),p=h&&e.refreshedUponExpiration?1:t.clamp(h?A:1-l,0,1);return e.refreshedUponExpiration&&A>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}function J(e,i,r){var n=e.context,o=n.gl,a=r.posMatrix,s=e.useProgram("debug"),A=be.disabled,l=we.disabled,u=e.colorModeForRenderPass(),c="$debug";s.draw(n,o.LINE_STRIP,A,l,u,Te.disabled,Qi(a,t.Color.red),c,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);for(var h=function(t,e,i,r){r=r||1;var n,o,a,s,A,l,u,c,h=[];for(n=0,o=t.length;n<o;n++)if(A=lr[t[n]]){for(c=null,a=0,s=A[1].length;a<s;a+=2)-1===A[1][a]&&-1===A[1][a+1]?c=null:(l=e+A[1][a]*r,u=200-A[1][a+1]*r,c&&h.push(c.x,c.y,l,u),c={x:l,y:u});e+=A[0]*r}return h}(r.toString(),50,0,5),p=new t.StructArrayLayout2i4,f=new t.StructArrayLayout2ui4,d=0;d<h.length;d+=2)p.emplaceBack(h[d],h[d+1]),f.emplaceBack(d,d+1);for(var m=n.createVertexBuffer(p,oi.members),y=n.createIndexBuffer(f),g=t.SegmentVector.simpleSegment(0,0,p.length/2,p.length/2),_=i.getTile(r).tileSize,v=t.EXTENT/(Math.pow(2,e.transform.zoom-r.overscaledZ)*_),x=[[-1,-1],[-1,1],[1,-1],[1,1]],b=0;b<x.length;b++){var w=x[b];s.draw(n,o.LINES,A,l,u,Te.disabled,Qi(t.translate([],a,[v*w[0],v*w[1],0]),t.Color.white),c,m,y,g)}s.draw(n,o.LINES,A,l,u,Te.disabled,Qi(a,t.Color.black),c,m,y,g)}function $(t,e){if(t.y>e.y){var i=t;t=e,e=i}return{x0:t.x,y0:t.y,x1:e.x,y1:e.y,dx:e.x-t.x,dy:e.y-t.y}}function tt(t,e,i,r,n){var o=Math.max(i,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var A=t.dx/t.dy,l=e.dx/e.dy,u=t.dx>0,c=e.dx<0,h=o;h<a;h++){var p=A*Math.max(0,Math.min(t.dy,h+u-t.y0))+t.x0,f=l*Math.max(0,Math.min(e.dy,h+c-e.y0))+e.x0;n(Math.floor(f),Math.ceil(p),h)}}function et(t,e,i,r,n,o){var a,s=$(t,e),A=$(e,i),l=$(i,t);s.dy>A.dy&&(a=s,s=A,A=a),s.dy>l.dy&&(a=s,s=l,l=a),A.dy>l.dy&&(a=A,A=l,l=a),s.dy&&tt(l,s,r,n,o),A.dy&&tt(l,A,r,n,o)}function it(t){return t*(2-t)}function rt(t){t.parentNode&&t.parentNode.removeChild(t)}function nt(e,i,r){if(e=new t.LngLat(e.lng,e.lat),i){var n=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(i);r.locationPoint(n).distSqr(i)<a?e=n:r.locationPoint(o).distSqr(i)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}function ot(t,e,i){var r=t.classList;for(var n in Vr)r.remove("mapboxgl-"+i+"-anchor-"+n);r.add("mapboxgl-"+i+"-anchor-"+e)}function at(t,e,i){var r,n,o,a,s,A,l=i&&i.maxWidth||100,u=t._container.clientHeight/2,c=(r=t.unproject([0,u]),n=t.unproject([l,u]),o=Math.PI/180,a=r.lat*o,s=n.lat*o,A=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((n.lng-r.lng)*o),6371e3*Math.acos(Math.min(A,1)));if(i&&"imperial"===i.unit){var h=3.2808*c;h>5280?st(e,l,h/5280,"mi"):st(e,l,h,"ft")}else i&&"nautical"===i.unit?st(e,l,c/1852,"nm"):st(e,l,c,"m")}function st(t,e,i,r){var n,o,a,s=(n=i,o=Math.pow(10,(""+Math.floor(n)).length-1),a=(a=n/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a),o*a),A=s/i;"m"===r&&s>=1e3&&(s/=1e3,r="km"),t.style.width=e*A+"px",t.innerHTML=s+r}var At,lt=t.createCommonjsModule(function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,i=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(i);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(t){return void 0===i[t]&&(i[t]=function(t){var i=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,i.probablySupportsContext?i.probablySupportsContext("webgl",r)||i.probablySupportsContext("experimental-webgl",r):i.supportsContext?i.supportsContext("webgl",r)||i.supportsContext("experimental-webgl",r):i.getContext("webgl",r)||i.getContext("experimental-webgl",r)}(t)),i[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var i={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),ut={create:function(e,i,r){var n=t.window.document.createElement(e);return i&&(n.className=i),r&&r.appendChild(n),n},createNS:function(e,i){return t.window.document.createElementNS(e,i)}},ct=t.window.document?t.window.document.documentElement.style:null,ht=e(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);ut.disableDrag=function(){ct&&ht&&(At=ct[ht],ct[ht]="none")},ut.enableDrag=function(){ct&&ht&&(ct[ht]=At)};var pt=e(["transform","WebkitTransform"]);ut.setTransform=function(t,e){t.style[pt]=e};var ft=!1;try{var dt=Object.defineProperty({},"passive",{get:function(){ft=!0}});t.window.addEventListener("test",dt,dt),t.window.removeEventListener("test",dt,dt)}catch(t){ft=!1}ut.addEventListener=function(t,e,i,r){void 0===r&&(r={}),"passive"in r&&ft?t.addEventListener(e,i,r):t.addEventListener(e,i,r.capture)},ut.removeEventListener=function(t,e,i,r){void 0===r&&(r={}),"passive"in r&&ft?t.removeEventListener(e,i,r):t.removeEventListener(e,i,r.capture)};var mt=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",mt,!0)};ut.suppressClick=function(){t.window.addEventListener("click",mt,!0),t.window.setTimeout(function(){t.window.removeEventListener("click",mt,!0)},0)},ut.mousePos=function(e,i){var r=e.getBoundingClientRect();return i=i.touches?i.touches[0]:i,new t.Point(i.clientX-r.left-e.clientLeft,i.clientY-r.top-e.clientTop)},ut.touchPos=function(e,i){for(var r=e.getBoundingClientRect(),n=[],o="touchend"===i.type?i.changedTouches:i.touches,a=0;a<o.length;a++)n.push(new t.Point(o[a].clientX-r.left-e.clientLeft,o[a].clientY-r.top-e.clientTop));return n},ut.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},ut.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var yt=function(){this.images={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0};yt.prototype.isLoaded=function(){return this.loaded},yt.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,i=this.requestors;e<i.length;e+=1){var r=i[e],n=r.ids,o=r.callback;this._notify(n,o)}this.requestors=[]}},yt.prototype.getImage=function(t){return this.images[t]},yt.prototype.addImage=function(t,e){this.images[t]=e},yt.prototype.removeImage=function(t){delete this.images[t],delete this.patterns[t]},yt.prototype.listImages=function(){return Object.keys(this.images)},yt.prototype.getImages=function(t,e){var i=!0;if(!this.isLoaded())for(var r=0,n=t;r<n.length;r+=1){var o=n[r];this.images[o]||(i=!1)}this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})},yt.prototype._notify=function(t,e){for(var i={},r=0,n=t;r<n.length;r+=1){var o=n[r],a=this.images[o];a&&(i[o]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}e(null,i)},yt.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},yt.prototype.getPattern=function(e){var i=this.patterns[e];if(i)return i.position;var r=this.getImage(e);if(!r)return null;var n={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(n,r);return this.patterns[e]={bin:n,position:o},this._updatePatternAtlas(),o},yt.prototype.bind=function(e){var i=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)},yt.prototype._updatePatternAtlas=function(){var e=[];for(var i in this.patterns)e.push(this.patterns[i].bin);var r=t.potpack(e),n=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:n||1,height:o||1}),this.patterns){var A=this.patterns[s].bin,l=A.x+1,u=A.y+1,c=this.images[s].data,h=c.width,p=c.height;t.RGBAImage.copy(c,a,{x:0,y:0},{x:l,y:u},{width:h,height:p}),t.RGBAImage.copy(c,a,{x:0,y:p-1},{x:l,y:u-1},{width:h,height:1}),t.RGBAImage.copy(c,a,{x:0,y:0},{x:l,y:u+p},{width:h,height:1}),t.RGBAImage.copy(c,a,{x:h-1,y:0},{x:l-1,y:u},{width:1,height:p}),t.RGBAImage.copy(c,a,{x:0,y:0},{x:l+h,y:u},{width:1,height:p})}this.dirty=!0};var gt=i,_t=1e20;i.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=e.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?_t:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?_t:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(r(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),r(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var a=this.gridOuter[n]-this.gridInner[n];i[n]=Math.max(0,Math.min(255,Math.round(255-255*(a/this.radius+this.cutoff))))}return i};var vt=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};vt.prototype.setURL=function(t){this.url=t},vt.prototype.getGlyphs=function(e,i){var r=this,n=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1){var A=s[a];n.push({stack:o,id:A})}t.asyncAll(n,function(t,e){var i=t.stack,n=t.id,o=r.entries[i];o||(o=r.entries[i]={glyphs:{},requests:{}});var a=o.glyphs[n];if(void 0===a)if(a=r._tinySDF(o,i,n))e(null,{stack:i,id:n,glyph:a});else{var s=Math.floor(n/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var A=o.requests[s];A||(A=o.requests[s]=[],vt.loadGlyphRange(i,s,r.url,r.requestTransform,function(t,e){if(e)for(var i in e)o.glyphs[+i]=e[+i];for(var r=0,n=A;r<n.length;r+=1)(0,n[r])(t,e);delete o.requests[s]})),A.push(function(t,r){t?e(t):r&&e(null,{stack:i,id:n,glyph:r[n]||null})})}}else e(null,{stack:i,id:n,glyph:a})},function(t,e){if(t)i(t);else if(e){for(var r={},n=0,o=e;n<o.length;n+=1){var a=o[n],s=a.stack,A=a.id,l=a.glyph;(r[s]||(r[s]={}))[A]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}i(null,r)}})},vt.prototype._tinySDF=function(e,i,r){var n=this.localIdeographFontFamily;if(n&&(t.isChar["CJK Unified Ideographs"](r)||t.isChar["Hangul Syllables"](r))){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(i)?a="900":/medium/i.test(i)?a="500":/light/i.test(i)&&(a="200"),o=e.tinySDF=new vt.TinySDF(24,3,8,.25,n,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},vt.loadGlyphRange=function(e,i,r,n,o){var a=256*i,s=a+255,A=n(t.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(A,function(e,i){if(e)o(e);else if(i){for(var r={},n=0,a=t.parseGlyphPBF(i);n<a.length;n+=1){var s=a[n];r[s.id]=s}o(null,r)}})},vt.TinySDF=gt;var xt=function(){this.specification=t.styleSpec.light.position};xt.prototype.possiblyEvaluate=function(e,i){return t.sphericalToCartesian(e.expression.evaluate(i))},xt.prototype.interpolate=function(e,i,r){return{x:t.number(e.x,i.x,r),y:t.number(e.y,i.y,r),z:t.number(e.z,i.z,r)}};var bt=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new xt,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),wt=function(e){function i(i){e.call(this),this._transitionable=new t.Transitionable(bt),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e){if(!this._validate(t.validateLight,e))for(var i in e){var r=e[i];t.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),r):this._transitionable.setValue(i,r)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,i){return t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},i}(t.Evented),Et=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};Et.prototype.getDash=function(t,e){var i=t.join(",")+String(e);return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},Et.prototype.addDash=function(e,i){var r=i?7:0,n=2*r+1;if(this.nextRow+n>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a]
;for(var s=this.width/o,A=s/2,l=e.length%2==1,u=-r;u<=r;u++)for(var c=this.nextRow+r+u,h=this.width*c,p=l?-e[e.length-1]:0,f=e[0],d=1,m=0;m<this.width;m++){for(;f<m/s;)p=f,f+=e[d],l&&d===e.length-1&&(f+=e[0]),d++;var y=Math.abs(m-p*s),g=Math.abs(m-f*s),_=Math.min(y,g),v=d%2==1,x=void 0;if(i){var b=r?u/r*(A+1):0;if(v){var w=A-Math.abs(b);x=Math.sqrt(_*_+w*w)}else x=A-Math.sqrt(_*_+b*b)}else x=(v?1:-1)*_;this.data[3+4*(h+m)]=Math.max(0,Math.min(255,x+128))}var E={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=n,this.dirty=!0,E},Et.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var Tt=function e(i,r){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var n=this.workerPool.acquire(this.id),o=0;o<n.length;o++){var a=n[o],s=new e.Actor(a,r,this.id);s.name="Worker "+o,this.actors.push(s)}};Tt.prototype.broadcast=function(e,i,r){r=r||function(){},t.asyncAll(this.actors,function(t,r){t.send(e,i,r)},r)},Tt.prototype.send=function(t,e,i,r){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,i),r},Tt.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},Tt.Actor=t.Actor;var St=function(e,i,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=i||0,this.maxzoom=r||24};St.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},St.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),i=Math.floor(this.latY(this.bounds.getNorth(),t.z)),r=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),n=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<r&&t.y>=i&&t.y<n},St.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},St.prototype.latY=function(e,i){var r=t.clamp(Math.sin(Math.PI/180*e),-.9999,.9999),n=Math.pow(2,i)/(2*Math.PI);return Math.pow(2,i-1)+.5*Math.log((1+r)/(1-r))*-n};var kt=function(e){function i(i,r,n,o){if(e.call(this),this.id=i,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(r,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=o(this._options,this.map._transformRequest,function(i,r){e._tileJSONRequest=null,i?e.fire(new t.ErrorEvent(i)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new St(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId()),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,i){function r(t,r){return e.aborted?i(null):t&&404!==t.status?i(t):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),i(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}var n=t.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url),o={request:this.map._transformRequest(n,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};o.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",o,r.bind(this)):"loading"===e.state?e.reloadCallback=i:this.dispatcher.send("reloadTile",o,r.bind(this),e.workerID)},i.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),Ct=function(e){function i(i,r,n,o){e.call(this),this.id=i,this.dispatcher=n,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=o(this._options,this.map._transformRequest,function(i,r){e._tileJSONRequest=null,i?e.fire(new t.ErrorEvent(i)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new St(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId()),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,i){var r=this,n=t.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(n,t.ResourceType.Tile),function(n,o){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(n)e.state="errored",i(n);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",i(null)}})},i.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),Pt=function(e){function i(i,r,n,o){e.call(this,i,r,n,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},r),this.encoding=r.encoding||"mapbox"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,i){var r=t.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(r,t.ResourceType.Tile),function(r,n){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(r)e.state="errored",i(r);else if(n){this.map._refreshExpiredTiles&&e.setExpiryData(n),delete n.cacheControl,delete n.expires;var o=t.browser.getImageData(n),a={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:o,encoding:this.encoding};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",a,function(t,r){t&&(e.state="errored",i(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",i(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var i=e.canonical,r=Math.pow(2,i.z),n=(i.x-1+r)%r,o=0===i.x?e.wrap-1:e.wrap,a=(i.x+1+r)%r,s=i.x+1===r?e.wrap+1:e.wrap,A={};return A[new t.OverscaledTileID(e.overscaledZ,o,i.z,n,i.y).key]={backfilled:!1},A[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y).key]={backfilled:!1},i.y>0&&(A[new t.OverscaledTileID(e.overscaledZ,o,i.z,n,i.y-1).key]={backfilled:!1},A[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},A[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y-1).key]={backfilled:!1}),i.y+1<r&&(A[new t.OverscaledTileID(e.overscaledZ,o,i.z,n,i.y+1).key]={backfilled:!1},A[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},A[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y+1).key]={backfilled:!1}),A},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},i}(Ct),Mt=function(e){function i(i,r,n,o){e.call(this),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=n,this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution);var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(r.clusterRadius||50)*a,log:!1}},r.workerOptions)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(i){if(i)e.fire(new t.ErrorEvent(i));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var i=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(e){if(e)i.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};i._collectResourceTiming&&i._resourceTiming&&i._resourceTiming.length>0&&(r.resourceTiming=i._resourceTiming,i._resourceTiming=[]),i.fire(new t.Event("data",r))}}),this},i.prototype.getClusterExpansionZoom=function(t,e){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e,this.workerID),this},i.prototype.getClusterChildren=function(t,e){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e,this.workerID),this},i.prototype.getClusterLeaves=function(t,e,i,r){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:i},r,this.workerID),this},i.prototype._updateWorkerData=function(e){var i=this,r=t.extend({},this.workerOptions),n=this._data;"string"==typeof n?(r.request=this.map._transformRequest(t.browser.resolveURL(n),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(n),this.workerID=this.dispatcher.send(this.type+".loadData",r,function(t,n){i._removed||n&&n.abandoned||(i._loaded=!0,n&&n.resourceTiming&&n.resourceTiming[i.id]&&(i._resourceTiming=n.resourceTiming[i.id].slice(0)),i.dispatcher.send(i.type+".coalesce",{source:r.source},null,i.workerID),e(t))},this.workerID)},i.prototype.loadTile=function(e,i){var r=this,n=void 0===e.workerID?"loadTile":"reloadTile",o={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send(n,o,function(t,o){return e.unloadVectorData(),e.aborted?i(null):t?i(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===n),i(null))},this.workerID)},i.prototype.abortTile=function(t){t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},i.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented),It=function(e){function i(t,i,r,n){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(n),this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(e,i){var r=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),function(n,o){n?r.fire(new t.ErrorEvent(n)):o&&(r.image=t.browser.getImageData(o),e&&(r.coordinates=e),i&&i(),r._finishLoading())})},i.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,function(){e.texture=null}),this):this},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){var i=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var i=1/0,r=1/0,n=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var A=s[a];i=Math.min(i,A.x),r=Math.min(r,A.y),n=Math.max(n,A.x),o=Math.max(o,A.y)}var l=n-i,u=o-r,c=Math.max(l,u),h=Math.max(0,Math.floor(-Math.log(c)/Math.LN2)),p=Math.pow(2,h);return new t.CanonicalTileID(h,Math.floor((i+n)/2*p),Math.floor((r+o)/2*p))}(r),this.minzoom=this.maxzoom=this.tileID.z;var n=r.map(function(t){return i.tileID.getTilePoint(t)._round()});return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(n[0].x,n[0].y,0,0),this._boundsArray.emplaceBack(n[1].x,n[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(n[3].x,n[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(n[2].x,n[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,i=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[r];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),zt=function(e){function i(t,i,r,n){e.call(this,t,i,r,n),this.roundZoom=!0,this.type="video",this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this,i=this.options;this.urls=[];for(var r=0,n=i.urls;r<n.length;r+=1){var o=n[r];e.urls.push(e.map._transformRequest(o,t.ResourceType.Source).url)}t.getVideo(this.urls,function(i,r){i?e.fire(new t.ErrorEvent(i)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map.triggerRepaint()}),e.map&&e.video.play(),e._finishLoading())})},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,i=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[r];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(It),Bt=function(e){function i(i,r,n,o){e.call(this,i,r,n,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some(function(t){return!Array.isArray(t)||2!==t.length||t.some(function(t){return"number"!=typeof t})})||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing=!1},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var i=this.map.painter.context,r=i.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(i,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var i=e[t];if(isNaN(i)||i<=0)return!0}return!1},i}(It),Dt={vector:kt,raster:Ct,"raster-dem":Pt,geojson:Mt,video:zt,image:It,canvas:Bt},Lt=function(e,i,r,n){var o=new Dt[i.type](e,i,r,n);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o},Rt=function(t,e){this.max=t,this.onRemove=e,this.reset()};Rt.prototype.reset=function(){for(var t in this.data)for(var e=0,i=this.data[t];e<i.length;e+=1){var r=i[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},Rt.prototype.add=function(t,e,i){var r=this,n=t.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);var o={value:e,timeout:void 0};if(void 0!==i&&(o.timeout=setTimeout(function(){r.remove(t,o)},i)),this.data[n].push(o),this.order.push(n),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},Rt.prototype.has=function(t){return t.wrapped().key in this.data},Rt.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},Rt.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},Rt.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},Rt.prototype.remove=function(t,e){if(!this.has(t))return this;var i=t.wrapped().key,r=void 0===e?0:this.data[i].indexOf(e),n=this.data[i][r];return this.data[i].splice(r,1),n.timeout&&clearTimeout(n.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(n.value),this.order.splice(this.order.indexOf(i),1),this},Rt.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};var Ot=function(t,e,i){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};Ot.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ot.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},Ot.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Ft={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ut=function(t,e,i,r){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var n=t.gl;this.buffer=n.createBuffer(),t.bindVertexBuffer.set(this.buffer),n.bufferData(n.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};Ut.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ut.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},Ut.prototype.enableAttributes=function(t,e){for(var i=0;i<this.attributes.length;i++){var r=this.attributes[i],n=e.attributes[r.name];void 0!==n&&t.enableVertexAttribArray(n)}},Ut.prototype.setVertexAttribPointers=function(t,e,i){for(var r=0;r<this.attributes.length;r++){var n=this.attributes[r],o=e.attributes[n.name];void 0!==o&&t.vertexAttribPointer(o,n.components,t[Ft[n.type]],!1,this.itemSize,n.offset+this.itemSize*(i||0))}},Ut.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Vt=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Vt.prototype.get=function(){return this.current},Vt.prototype.set=function(t){},Vt.prototype.getDefault=function(){return this.default},Vt.prototype.setDefault=function(){this.set(this.default)};var Nt=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getDefault=function(){return t.Color.transparent},i.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},i}(Vt),jt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(Vt),qt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(Vt),Gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(Vt),Qt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(Vt),Ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(Vt),Zt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(Vt),Xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(Vt),Wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(Vt),Yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(Vt),Kt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(Vt),Jt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(Vt),$t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(Vt),te=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(Vt),ee=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getDefault=function(){return t.Color.transparent},i.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},i}(Vt),ie=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(Vt),re=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(Vt),ne=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(Vt),oe=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),
e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(Vt),ae=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(Vt),se=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(Vt),Ae=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(Vt),le=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(Vt),ue=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(Vt),ce=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(Vt),he=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(Vt),pe=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(Vt),fe=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(Vt),de=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(Vt),me=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(Vt),ye=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(Vt),ge=function(t){function e(e,i){t.call(this,e),this.context=e,this.parent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e}(Vt),_e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(ge),ve=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(ge),xe=function(t,e,i){this.context=t,this.width=e,this.height=i;var r=t.gl,n=this.framebuffer=r.createFramebuffer();this.colorAttachment=new _e(t,n),this.depthAttachment=new ve(t,n)};xe.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var i=this.depthAttachment.get();i&&t.deleteRenderbuffer(i),t.deleteFramebuffer(this.framebuffer)};var be=function(t,e,i){this.func=t,this.mask=e,this.range=i};be.ReadOnly=!1,be.ReadWrite=!0,be.disabled=new be(519,be.ReadOnly,[0,1]);var we=function(t,e,i,r,n,o){this.test=t,this.ref=e,this.mask=i,this.fail=r,this.depthFail=n,this.pass=o};we.disabled=new we({func:519,mask:0},0,0,7680,7680,7680);var Ee=function(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i};Ee.Replace=[1,0],Ee.disabled=new Ee(Ee.Replace,t.Color.transparent,[!1,!1,!1,!1]),Ee.unblended=new Ee(Ee.Replace,t.Color.transparent,[!0,!0,!0,!0]),Ee.alphaBlended=new Ee([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Te=function(t,e,i){this.enable=t,this.mode=e,this.frontFace=i};Te.disabled=new Te(!1,1029,2305),Te.backCCW=new Te(!0,1029,2305);var Se=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Nt(this),this.clearDepth=new jt(this),this.clearStencil=new qt(this),this.colorMask=new Gt(this),this.depthMask=new Qt(this),this.stencilMask=new Ht(this),this.stencilFunc=new Zt(this),this.stencilOp=new Xt(this),this.stencilTest=new Wt(this),this.depthRange=new Yt(this),this.depthTest=new Kt(this),this.depthFunc=new Jt(this),this.blend=new $t(this),this.blendFunc=new te(this),this.blendColor=new ee(this),this.blendEquation=new ie(this),this.cullFace=new re(this),this.cullFaceSide=new ne(this),this.frontFace=new oe(this),this.program=new ae(this),this.activeTexture=new se(this),this.viewport=new Ae(this),this.bindFramebuffer=new le(this),this.bindRenderbuffer=new ue(this),this.bindTexture=new ce(this),this.bindVertexBuffer=new he(this),this.bindElementBuffer=new pe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new fe(this),this.pixelStoreUnpack=new de(this),this.pixelStoreUnpackPremultiplyAlpha=new me(this),this.pixelStoreUnpackFlipY=new ye(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};Se.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Se.prototype.createIndexBuffer=function(t,e){return new Ot(this,t,e)},Se.prototype.createVertexBuffer=function(t,e,i){return new Ut(this,t,e,i)},Se.prototype.createRenderbuffer=function(t,e,i){var r=this.gl,n=r.createRenderbuffer();return this.bindRenderbuffer.set(n),r.renderbufferStorage(r.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),n},Se.prototype.createFramebuffer=function(t,e){return new xe(this,t,e)},Se.prototype.clear=function(t){var e=t.color,i=t.depth,r=this.gl,n=0;e&&(n|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==i&&(n|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(i),this.depthMask.set(!0)),r.clear(n)},Se.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Se.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Se.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Se.prototype.setColorMode=function(e){t.isEqual(e.blendFunction,Ee.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Se.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ke=function(e){function i(i,r,n){var o=this;e.call(this),this.id=i,this.dispatcher=n,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))}),this.on("error",function(){o._sourceErrored=!0}),this._source=Lt(i,r,n,this),this._tiles={},this._cache=new Rt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles)this._tiles[e].upload(t)},i.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(A)},i.prototype.getRenderableIds=function(e){var i=this,r=[];for(var n in i._tiles)i._isIdRenderable(+n,e)&&r.push(+n);return e?r.sort(function(e,r){var n=i._tiles[e].tileID,o=i._tiles[r].tileID,a=new t.Point(n.canonical.x,n.canonical.y)._rotate(i.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(i.transform.angle);return n.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x}):r.sort(A)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},i.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))},i.prototype._tileLoaded=function(e,i,r,n){if(n)return e.state="errored",void(404!==n.status?this._source.fire(new t.ErrorEvent(n,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},i.prototype._backfillDEM=function(t){function e(t,e){t.needsHillshadePrepare=!0;var i=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,n=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===i&&0===r||Math.abs(r)>1||(Math.abs(i)>1&&(1===Math.abs(i+n)?i+=n:1===Math.abs(i-n)&&(i-=n)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}for(var i=this.getRenderableIds(),r=0;r<i.length;r++){var n=i[r];if(t.neighboringTiles&&t.neighboringTiles[n]){var o=this.getTileByID(n);e(t,o),e(o,t)}}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._retainLoadedChildren=function(t,e,i,r){for(var n in this._tiles){var o=this._tiles[n];if(!(r[n]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>i)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var A=a;A.overscaledZ>e;)if(t[(A=A.scaledTo(A.overscaledZ-1)).key]){r[a.key]=a;break}}}},i.prototype.findLoadedParent=function(t,e){for(var i=t.overscaledZ-1;i>=e;i--){var r=t.scaledTo(i);if(!r)return;var n=String(r.key),o=this._tiles[n];if(o&&o.hasData())return o;if(this._cache.has(r))return this._cache.get(r)}},i.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),i=Math.floor(5*e),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(r)},i.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,i=Math.round(e);if(this._prevLng=t,i){var r={};for(var n in this._tiles){var o=this._tiles[n];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+i),r[o.tileID.key]=o}for(var a in this._tiles=r,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var A=this._tiles[s];this._setTileReloadTimer(s,A)}}},i.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var n;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(n=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter(function(t){return r._source.hasTile(t)}))):n=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(o-i.maxOverzooming,this._source.minzoom),s=Math.max(o+i.maxUnderzooming,this._source.minzoom),A=this._updateRetainedTiles(n,o);if(l(this._source.type)){for(var u={},c={},h=0,p=Object.keys(A);h<p.length;h+=1){var f=p[h],d=A[f],m=r._tiles[f];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=t.browser.now())){var y=r.findLoadedParent(d,a);y&&(r._addTile(y.tileID),u[y.tileID.key]=y.tileID),c[f]=d}}for(var g in this._retainLoadedChildren(c,o,s,A),u)A[g]||(r._coveredTiles[g]=!0,A[g]=u[g])}for(var _ in A)r._tiles[_].clearFadeHold();for(var v=0,x=t.keysDifference(this._tiles,A);v<x.length;v+=1){var b=x[v],w=r._tiles[b];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(r.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||r._removeTile(b)}}},i.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},i.prototype._updateRetainedTiles=function(t,e){for(var r={},n={},o=Math.max(e-i.maxOverzooming,this._source.minzoom),a=Math.max(e+i.maxUnderzooming,this._source.minzoom),s={},A=0,l=t;A<l.length;A+=1){var u=l[A],c=this._addTile(u);r[u.key]=u,c.hasData()||e<this._source.maxzoom&&(s[u.key]=u)}this._retainLoadedChildren(s,e,a,r);for(var h=0,p=t;h<p.length;h+=1){var f=p[h],d=this._tiles[f.key];if(!d.hasData()){if(e+1>this._source.maxzoom){var m=f.children(this._source.maxzoom)[0],y=this.getTile(m);if(y&&y.hasData()){r[m.key]=m;continue}}else{var g=f.children(this._source.maxzoom);if(r[g[0].key]&&r[g[1].key]&&r[g[2].key]&&r[g[3].key])continue}for(var _=d.wasRequested(),v=f.overscaledZ-1;v>=o;--v){var x=f.scaledTo(v);if(n[x.key])break;if(n[x.key]=!0,!(d=this.getTile(x))&&_&&(d=this._addTile(x)),d&&(r[x.key]=x,_=d.wasRequested(),d.hasData()))break}}}return r},i.prototype._addTile=function(e){var i=this._tiles[e.key];if(i)return i;(i=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));var r=Boolean(i);return r||(i=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))),i?(i.uses++,this._tiles[e.key]=i,r||this._source.fire(new t.Event("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null},i.prototype._setTileReloadTimer=function(t,e){var i=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout(function(){i._reloadTile(t,"expired"),delete i._timers[t]},r))},i.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},i.prototype.tilesIn=function(e,i){for(var r=[],n=this.getIds(),o=1/0,a=1/0,s=-1/0,A=-1/0,l=0;l<e.length;l++){var u=e[l];o=Math.min(o,u.x),a=Math.min(a,u.y),s=Math.max(s,u.x),A=Math.max(A,u.y)}for(var c=0;c<n.length;c++){var h=this._tiles[n[c]];if(!h.holdingForFade()){var p=h.tileID,f=Math.pow(2,this.transform.zoom-h.tileID.overscaledZ),d=i*h.queryPadding*t.EXTENT/h.tileSize/f,m=[p.getTilePoint(new t.MercatorCoordinate(o,a)),p.getTilePoint(new t.MercatorCoordinate(s,A))];if(m[0].x-d<t.EXTENT&&m[0].y-d<t.EXTENT&&m[1].x+d>=0&&m[1].y+d>=0){for(var y=[],g=0;g<e.length;g++)y.push(p.getTilePoint(e[g]));r.push({tile:h,tileID:p,queryGeometry:[y],scale:f})}}}return r},i.prototype.getVisibleCoordinates=function(t){for(var e=this,i=this.getRenderableIds(t).map(function(t){return e._tiles[t].tileID}),r=0,n=i;r<n.length;r+=1){var o=n[r];o.posMatrix=e.transform.calculatePosMatrix(o.toUnwrapped())}return i},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(l(this._source.type))for(var e in this._tiles){var i=this._tiles[e];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=t.browser.now())return!0}return!1},i.prototype.setFeatureState=function(t,e,i){t=t||"_geojsonTileLayer",this._state.updateState(t,e,i)},i.prototype.getFeatureState=function(t,e){return t=t||"_geojsonTileLayer",this._state.getState(t,e)},i}(t.Evented);ke.maxOverzooming=10,ke.maxUnderzooming=3;var Ce=function(){this.active={}};Ce.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Ce.workerCount;)this.workers.push(new u);return this.active[t]=!0,this.workers.slice()},Ce.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)};var Pe,Me=Math.floor(t.browser.hardwareConcurrency/2);Ce.workerCount=Math.max(Math.min(Me,6),1);var Ie={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"},ze=function(t,e,i){var r=this.boxCells=[],n=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),n.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};ze.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},ze.prototype.insert=function(t,e,i,r,n){this._forEachCell(e,i,r,n,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(r),this.bboxes.push(n)},ze.prototype.insertCircle=function(t,e,i,r){this._forEachCell(e-r,i-r,e+r,i+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(r)},ze.prototype._insertBoxCell=function(t,e,i,r,n,o){this.boxCells[n].push(o)},ze.prototype._insertCircleCell=function(t,e,i,r,n,o){this.circleCells[n].push(o)},ze.prototype._query=function(t,e,i,r,n,o){if(i<0||t>this.width||r<0||e>this.height)return!n&&[];var a=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=r){if(n)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var A=0;A<this.circleKeys.length;A++){var l=this.circles[3*A],u=this.circles[3*A+1],c=this.circles[3*A+2];a.push({key:this.circleKeys[A],x1:l-c,y1:u-c,x2:l+c,y2:u+c})}return o?a.filter(o):a}var h={hitTest:n,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,i,r,this._queryCell,a,h,o),n?a.length>0:a},ze.prototype._queryCircle=function(t,e,i,r,n){var o=t-i,a=t+i,s=e-i,A=e+i;if(a<0||o>this.width||A<0||s>this.height)return!r&&[];var l=[],u={hitTest:r,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}};return this._forEachCell(o,s,a,A,this._queryCellCircle,l,u,n),r?l.length>0:l},ze.prototype.query=function(t,e,i,r,n){return this._query(t,e,i,r,!1,n)},ze.prototype.hitTest=function(t,e,i,r,n){return this._query(t,e,i,r,!0,n)},ze.prototype.hitTestCircle=function(t,e,i,r){return this._queryCircle(t,e,i,!0,r)},ze.prototype._queryCell=function(t,e,i,r,n,o,a,s){var A=a.seenUids,l=this.boxCells[n];if(null!==l)for(var u=this.bboxes,c=0,h=l;c<h.length;c+=1){var p=h[c];if(!A.box[p]){A.box[p]=!0;var f=4*p;if(t<=u[f+2]&&e<=u[f+3]&&i>=u[f+0]&&r>=u[f+1]&&(!s||s(this.boxKeys[p]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[p],x1:u[f],y1:u[f+1],x2:u[f+2],y2:u[f+3]})}}}var d=this.circleCells[n];if(null!==d)for(var m=this.circles,y=0,g=d;y<g.length;y+=1){var _=g[y];if(!A.circle[_]){A.circle[_]=!0;var v=3*_;if(this._circleAndRectCollide(m[v],m[v+1],m[v+2],t,e,i,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var x=m[v],b=m[v+1],w=m[v+2];o.push({key:this.circleKeys[_],x1:x-w,y1:b-w,x2:x+w,y2:b+w})}}}},ze.prototype._queryCellCircle=function(t,e,i,r,n,o,a,s){var A=a.circle,l=a.seenUids,u=this.boxCells[n];if(null!==u)for(var c=this.bboxes,h=0,p=u;h<p.length;h+=1){var f=p[h];if(!l.box[f]){l.box[f]=!0;var d=4*f;if(this._circleAndRectCollide(A.x,A.y,A.radius,c[d+0],c[d+1],c[d+2],c[d+3])&&(!s||s(this.boxKeys[f])))return o.push(!0),!0}}var m=this.circleCells[n];if(null!==m)for(var y=this.circles,g=0,_=m;g<_.length;g+=1){var v=_[g];if(!l.circle[v]){l.circle[v]=!0;var x=3*v;if(this._circlesCollide(y[x],y[x+1],y[x+2],A.x,A.y,A.radius)&&(!s||s(this.circleKeys[v])))return o.push(!0),!0}}},ze.prototype._forEachCell=function(t,e,i,r,n,o,a,s){for(var A=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),u=this._convertToXCellCoord(i),c=this._convertToYCellCoord(r),h=A;h<=u;h++)for(var p=l;p<=c;p++){var f=this.xCellCount*p+h;if(n.call(this,t,e,i,r,f,o,a,s))return}},ze.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},ze.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},ze.prototype._circlesCollide=function(t,e,i,r,n,o){var a=r-t,s=n-e,A=i+o;return A*A>a*a+s*s},ze.prototype._circleAndRectCollide=function(t,e,i,r,n,o,a){var s=(o-r)/2,A=Math.abs(t-(r+s));if(A>s+i)return!1;var l=(a-n)/2,u=Math.abs(e-(n+l));if(u>l+i)return!1;if(A<=s||u<=l)return!0;var c=A-s,h=u-l;return c*c+h*h<=i*i};var Be=t.properties.layout,De=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]),Le=function(t,e,i){void 0===e&&(e=new ze(t.width+200,t.height+200,25)),void 0===i&&(i=new ze(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};Le.prototype.placeCollisionBox=function(t,e,i,r,n){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=i*o.perspectiveRatio,s=t.x1*a+o.point.x,A=t.y1*a+o.point.y,l=t.x2*a+o.point.x,u=t.y2*a+o.point.y;return!this.isInsideGrid(s,A,l,u)||!e&&this.grid.hitTest(s,A,l,u,n)?{box:[],offscreen:!1}:{box:[s,A,l,u],offscreen:this.isOffscreen(s,A,l,u)}},Le.prototype.approximateTileDistance=function(t,e,i,r,n){var o=n?1:r/this.pitchfactor,a=t.lastSegmentViewportDistance*i;return t.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(e))},Le.prototype.placeCollisionCircles=function(e,i,r,n,o,a,s,A,l,u,c,h,p){var f=[],d=this.projectAnchor(l,o.anchorX,o.anchorY),m=A/24,y=o.lineOffsetX*A,g=o.lineOffsetY*A,_=new t.Point(o.anchorX,o.anchorY),v=S(m,s,y,g,!1,w(_,u).point,_,o,a,u,{},!0),x=!1,b=!1,E=!0,T=d.perspectiveRatio*n,k=1/(n*r),C=0,P=0;v&&(C=this.approximateTileDistance(v.first.tileDistance,v.first.angle,k,d.cameraDistance,h),P=this.approximateTileDistance(v.last.tileDistance,v.last.angle,k,d.cameraDistance,h));for(var M=0;M<e.length;M+=5){var I=e[M],z=e[M+1],D=e[M+2],L=e[M+3];if(!v||L<-C||L>P)B(e,M,!1);else{var R=this.projectPoint(l,I,z),O=D*T;if(f.length>0){var F=R.x-f[f.length-4],U=R.y-f[f.length-3];if(O*O*2>F*F+U*U&&M+8<e.length){var V=e[M+8];if(V>-C&&V<P){B(e,M,!1);continue}}}var N=M/5;f.push(R.x,R.y,O,N),B(e,M,!0);var j=R.x-O,q=R.y-O,G=R.x+O,Q=R.y+O;if(E=E&&this.isOffscreen(j,q,G,Q),b=b||this.isInsideGrid(j,q,G,Q),!i&&this.grid.hitTestCircle(R.x,R.y,O,p)){if(!c)return{circles:[],offscreen:!1};x=!0}}}return{circles:x||!b?[]:f,offscreen:E}},Le.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var i=[],r=1/0,n=1/0,o=-1/0,a=-1/0,s=0,A=e;s<A.length;s+=1){var l=A[s],u=new t.Point(l.x+100,l.y+100);r=Math.min(r,u.x),n=Math.min(n,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y),i.push(u)}for(var c={},h={},p=0,f=this.grid.query(r,n,o,a).concat(this.ignoredGrid.query(r,n,o,a));p<f.length;p+=1){var d=f[p],m=d.key;if(void 0===c[m.bucketInstanceId]&&(c[m.bucketInstanceId]={}),!c[m.bucketInstanceId][m.featureIndex]){var y=[new t.Point(d.x1,d.y1),new t.Point(d.x2,d.y1),new t.Point(d.x2,d.y2),new t.Point(d.x1,d.y2)];t.polygonIntersectsPolygon(i,y)&&(c[m.bucketInstanceId][m.featureIndex]=!0,void 0===h[m.bucketInstanceId]&&(h[m.bucketInstanceId]=[]),h[m.bucketInstanceId].push(m.featureIndex))}}return h},Le.prototype.insertCollisionBox=function(t,e,i,r,n){var o={bucketInstanceId:i,featureIndex:r,collisionGroupID:n};(e?this.ignoredGrid:this.grid).insert(o,t[0],t[1],t[2],t[3])},Le.prototype.insertCollisionCircles=function(t,e,i,r,n){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:i,featureIndex:r,collisionGroupID:n},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},Le.prototype.projectAnchor=function(t,e,i){var r=[e,i,0,1];return z(r,r,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},Le.prototype.projectPoint=function(e,i,r){var n=[i,r,0,1];return z(n,n,e),new t.Point((n[0]/n[3]+1)/2*this.transform.width+100,(-n[1]/n[3]+1)/2*this.transform.height+100)},Le.prototype.projectAndGetPerspectiveRatio=function(e,i,r){var n=[i,r,0,1];return z(n,n,e),{point:new t.Point((n[0]/n[3]+1)/2*this.transform.width+100,(-n[1]/n[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5}},Le.prototype.isOffscreen=function(t,e,i,r){return i<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},Le.prototype.isInsideGrid=function(t,e,i,r){return i>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary};var Re=function(t,e,i,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&i?1:0,this.placed=i};Re.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Oe=function(t,e,i,r,n){this.text=new Re(t?t.text:null,e,i,n),this.icon=new Re(t?t.icon:null,e,r,n)};Oe.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Fe=function(t,e,i){this.text=t,this.icon=e,this.skipFade=i},Ue=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};Ue.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var Ve=function(t,e,i){this.transform=t.clone(),this.collisionIndex=new Le(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new Ue(i)};Ve.prototype.placeLayerTile=function(e,i,r,n){
var o=i.getBucket(e),a=i.latestFeatureIndex;if(o&&a&&e.id===o.layerIds[0]){var s=i.collisionBoxArray,A=o.layers[0].layout,l=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),u=i.tileSize/t.EXTENT,c=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),h=x(c,"map"===A.get("text-pitch-alignment"),"map"===A.get("text-rotation-alignment"),this.transform,D(i,1,this.transform.zoom)),p=x(c,"map"===A.get("icon-pitch-alignment"),"map"===A.get("icon-rotation-alignment"),this.transform,D(i,1,this.transform.zoom));this.retainedQueryData[o.bucketInstanceId]=new function(t,e,i,r,n){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=i,this.bucketIndex=r,this.tileID=n}(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,i.tileID),this.placeLayerBucket(o,c,h,p,l,u,r,i.holdingForFade(),n,s)}},Ve.prototype.placeLayerBucket=function(e,i,r,n,o,a,s,A,l,u){var c=e.layers[0].layout,h=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,t.properties.layout.properties["text-size"]),p=c.get("text-optional"),f=c.get("icon-optional"),d=c.get("text-allow-overlap"),m=c.get("icon-allow-overlap"),y=d&&(m||!e.hasIconData()||f),g=m&&(d||!e.hasTextData()||p),_=this.collisionGroups.get(e.sourceID);!e.collisionArrays&&u&&e.deserializeCollisionBoxes(u);for(var v=0;v<e.symbolInstances.length;v++){var x=e.symbolInstances.get(v);if(!l[x.crossTileID]){if(A){this.placements[x.crossTileID]=new Fe(!1,!1,!1);continue}var b=!1,w=!1,E=!0,T=null,S=null,k=null,C=0,P=0,M=e.collisionArrays[v];M.textFeatureIndex&&(C=M.textFeatureIndex),M.textBox&&(b=(T=this.collisionIndex.placeCollisionBox(M.textBox,c.get("text-allow-overlap"),a,i,_.predicate)).box.length>0,E=E&&T.offscreen);var I=M.textCircles;if(I){var z=e.text.placedSymbolArray.get(x.horizontalPlacedTextSymbolIndex),B=t.evaluateSizeForFeature(e.textSizeData,h,z);S=this.collisionIndex.placeCollisionCircles(I,c.get("text-allow-overlap"),o,a,z,e.lineVertexArray,e.glyphOffsetArray,B,i,r,s,"map"===c.get("text-pitch-alignment"),_.predicate),b=c.get("text-allow-overlap")||S.circles.length>0,E=E&&S.offscreen}M.iconFeatureIndex&&(P=M.iconFeatureIndex),M.iconBox&&(w=(k=this.collisionIndex.placeCollisionBox(M.iconBox,c.get("icon-allow-overlap"),a,i,_.predicate)).box.length>0,E=E&&k.offscreen);var D=p||0===x.numGlyphVertices&&0===x.numVerticalGlyphVertices,L=f||0===x.numIconVertices;D||L?L?D||(w=w&&b):b=w&&b:w=b=w&&b,b&&T&&this.collisionIndex.insertCollisionBox(T.box,c.get("text-ignore-placement"),e.bucketInstanceId,C,_.ID),w&&k&&this.collisionIndex.insertCollisionBox(k.box,c.get("icon-ignore-placement"),e.bucketInstanceId,P,_.ID),b&&S&&this.collisionIndex.insertCollisionCircles(S.circles,c.get("text-ignore-placement"),e.bucketInstanceId,C,_.ID),this.placements[x.crossTileID]=new Fe(b||y,w||g,E||e.justReloaded),l[x.crossTileID]=!0}}e.justReloaded=!1},Ve.prototype.commit=function(t,e){this.commitTime=e;var i=!1,r=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,n=t?t.opacities:{};for(var o in this.placements){var a=this.placements[o],s=n[o];s?(this.opacities[o]=new Oe(s,r,a.text,a.icon),i=i||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[o]=new Oe(null,r,a.text,a.icon,a.skipFade),i=i||a.text||a.icon)}for(var A in n){var l=n[A];if(!this.opacities[A]){var u=new Oe(l,r,!1,!1);u.isHidden()||(this.opacities[A]=u,i=i||l.text.placed||l.icon.placed)}}i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},Ve.prototype.updateLayerOpacities=function(t,e){for(var i={},r=0,n=e;r<n.length;r+=1){var o=n[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,i,o.collisionBoxArray)}},Ve.prototype.updateBucketOpacities=function(t,e,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();var r=t.layers[0].layout,n=new Oe(null,0,!1,!1,!0),o=r.get("text-allow-overlap"),a=r.get("icon-allow-overlap"),s=new Oe(null,0,o&&(a||!t.hasIconData()||r.get("icon-optional")),a&&(o||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&i&&(t.hasCollisionBoxData()||t.hasCollisionCircleData())&&t.deserializeCollisionBoxes(i);for(var A=0;A<t.symbolInstances.length;A++){var l=t.symbolInstances.get(A),u=e[l.crossTileID],c=this.opacities[l.crossTileID];u?c=n:c||(c=s,this.opacities[l.crossTileID]=c),e[l.crossTileID]=!0;var h=l.numGlyphVertices>0||l.numVerticalGlyphVertices>0,p=l.numIconVertices>0;if(h){for(var f=R(c.text),d=(l.numGlyphVertices+l.numVerticalGlyphVertices)/4,m=0;m<d;m++)t.text.opacityVertexArray.emplaceBack(f);t.text.placedSymbolArray.get(l.horizontalPlacedTextSymbolIndex).hidden=c.text.isHidden(),l.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(l.verticalPlacedTextSymbolIndex).hidden=c.text.isHidden())}if(p){for(var y=R(c.icon),g=0;g<l.numIconVertices/4;g++)t.icon.opacityVertexArray.emplaceBack(y);t.icon.placedSymbolArray.get(A).hidden=c.icon.isHidden()}if(t.hasCollisionBoxData()||t.hasCollisionCircleData()){var _=t.collisionArrays[A];if(_){_.textBox&&L(t.collisionBox.collisionVertexArray,c.text.placed,!1),_.iconBox&&L(t.collisionBox.collisionVertexArray,c.icon.placed,!1);var v=_.textCircles;if(v&&t.hasCollisionCircleData())for(var x=0;x<v.length;x+=5){var b=u||0===v[x+4];L(t.collisionCircle.collisionVertexArray,c.text.placed,b)}}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},Ve.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},Ve.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Ve.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},Ve.prototype.setStale=function(){this.stale=!0};var Ne=Math.pow(2,25),je=Math.pow(2,24),qe=Math.pow(2,17),Ge=Math.pow(2,16),Qe=Math.pow(2,9),He=Math.pow(2,8),Ze=Math.pow(2,1),Xe=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Xe.prototype.continuePlacement=function(t,e,i,r,n){for(;this._currentTileIndex<t.length;){var o=t[this._currentTileIndex];if(e.placeLayerTile(r,o,i,this._seenCrossTileIDs),this._currentTileIndex++,n())return!0}};var We=function(t,e,i,r,n,o){this.placement=new Ve(t,n,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=r,this._done=!1};We.prototype.isDone=function(){return this._done},We.prototype.continuePlacement=function(e,i,r){for(var n=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!n._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=i[e[n._currentPlacementIndex]],A=n.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=A)&&(!s.maxzoom||s.maxzoom>A)){if(n._inProgressLayer||(n._inProgressLayer=new Xe),n._inProgressLayer.continuePlacement(r[s.source],n.placement,n._showCollisionBoxes,s,a))return;delete n._inProgressLayer}n._currentPlacementIndex--}this._done=!0},We.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var Ye=512/t.EXTENT/2,Ke=function(t,e,i){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(var r=0;r<e.length;r++){var n=e.get(r),o=n.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:n.crossTileID,coord:this.getScaledCoordinates(n,t)})}};Ke.prototype.getScaledCoordinates=function(e,i){var r=i.canonical.z-this.tileID.canonical.z,n=Ye/Math.pow(2,r);return{x:Math.floor((i.canonical.x*t.EXTENT+e.anchorX)*n),y:Math.floor((i.canonical.y*t.EXTENT+e.anchorY)*n)}},Ke.prototype.findMatches=function(t,e,i){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),n=0;n<t.length;n++){var o=t.get(n);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),A=0,l=a;A<l.length;A+=1){var u=l[A];if(Math.abs(u.coord.x-s.x)<=r&&Math.abs(u.coord.y-s.y)<=r&&!i[u.crossTileID]){i[u.crossTileID]=!0,o.crossTileID=u.crossTileID;break}}}}};var Je=function(){this.maxCrossTileID=0};Je.prototype.generate=function(){return++this.maxCrossTileID};var $e=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};$e.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var i in this.indexes){var r=this.indexes[i],n={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),n[a.tileID.key]=a}this.indexes[i]=n}this.lng=t},$e.prototype.addBucket=function(t,e,i){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var n=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var A=a[s];A.tileID.isChildOf(t)&&A.findMatches(e.symbolInstances,t,n)}else{var l=a[t.scaledTo(Number(o)).key];l&&l.findMatches(e.symbolInstances,t,n)}}for(var u=0;u<e.symbolInstances.length;u++){var c=e.symbolInstances.get(u);c.crossTileID||(c.crossTileID=i.generate(),n[c.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Ke(t,e.symbolInstances,e.bucketInstanceId),!0},$e.prototype.removeBucketCrossTileIDs=function(t,e){for(var i in e.indexedSymbolInstances)for(var r=0,n=e.indexedSymbolInstances[i];r<n.length;r+=1){var o=n[r];delete this.usedCrossTileIDs[t][o.crossTileID]}},$e.prototype.removeStaleBuckets=function(t){var e=!1;for(var i in this.indexes){var r=this.indexes[i];for(var n in r)t[r[n].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,r[n]),delete r[n],e=!0)}return e};var ti=function(){this.layerIndexes={},this.crossTileIDs=new Je,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ti.prototype.addLayer=function(t,e,i){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new $e);var n=!1,o={};r.handleWrapJump(i);for(var a=0,s=e;a<s.length;a+=1){var A=s[a],l=A.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(A.tileID,l,this.crossTileIDs)&&(n=!0),o[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(n=!0),n},ti.prototype.pruneUnusedLayers=function(t){var e={};for(var i in t.forEach(function(t){e[t]=!0}),this.layerIndexes)e[i]||delete this.layerIndexes[i]};var ei=function(e,i){return t.emitValidationErrors(e,i&&i.filter(function(t){return"source.canvas"!==t.identifier}))},ii=t.pick(Ie,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ri=t.pick(Ie,["setCenter","setZoom","setBearing","setPitch"]),ni=function(e){function i(r,n){var o=this;void 0===n&&(n={}),e.call(this),this.map=r,this.dispatcher=new Tt((Pe||(Pe=new Ce),Pe),this),this.imageManager=new yt,this.glyphManager=new vt(r._transformRequest,n.localIdeographFontFamily),this.lineAtlas=new Et(256,512),this.crossTileSymbolIndex=new ti,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability(function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),a.sourceCaches)a.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var i=e.getSource();if(i&&i.vectorLayerIds)for(var r in o._layers){var n=o._layers[r];n.source===i.id&&o._validateLayer(n)}}}})}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,i){var r=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var n="boolean"==typeof i.validate?i.validate:!t.isMapboxURL(e);e=t.normalizeStyleURL(e,i.accessToken);var o=this.map._transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,function(e,i){r._request=null,e?r.fire(new t.ErrorEvent(e)):i&&r._load(i,n)})},i.prototype.loadJSON=function(e,i){var r=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame(function(){r._request=null,r._load(e,!1!==i.validate)})},i.prototype._load=function(e,i){var r=this;if(!i||!ei(this,t.validateStyle(e))){for(var n in this._loaded=!0,this.stylesheet=e,e.sources)r.addSource(n,e.sources[n],{validate:!1});e.sprite?this._spriteRequest=function(e,i,r){function n(){if(s)r(s);else if(o&&a){var e=t.browser.getImageData(a),i={};for(var n in o){var A=o[n],l=A.width,u=A.height,c=A.x,h=A.y,p=A.sdf,f=A.pixelRatio,d=new t.RGBAImage({width:l,height:u});t.RGBAImage.copy(e,d,{x:c,y:h},{x:0,y:0},{width:l,height:u}),i[n]={data:d,pixelRatio:f,sdf:p}}r(null,i)}}var o,a,s,A=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(i(t.normalizeSpriteURL(e,A,".json"),t.ResourceType.SpriteJSON),function(t,e){l=null,s||(s=t,o=e,n())}),u=t.getImage(i(t.normalizeSpriteURL(e,A,".png"),t.ResourceType.SpriteImage),function(t,e){u=null,s||(s=t,a=e,n())});return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(e.sprite,this.map._transformRequest,function(e,i){if(r._spriteRequest=null,e)r.fire(new t.ErrorEvent(e));else if(i)for(var n in i)r.imageManager.addImage(n,i[n]);r.imageManager.setLoaded(!0),r.fire(new t.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var o=h(this.stylesheet.layers);this._order=o.map(function(t){return t.id}),this._layers={};for(var a=0,s=o;a<s.length;a+=1){var A=s[a];(A=t.createStyleLayer(A)).setEventedParent(r,{layer:{id:A.id}}),r._layers[A.id]=A}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new wt(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._validateLayer=function(e){var i=this.sourceCaches[e.source];if(i){var r=e.sourceLayer;if(r){var n=i.getSource();("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+n.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){for(var e=[],i=0,r=t;i<r.length;i+=1){var n=r[i],o=this._layers[n];"custom"!==o.type&&e.push(o.serialize())}return e},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){var i=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var o in(r.length||n.length)&&this._updateWorkerLayers(r,n),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}for(var A in this.sourceCaches)this.sourceCaches[A].used=!1;for(var l=0,u=this._order;l<u.length;l+=1){var c=u[l],h=this._layers[c];h.recalculate(e),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(e),this.z=e.zoom,i&&this.fire(new t.Event("data",{dataType:"style"}))}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(e){var i=this;if(this._checkLoaded(),ei(this,t.validateStyle(e)))return!1;(e=t.clone(e)).layers=h(e.layers);var r=v(this.serialize(),e).filter(function(t){return!(t.command in ri)});if(0===r.length)return!1;var n=r.filter(function(t){return!(t.command in ii)});if(n.length>0)throw new Error("Unimplemented: "+n.map(function(t){return t.command}).join(", ")+".");return r.forEach(function(t){"setTransition"!==t.command&&i[t.command].apply(i,t.args)}),this.stylesheet=e,!0},i.prototype.addImage=function(e,i){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,i),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(e,i,r){var n=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!i.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(i).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,i,null,r))){this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);var o=this.sourceCaches[e]=new ke(e,i,this.dispatcher);o.style=this,o.setEventedParent(this,function(){return{isSourceLoaded:n.loaded(),source:o.serialize(),sourceId:e}}),o.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var i in this._layers)if(this._layers[i].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+i+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,i,r){this._checkLoaded();var n=e.id;if(this.getLayer(n))this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" already exists on this map')));else{var o;if("custom"===e.type){if(ei(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(n,e.source),e=t.clone(e),e=t.extend(e,{source:n})),this._validate(t.validateStyle.layer,"layers."+n,e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:n}})}var a=i?this._order.indexOf(i):this._order.length;if(i&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.')));else{if(this._order.splice(a,0,n),this._layerOrderChanged=!0,this._layers[n]=o,this._removedLayers[n]&&o.source&&"custom"!==o.type){var s=this._removedLayers[n];delete this._removedLayers[n],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},i.prototype.moveLayer=function(e,i){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==i){var r=this._order.indexOf(e);this._order.splice(r,1);var n=i?this._order.indexOf(i):this._order.length;i&&-1===n?this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.'))):(this._order.splice(n,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(e){this._checkLoaded();var i=this._layers[e];if(i){i.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],i.onRemove&&i.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,i,r){this._checkLoaded();var n=this.getLayer(e);n?n.minzoom===i&&n.maxzoom===r||(null!=i&&(n.minzoom=i),null!=r&&(n.maxzoom=r),this._updateLayer(n)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,i){this._checkLoaded();var r=this.getLayer(e);if(r){if(!t.isEqual(r.filter,i))return null==i?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(t.validateStyle.filter,"layers."+r.id+".filter",i)||(r.filter=t.clone(i),this._updateLayer(r)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(e){return t.clone(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,i,r){this._checkLoaded();var n=this.getLayer(e);n?t.isEqual(n.getLayoutProperty(i),r)||(n.setLayoutProperty(i,r),this._updateLayer(n)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},i.prototype.setPaintProperty=function(e,i,r){this._checkLoaded();var n=this.getLayer(e);n?t.isEqual(n.getPaintProperty(i),r)||(n.setPaintProperty(i,r)&&this._updateLayer(n),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.setFeatureState=function(e,i){this._checkLoaded();var r=e.source,n=e.sourceLayer,o=this.sourceCaches[r],a=parseInt(e.id,10);void 0!==o?"vector"!==o.getSource().type||n?isNaN(a)||a<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):o.setFeatureState(n,a,i):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types."))):this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(e){this._checkLoaded();var i=e.source,r=e.sourceLayer,n=this.sourceCaches[i],o=parseInt(e.id,10);if(void 0!==n)if("vector"!==n.getSource().type||r){if(!(isNaN(o)||o<0))return n.getFeatureState(r,o);this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._serializeLayers(this._order)},function(t){return void 0!==t})},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenRenderedFeatures=function(t){for(var e=[],i=this._order.length-1;i>=0;i--)for(var r=this._order[i],n=0,o=t;n<o.length;n+=1){var a=o[n][r];if(a)for(var s=0,A=a;s<A.length;s+=1){var l=A[s];e.push(l)}}return e},i.prototype.queryRenderedFeatures=function(e,i,r){i&&i.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",i.filter);var n={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,A=i.layers;o<A.length;o+=1){var l=A[o],u=this._layers[l];if(!u)return this.fire(new t.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be queried for features."))),[];n[u.source]=!0}}var c=[],h=e.map(function(t){return r.pointCoordinate(t)});for(var p in this.sourceCaches)i.layers&&!n[p]||c.push(a(this.sourceCaches[p],this._layers,h,i,r));return this.placement&&c.push(function(t,e,i,r,n,o){for(var a={},A=n.queryRenderedSymbols(i),l=[],u=0,c=Object.keys(A).map(Number);u<c.length;u+=1){var h=c[u];l.push(o[h])}l.sort(s);for(var p=0,f=l;p<f.length;p+=1)!function(){var e=f[p],i=e.featureIndex.lookupSymbolFeatures(A[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,r.filter,r.layers,t);for(var n in i){var o=a[n]=a[n]||[],s=i[n];s.sort(function(t,i){var r=e.featureSortOrder;if(r){var n=r.indexOf(t.featureIndex);return r.indexOf(i.featureIndex)-n}return i.featureIndex-t.featureIndex});for(var l=0,u=s;l<u.length;l+=1){var c=u[l];o.push(c.feature)}}}();for(var d in a)!function(i){a[i].forEach(function(r){var n=t[i],o=e[n.source].getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=o})}(d);return a}(this._layers,this.sourceCaches,e,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenRenderedFeatures(c)},i.prototype.querySourceFeatures=function(e,i){i&&i.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",i.filter);var r=this.sourceCaches[e];return r?function(t,e){for(var i=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),r=[],n={},o=0;o<i.length;o++){var a=i[o],s=a.tileID.canonical.key;n[s]||(n[s]=!0,a.querySourceFeatures(r,e))}return r}(r,i):[]},i.prototype.addSourceType=function(t,e,r){return i.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e){this._checkLoaded();var i=this.light.getLight(),r=!1;for(var n in e)if(!t.isEqual(e[n],i[n])){r=!0;break}if(r){var o={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(o)}},i.prototype._validate=function(e,i,r,n,o){return(!o||!1!==o.validate)&&ei(this,e.call(t.validateStyle,t.extend({key:i,style:this.serialize(),value:r,styleSpec:t.styleSpec},n)))},i.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(e,i,r,n){for(var o=!1,a=!1,s={},A=0,l=this._order;A<l.length;A+=1){var u=l[A],c=this._layers[u];if("symbol"===c.type){if(!s[c.source]){var h=this.sourceCaches[c.source];s[c.source]=h.getRenderableIds(!0).map(function(t){return h.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var p=this.crossTileSymbolIndex.addLayer(c,s[c.source],e.center.lng);o=o||p}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var f=this._layerOrderChanged;if((f||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now()))&&(this.pauseablePlacement=new We(e,this._order,f,i,r,n),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,t.browser.now()),a=!0),o&&this.pauseablePlacement.placement.setStale()),a||o)for(var d=0,m=this._order;d<m.length;d+=1){var y=m[d],g=this._layers[y];"symbol"===g.type&&this.placement.updateLayerOpacities(g,s[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},i.prototype.getImages=function(t,e,i){this.imageManager.getImages(e.icons,i)},i.prototype.getGlyphs=function(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)},i}(t.Evented);ni.getSourceType=function(t){return Dt[t]},ni.setSourceType=function(t,e){Dt[t]=e},ni.registerForPluginAvailability=t.registerForPluginAvailability;var oi=t.createLayout([{name:"a_pos",type:"Int16",components:2
}]),ai=O("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),si=O("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ai=O("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),li=O("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/DEVICE_PIXEL_RATIO/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),ui=O("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ci=O("#pragma mapbox: define highp float weight\nuniform highp float u_intensity;varying vec2 v_extrude;\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nuniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;const highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),hi=O("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),pi=O("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=a_extrude*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),fi=O("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),di=O("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),mi=O("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),yi=O("#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_pos;void main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),gi=O("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),_i=O("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),vi=O("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);}"),xi=O("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));}"),bi=O("uniform sampler2D u_image;uniform float u_opacity;varying vec2 v_pos;void main() {gl_FragColor=texture2D(u_image,v_pos)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),wi=O("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;return (data.r+data.g*256.0+data.b*256.0*256.0)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(a_texture_pos/8192.0)/2.0+0.25;}"),Ei=O("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Ti=O("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Si=O("#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nuniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;void main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ki=O("uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_gl_units_to_pixels;uniform mediump float u_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),Ci=O("uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Pi=O("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Mi=O("uniform sampler2D u_texture;\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;\n#pragma mapbox: define lowp float opacity\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Ii=O("#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),zi=Object.freeze({
prelude:ai,background:si,backgroundPattern:Ai,circle:li,clippingMask:ui,heatmap:ci,heatmapTexture:hi,collisionBox:pi,collisionCircle:fi,debug:di,fill:mi,fillOutline:yi,fillOutlinePattern:gi,fillPattern:_i,fillExtrusion:vi,fillExtrusionPattern:xi,extrusionTexture:bi,hillshadePrepare:wi,hillshade:Ei,line:Ti,lineGradient:Si,linePattern:ki,lineSDF:Ci,raster:Pi,symbolIcon:Mi,symbolSDF:Ii}),Bi=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Bi.prototype.bind=function(t,e,i,r,n,o,a,s){this.context=t;for(var A=this.boundPaintVertexBuffers.length!==r.length,l=0;!A&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(A=!0);var u=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==i||A||this.boundIndexBuffer!==n||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||u?this.freshBind(e,i,r,n,o,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),n&&n.dynamicDraw&&n.bind(),s&&s.bind())},Bi.prototype.freshBind=function(t,e,i,r,n,o,a){var s,A=t.numAttributes,l=this.context,u=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=r,this.boundVertexOffset=n,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var c=A;c<s;c++)u.disableVertexAttribArray(c)}e.enableAttributes(u,t);for(var h=0,p=i;h<p.length;h+=1)p[h].enableAttributes(u,t);o&&o.enableAttributes(u,t),a&&a.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,n);for(var f=0,d=i;f<d.length;f+=1){var m=d[f];m.bind(),m.setVertexAttribPointers(u,t,n)}o&&(o.bind(),o.setVertexAttribPointers(u,t,n)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,t,n)),l.currentNumAttributes=A},Bi.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Di=function(e,i,r,n,o){var a=e.gl;this.program=a.createProgram();var s=r.defines().concat("#define DEVICE_PIXEL_RATIO "+t.browser.devicePixelRatio.toFixed(1));o&&s.push("#define OVERDRAW_INSPECTOR;");var A=s.concat(ai.fragmentSource,i.fragmentSource).join("\n"),l=s.concat(ai.vertexSource,i.vertexSource).join("\n"),u=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(u,A),a.compileShader(u),a.attachShader(this.program,u);var c=a.createShader(a.VERTEX_SHADER);a.shaderSource(c,l),a.compileShader(c),a.attachShader(this.program,c);for(var h=r.layoutAttributes||[],p=0;p<h.length;p++)a.bindAttribLocation(this.program,p,h[p].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var f={},d=0;d<this.numAttributes;d++){var m=a.getActiveAttrib(this.program,d);m&&(this.attributes[m.name]=a.getAttribLocation(this.program,m.name))}for(var y=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),g=0;g<y;g++){var _=a.getActiveUniform(this.program,g);_&&(f[_.name]=a.getUniformLocation(this.program,_.name))}this.fixedUniforms=n(e,f),this.binderUniforms=r.getUniforms(e,f)};Di.prototype.draw=function(t,e,i,r,n,o,a,s,A,l,u,c,h,p,f,d){var m,y=t.gl;for(var g in t.program.set(this.program),t.setDepthMode(i),t.setStencilMode(r),t.setColorMode(n),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[g].set(a[g]);p&&p.setUniforms(t,this.binderUniforms,c,{zoom:h});for(var _=(m={},m[y.LINES]=2,m[y.TRIANGLES]=3,m[y.LINE_STRIP]=1,m)[e],v=0,x=u.get();v<x.length;v+=1){var b=x[v],w=b.vaos||(b.vaos={});(w[s]||(w[s]=new Bi)).bind(t,this,A,p?p.getPaintVertexBuffers():[],l,b.vertexOffset,f,d),y.drawElements(e,b.primitiveLength*_,y.UNSIGNED_SHORT,b.primitiveOffset*_*2)}};var Li=function(e,i,r){var n=i.style.light,o=n.properties.get("position"),a=[o.x,o.y,o.z],s=t.create$2();"viewport"===n.properties.get("anchor")&&t.fromRotation(s,-i.transform.angle),t.transformMat3(a,a,s);var A=n.properties.get("color");return{u_matrix:e,u_lightpos:a,u_lightintensity:n.properties.get("intensity"),u_lightcolor:[A.r,A.g,A.b],u_vertical_gradient:+r}},Ri=function(e,i,r,n,o,a){return t.extend(Li(e,i,r),F(o,i,a),{u_height_factor:-Math.pow(2,n.overscaledZ)/a.tileSize/8})},Oi=function(e,i,r){var n=t.create();t.ortho(n,0,e.width,e.height,0,0,1);var o=e.context.gl;return{u_matrix:n,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:r,u_opacity:i}},Fi=function(t){return{u_matrix:t}},Ui=function(e,i,r,n){return t.extend(Fi(e),F(r,i,n))},Vi=function(t,e){return{u_matrix:t,u_world:e}},Ni=function(e,i,r,n,o){return t.extend(Ui(e,i,r,n),{u_world:o})},ji=function(t,e,i,r){var n,o,a=t.transform;if("map"===r.paint.get("circle-pitch-alignment")){var s=D(i,1,a.zoom);n=!0,o=[s,s]}else n=!1,o=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(e.posMatrix,i,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+n,u_extrude_scale:o}},qi=function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,i.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,i.u_overscale_factor)}},Gi=function(t,e,i){var r=D(i,1,e.zoom),n=Math.pow(2,e.zoom-i.tileID.overscaledZ),o=i.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*n),e.pixelsToGLUnits[1]/(r*n)],u_overscale_factor:o}},Qi=function(t,e){return{u_matrix:t,u_color:e}},Hi=function(t){return{u_matrix:t}},Zi=function(t,e,i,r){return{u_matrix:t,u_extrude_scale:D(e,1,i),u_intensity:r}},Xi=function(e,i,r,n){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:r,u_color_ramp:n,u_opacity:i.paint.get("heatmap-opacity")}},Wi=function(e,i,r){var n,o,a,s=r.paint.get("hillshade-shadow-color"),A=r.paint.get("hillshade-highlight-color"),l=r.paint.get("hillshade-accent-color"),u=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);return"viewport"===r.paint.get("hillshade-illumination-anchor")&&(u-=e.transform.angle),{u_matrix:e.transform.calculatePosMatrix(i.tileID.toUnwrapped(),!0),u_image:0,u_latrange:(n=i.tileID,o=Math.pow(2,n.canonical.z),a=n.canonical.y,[new t.MercatorCoordinate(0,a/o).toLngLat().lat,new t.MercatorCoordinate(0,(a+1)/o).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),u],u_shadow:s,u_highlight:A,u_accent:l}},Yi=function(e,i){var r=e.dem.dim,n=t.create();return t.ortho(n,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(n,n,[0,-t.EXTENT,0]),{u_matrix:n,u_image:1,u_dimension:[2*r,2*r],u_zoom:e.tileID.overscaledZ,u_maxzoom:i}},Ki=function(t,e,i){var r=t.transform;return{u_matrix:V(t,e,i),u_ratio:1/D(e,1,r.zoom),u_gl_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},Ji=function(e,i,r){return t.extend(Ki(e,i,r),{u_image:0})},$i=function(e,i,r,n){var o=e.transform,a=U(i,o);return{u_matrix:V(e,i,r),u_texsize:i.imageAtlasTexture.size,u_ratio:1/D(i,1,o.zoom),u_image:0,u_scale:[t.browser.devicePixelRatio,a,n.fromScale,n.toScale],u_fade:n.t,u_gl_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},tr=function(e,i,r,n,o){var a=e.transform,s=e.lineAtlas,A=U(i,a),l="round"===r.layout.get("line-cap"),u=s.getDash(n.from,l),c=s.getDash(n.to,l),h=u.width*o.fromScale,p=c.width*o.toScale;return t.extend(Ki(e,i,r),{u_patternscale_a:[A/h,-u.height/2],u_patternscale_b:[A/p,-c.height/2],u_sdfgamma:s.width/(256*Math.min(h,p)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:c.y,u_mix:o.t})},er=function(t,e,i,r,n){return{u_matrix:t,u_tl_parent:e,u_scale_parent:i,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*n.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:n.paint.get("raster-brightness-min"),u_brightness_high:n.paint.get("raster-brightness-max"),u_saturation_factor:(a=n.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=n.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:function(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}(n.paint.get("raster-hue-rotate"))};var o,a},ir=function(t,e,i,r,n,o,a,s,A,l){var u=n.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:u.width/u.height,u_fade_change:n.options.fadeDuration?n.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_gl_coord_matrix:s,u_is_text:+A,u_pitch_with_map:+r,u_texsize:l,u_texture:0}},rr=function(e,i,r,n,o,a,s,A,l,u,c){var h=o.transform;return t.extend(ir(e,i,r,n,o,a,s,A,l,u),{u_gamma_scale:n?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_is_halo:+c})},nr=function(t,e,i){return{u_matrix:t,u_opacity:e,u_color:i}},or=function(e,i,r,n,o,a){return t.extend(function(t,e,i,r){var n=i.imageManager.getPattern(t.from),o=i.imageManager.getPattern(t.to),a=i.imageManager.getPixelSize(),s=a.width,A=a.height,l=Math.pow(2,r.tileID.overscaledZ),u=r.tileSize*Math.pow(2,i.transform.tileZoom)/l,c=u*(r.tileID.canonical.x+r.tileID.wrap*l),h=u*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:n.tl,u_pattern_br_a:n.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,A],u_mix:e.t,u_pattern_size_a:n.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/D(r,1,i.transform.tileZoom),u_pixel_coord_upper:[c>>16,h>>16],u_pixel_coord_lower:[65535&c,65535&h]}}(n,a,r,o),{u_matrix:e,u_opacity:i})},ar={fillExtrusion:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,i.u_vertical_gradient)}},fillExtrusionPattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,i.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,i.u_height_factor),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},extrusionTexture:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_opacity:new t.Uniform1f(e,i.u_opacity)}},fill:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},fillPattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},fillOutline:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world)}},fillOutlinePattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},circle:function(e,i){return{u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,i.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},collisionBox:qi,collisionCircle:qi,debug:function(e,i){return{u_color:new t.UniformColor(e,i.u_color),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},clippingMask:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},heatmap:function(e,i){return{u_extrude_scale:new t.Uniform1f(e,i.u_extrude_scale),u_intensity:new t.Uniform1f(e,i.u_intensity),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},heatmapTexture:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_color_ramp:new t.Uniform1i(e,i.u_color_ramp),u_opacity:new t.Uniform1f(e,i.u_opacity)}},hillshade:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_latrange:new t.Uniform2f(e,i.u_latrange),u_light:new t.Uniform2f(e,i.u_light),u_shadow:new t.UniformColor(e,i.u_shadow),u_highlight:new t.UniformColor(e,i.u_highlight),u_accent:new t.UniformColor(e,i.u_accent)}},hillshadePrepare:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_dimension:new t.Uniform2f(e,i.u_dimension),u_zoom:new t.Uniform1f(e,i.u_zoom),u_maxzoom:new t.Uniform1f(e,i.u_maxzoom)}},line:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels)}},lineGradient:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels),u_image:new t.Uniform1i(e,i.u_image)}},linePattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_texsize:new t.Uniform2f(e,i.u_texsize),u_ratio:new t.Uniform1f(e,i.u_ratio),u_image:new t.Uniform1i(e,i.u_image),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},lineSDF:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,i.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,i.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,i.u_sdfgamma),u_image:new t.Uniform1i(e,i.u_image),u_tex_y_a:new t.Uniform1f(e,i.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,i.u_tex_y_b),u_mix:new t.Uniform1f(e,i.u_mix)}},raster:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_tl_parent:new t.Uniform2f(e,i.u_tl_parent),u_scale_parent:new t.Uniform1f(e,i.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,i.u_buffer_scale),u_fade_t:new t.Uniform1f(e,i.u_fade_t),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image0:new t.Uniform1i(e,i.u_image0),u_image1:new t.Uniform1i(e,i.u_image1),u_brightness_low:new t.Uniform1f(e,i.u_brightness_low),u_brightness_high:new t.Uniform1f(e,i.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,i.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,i.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,i.u_spin_weights)}},symbolIcon:function(e,i){return{u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_gl_coord_matrix:new t.UniformMatrix4f(e,i.u_gl_coord_matrix),u_is_text:new t.Uniform1f(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture)}},symbolSDF:function(e,i){return{u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_gl_coord_matrix:new t.UniformMatrix4f(e,i.u_gl_coord_matrix),u_is_text:new t.Uniform1f(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture),u_gamma_scale:new t.Uniform1f(e,i.u_gamma_scale),u_is_halo:new t.Uniform1f(e,i.u_is_halo)}},background:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_color:new t.UniformColor(e,i.u_color)}},backgroundPattern:function(e,i){return{u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image:new t.Uniform1i(e,i.u_image),u_pattern_tl_a:new t.Uniform2f(e,i.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,i.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,i.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,i.u_pattern_br_b),u_texsize:new t.Uniform2f(e,i.u_texsize),u_mix:new t.Uniform1f(e,i.u_mix),u_pattern_size_a:new t.Uniform2f(e,i.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,i.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,i.u_scale_a),u_scale_b:new t.Uniform1f(e,i.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,i.u_tile_units_to_pixels)}}},sr=t.identity(new Float32Array(16)),Ar=t.properties.layout,lr={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},ur={symbol:function(t,e,i,r){if("translucent"===t.renderPass){var n=we.disabled,o=t.colorModeForRenderPass();0!==i.paint.get("icon-opacity").constantOr(1)&&G(t,e,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),n,o),0!==i.paint.get("text-opacity").constantOr(1)&&G(t,e,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),n,o),e.map.showCollisionBoxes&&function(t,e,i,r){q(t,e,i,r,!1),q(t,e,i,r,!0)}(t,e,i,r)}},circle:function(t,e,i,r){if("translucent"===t.renderPass){var n=i.paint.get("circle-opacity"),o=i.paint.get("circle-stroke-width"),a=i.paint.get("circle-stroke-opacity");if(0!==n.constantOr(1)||0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.context,A=s.gl,l=t.depthModeForSublayer(0,be.ReadOnly),u=we.disabled,c=t.colorModeForRenderPass(),h=0;h<r.length;h++){var p=r[h],f=e.getTile(p),d=f.getBucket(i);if(d){var m=d.programConfigurations.get(i.id);t.useProgram("circle",m).draw(s,A.TRIANGLES,l,u,c,Te.disabled,ji(t,p,f,i),i.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,i.paint,t.transform.zoom,m)}}}},heatmap:function(e,i,r,n){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=e.depthModeForSublayer(0,be.ReadOnly),A=we.disabled,l=new Ee([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,i){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var n=i.heatmapFbo;if(n)r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),t.bindFramebuffer.set(n.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),n=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,i,r,n){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,i.width/4,i.height/4,0,o.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),n.colorAttachment.set(r),e.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,n.colorAttachment.setDirty(),t(e,i,r,n))}(t,e,o,n)}}(o,e,r),o.clear({color:t.Color.transparent});for(var u=0;u<n.length;u++){var c=n[u];if(!i.hasRenderableParent(c)){var h=i.getTile(c),p=h.getBucket(r);if(p){var f=p.programConfigurations.get(r.id),d=e.useProgram("heatmap",f),m=e.transform.zoom;d.draw(o,a.TRIANGLES,s,A,l,Te.disabled,Zi(c.posMatrix,h,m,r.paint.get("heatmap-intensity")),r.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,r.paint,e.transform.zoom,f)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,i){var r=e.context,n=r.gl,o=i.heatmapFbo;if(o){r.activeTexture.set(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(n.TEXTURE1);var a=i.colorRampTexture;a||(a=i.colorRampTexture=new t.Texture(r,i.colorRamp,n.RGBA)),a.bind(n.LINEAR,n.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,n.TRIANGLES,be.disabled,we.disabled,e.colorModeForRenderPass(),Te.disabled,Xi(e,i,0,1),i.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,i.paint,e.transform.zoom)}}(e,r))},line:function(e,i,r,n){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1)){var s=e.depthModeForSublayer(0,be.ReadOnly),A=e.colorModeForRenderPass(),l=r.paint.get("line-dasharray"),u=r.paint.get("line-pattern"),c=u.constantOr(1),h=r.paint.get("line-gradient"),p=r.getCrossfadeParameters(),f=l?"lineSDF":c?"linePattern":h?"lineGradient":"line",d=e.context,m=d.gl,y=!0;if(h){d.activeTexture.set(m.TEXTURE0);var g=r.gradientTexture;if(!r.gradient)return;g||(g=r.gradientTexture=new t.Texture(d,r.gradient,m.RGBA)),g.bind(m.LINEAR,m.CLAMP_TO_EDGE)}for(var _=0,v=n;_<v.length;_+=1){var x=v[_],b=i.getTile(x);if(!c||b.patternsLoaded()){var w=b.getBucket(r);if(w){var E=w.programConfigurations.get(r.id),T=e.context.program.get(),S=e.useProgram(f,E),k=y||S.program!==T,C=u.constantOr(null);if(C&&b.imageAtlas){var P=b.imageAtlas.patternPositions[C.to],M=b.imageAtlas.patternPositions[C.from];P&&M&&E.setConstantPatternPositions(P,M)}var I=l?tr(e,b,r,l,p):c?$i(e,b,r,p):h?Ji(e,b,r):Ki(e,b,r);l&&(k||e.lineAtlas.dirty)?(d.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(d)):c&&(d.activeTexture.set(m.TEXTURE0),b.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),E.updatePatternPaintBuffers(p)),S.draw(d,m.TRIANGLES,s,e.stencilModeForClipping(x),A,Te.disabled,I,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,e.transform.zoom,E),y=!1}}}}}},fill:function(e,i,r,n){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),A=r.paint.get("fill-pattern").constantOr(1)||1!==o.constantOr(t.Color.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";e.renderPass===A&&H(e,i,r,n,e.depthModeForSublayer(1,"opaque"===e.renderPass?be.ReadWrite:be.ReadOnly),s,!1),"translucent"===e.renderPass&&r.paint.get("fill-antialias")&&H(e,i,r,n,e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,be.ReadOnly),s,!0)}},"fill-extrusion":function(t,e,i,r){0!==i.paint.get("fill-extrusion-opacity")&&("offscreen"===t.renderPass?(Z(t,i),function(t,e,i,r,n,o,a){for(var s=t.context,A=s.gl,l=i.paint.get("fill-extrusion-pattern"),u=l.constantOr(1),c=i.getCrossfadeParameters(),h=0,p=r;h<p.length;h+=1){var f=p[h],d=e.getTile(f),m=d.getBucket(i);if(m){var y=m.programConfigurations.get(i.id),g=t.useProgram(u?"fillExtrusionPattern":"fillExtrusion",y);u&&(t.context.activeTexture.set(A.TEXTURE0),d.imageAtlasTexture.bind(A.LINEAR,A.CLAMP_TO_EDGE),y.updatePatternPaintBuffers(c));var _=l.constantOr(null);if(_&&d.imageAtlas){var v=d.imageAtlas.patternPositions[_.to],x=d.imageAtlas.patternPositions[_.from];v&&x&&y.setConstantPatternPositions(v,x)}var b=t.translatePosMatrix(f.posMatrix,d,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),w=i.paint.get("fill-extrusion-vertical-gradient"),E=u?Ri(b,t,w,f,c,d):Li(b,t,w);g.draw(s,s.gl.TRIANGLES,n,o,a,Te.backCCW,E,i.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,i.paint,t.transform.zoom,y)}}
}(t,e,i,r,new be(t.context.gl.LEQUAL,be.ReadWrite,[0,1]),we.disabled,t.colorModeForRenderPass())):"translucent"===t.renderPass&&X(t,i,i.paint.get("fill-extrusion-opacity")))},hillshade:function(t,e,i,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var n=t.context,o=e.getSource().maxzoom,a=t.depthModeForSublayer(0,be.ReadOnly),s=we.disabled,A=t.colorModeForRenderPass(),l=0,u=r;l<u.length;l+=1){var c=u[l],h=e.getTile(c);h.needsHillshadePrepare&&"offscreen"===t.renderPass?Y(t,h,i,o,a,s,A):"translucent"===t.renderPass&&W(t,h,i,a,s,A)}n.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,i,r){if("translucent"===t.renderPass&&0!==i.paint.get("raster-opacity"))for(var n=t.context,o=n.gl,a=e.getSource(),s=t.useProgram("raster"),A=we.disabled,l=t.colorModeForRenderPass(),u=r.length&&r[0].overscaledZ,c=0,h=r;c<h.length;c+=1){var p=h[c],f=t.depthModeForSublayer(p.overscaledZ-u,1===i.paint.get("raster-opacity")?be.ReadWrite:be.ReadOnly,o.LESS),d=e.getTile(p),m=t.transform.calculatePosMatrix(p.toUnwrapped(),!0);d.registerFadeDuration(i.paint.get("raster-fade-duration"));var y=e.findLoadedParent(p,0),g=K(d,y,e,i,t.transform),_=void 0,v=void 0,x="nearest"===i.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;n.activeTexture.set(o.TEXTURE0),d.texture.bind(x,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),n.activeTexture.set(o.TEXTURE1),y?(y.texture.bind(x,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),_=Math.pow(2,y.tileID.overscaledZ-d.tileID.overscaledZ),v=[d.tileID.canonical.x*_%1,d.tileID.canonical.y*_%1]):d.texture.bind(x,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var b=er(m,v||[0,0],_||1,g,i);a instanceof It?s.draw(n,o.TRIANGLES,f,A,l,Te.disabled,b,i.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):d.maskedBoundsBuffer&&d.maskedIndexBuffer&&d.segments?s.draw(n,o.TRIANGLES,f,A,l,Te.disabled,b,i.id,d.maskedBoundsBuffer,d.maskedIndexBuffer,d.segments,i.paint,t.transform.zoom):s.draw(n,o.TRIANGLES,f,A,l,Te.disabled,b,i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,i){var r=i.paint.get("background-color"),n=i.paint.get("background-opacity");if(0!==n){var o=t.context,a=o.gl,s=t.transform,A=s.tileSize,l=i.paint.get("background-pattern");if(!t.isPatternMissing(l)){var u=l||1!==r.a||1!==n?"translucent":"opaque";if(t.renderPass===u){var c=we.disabled,h=t.depthModeForSublayer(0,"opaque"===u?be.ReadWrite:be.ReadOnly),p=t.colorModeForRenderPass(),f=t.useProgram(l?"backgroundPattern":"background"),d=s.coveringTiles({tileSize:A});l&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var m=i.getCrossfadeParameters(),y=0,g=d;y<g.length;y+=1){var _=g[y],v=t.transform.calculatePosMatrix(_.toUnwrapped()),x=l?or(v,n,t,l,{tileID:_,tileSize:A},m):nr(v,n,r);f.draw(o,a.TRIANGLES,h,c,p,Te.disabled,x,i.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,i){for(var r=0;r<i.length;r++)J(t,e,i[r])},custom:function(t,e,i){var r=t.context,n=i.implementation;if("offscreen"===t.renderPass){var o=n.prerender;o&&(t.setCustomLayerDefaults(),o.call(n,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState()),"3d"===n.renderingMode&&(t.setCustomLayerDefaults(),Z(t,i),n.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass)if("3d"===n.renderingMode)X(t,i,1);else{t.setCustomLayerDefaults(),r.setStencilMode(we.disabled);var a=t.depthModeForSublayer(0,be.ReadOnly);r.setDepthMode(a),n.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},cr=function(e,i){this.context=new Se(e),this.transform=i,this._tileTextures={},this.setup(),this.numSublayers=ke.maxUnderzooming+ke.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.ProgramConfiguration,this.crossTileSymbolIndex=new ti};cr.prototype.resize=function(e,i){var r=this.context.gl;if(this.width=e*t.browser.devicePixelRatio,this.height=i*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var n=0,o=this.style._order;n<o.length;n+=1){var a=o[n];this.style._layers[a].resize()}this.depthRbo&&(r.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},cr.prototype.setup=function(){var e=this.context,i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(i,oi.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,oi.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var n=new t.StructArrayLayout4i8;n.emplaceBack(0,0,0,0),n.emplaceBack(t.EXTENT,0,t.EXTENT,0),n.emplaceBack(0,t.EXTENT,0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(n,t.rasterBoundsAttributes.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,oi.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);var A=this.context.gl;this.stencilClearMode=new we({func:A.ALWAYS,mask:0},0,255,A.ZERO,A.ZERO,A.ZERO)},cr.prototype.clearStencil=function(){var e=this.context,i=e.gl,r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[i.drawingBufferWidth,i.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,i.TRIANGLES,be.disabled,this.stencilClearMode,Ee.disabled,Te.disabled,Hi(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},cr.prototype._renderTileClippingMasks=function(t){var e=this.context,i=e.gl;e.setColorMode(Ee.disabled),e.setDepthMode(be.disabled);var r=this.useProgram("clippingMask"),n=1;this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],A=this._tileClippingMaskIDs[s.key]=n++;r.draw(e,i.TRIANGLES,be.disabled,new we({func:i.ALWAYS,mask:0},A,255,i.KEEP,i.KEEP,i.REPLACE),Ee.disabled,Te.disabled,Hi(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}},cr.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new we({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},cr.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new Ee([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ee.unblended:Ee.alphaBlended},cr.prototype.depthModeForSublayer=function(t,e,i){var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,n=r-1+this.depthRange;return new be(i||this.context.gl.LEQUAL,e,[n,r])},cr.prototype.render=function(e,i){this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now());var r=this.style._order,n=this.style.sourceCaches;for(var o in n){var a=n[o];a.used&&a.prepare(this.context)}var s,A={},l={},u={};for(var c in n){var h=n[c];A[c]=h.getVisibleCoordinates(),l[c]=A[c].slice().reverse(),u[c]=h.getVisibleCoordinates(!0).reverse()}for(var p in n){var f=n[p],d=f.getSource();if("raster"===d.type||"raster-dem"===d.type){for(var m=[],y=0,g=A[p];y<g.length;y+=1){var _=g[y];m.push(f.getTile(_))}N(m,this.context)}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var v=0,x=r;v<x.length;v+=1){var b=x[v],w=this.style._layers[b];if(w.hasOffscreenPass()&&!w.isHidden(this.transform.zoom)){var E=l[w.source];("custom"===w.type||E.length)&&this.renderLayer(this,n[w.source],w,E)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var T=this.style._layers[r[this.currentLayer]],S=n[T.source],k=A[T.source];T.source!==s&&S&&(this.clearStencil(),S.getSource().isTileClipped&&this._renderTileClippingMasks(k)),this.renderLayer(this,S,T,k),s=T.source}for(this.renderPass="translucent",this.currentLayer=0,s=null;this.currentLayer<r.length;this.currentLayer++){var C=this.style._layers[r[this.currentLayer]],P=n[C.source],M=("symbol"===C.type?u:l)[C.source];C.source!==s&&P&&(this.clearStencil(),P.getSource().isTileClipped&&this._renderTileClippingMasks(A[C.source])),this.renderLayer(this,P,C,M),s=C.source}if(this.options.showTileBoundaries)for(var I in n){ur.debug(this,n[I],A[I]);break}this.setCustomLayerDefaults()},cr.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},cr.prototype.renderLayer=function(t,e,i,r){i.isHidden(this.transform.zoom)||("background"===i.type||"custom"===i.type||r.length)&&(this.id=i.id,ur[i.type](t,e,i,r))},cr.prototype.translatePosMatrix=function(e,i,r,n,o){if(!r[0]&&!r[1])return e;var a=o?"map"===n?this.transform.angle:0:"viewport"===n?-this.transform.angle:0;if(a){var s=Math.sin(a),A=Math.cos(a);r=[r[0]*A-r[1]*s,r[0]*s+r[1]*A]}var l=[o?r[0]:D(i,r[0],this.transform.zoom),o?r[1]:D(i,r[1],this.transform.zoom),0],u=new Float32Array(16);return t.translate(u,e,l),u},cr.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},cr.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},cr.prototype.isPatternMissing=function(t){if(!t)return!1;var e=this.imageManager.getPattern(t.from),i=this.imageManager.getPattern(t.to);return!e||!i},cr.prototype.useProgram=function(t,e){void 0===e&&(e=this.emptyProgramConfiguration),this.cache=this.cache||{};var i=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new Di(this.context,zi[t],e,ar[t],this._showOverdrawInspector)),this.cache[i]},cr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},cr.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)};var hr=function(e,i,r){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===r||r,this._minZoom=e||0,this._maxZoom=i||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},pr={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};hr.prototype.clone=function(){var t=new hr(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},pr.minZoom.get=function(){return this._minZoom},pr.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},pr.maxZoom.get=function(){return this._maxZoom},pr.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},pr.renderWorldCopies.get=function(){return this._renderWorldCopies},pr.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},pr.worldSize.get=function(){return this.tileSize*this.scale},pr.centerPoint.get=function(){return this.size._div(2)},pr.size.get=function(){return new t.Point(this.width,this.height)},pr.bearing.get=function(){return-this.angle/Math.PI*180},pr.bearing.set=function(e){var i=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=t.create$4(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},pr.pitch.get=function(){return this._pitch/Math.PI*180},pr.pitch.set=function(e){var i=t.clamp(e,0,60)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())},pr.fov.get=function(){return this._fov/Math.PI*180},pr.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},pr.zoom.get=function(){return this._zoom},pr.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},pr.center.get=function(){return this._center},pr.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},hr.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},hr.prototype.getVisibleUnwrappedCoordinates=function(e){var i=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),n=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,n.x,o.x,a.x)),A=Math.floor(Math.max(r.x,n.x,o.x,a.x)),l=s-1;l<=A+1;l++)0!==l&&i.push(new t.UnwrappedTileID(l,e));return i},hr.prototype.coveringTiles=function(e){var i=this.coveringZoomLevel(e),r=i;if(void 0!==e.minzoom&&i<e.minzoom)return[];void 0!==e.maxzoom&&i>e.maxzoom&&(i=e.maxzoom);var n=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,i),a=new t.Point(o*n.x-.5,o*n.y-.5);return function(e,i,r,n){function o(i,o,A){var l,u,c,h;if(A>=0&&A<=a)for(l=i;l<o;l++)u=Math.floor(l/a),c=(l%a+a)%a,0!==u&&!0!==n||(h=new t.OverscaledTileID(r,u,e,c,A),s[h.key]=h)}void 0===n&&(n=!0);var a=1<<e,s={},A=i.map(function(e){return new t.Point(e.x,e.y)._mult(a)});return et(A[0],A[1],A[2],0,a,o),et(A[2],A[3],A[0],0,a,o),Object.keys(s).map(function(t){return s[t]})}(i,[this.pointCoordinate(new t.Point(0,0)),this.pointCoordinate(new t.Point(this.width,0)),this.pointCoordinate(new t.Point(this.width,this.height)),this.pointCoordinate(new t.Point(0,this.height))],e.reparseOverscaled?r:i,this._renderWorldCopies).sort(function(t,e){return a.dist(t.canonical)-a.dist(e.canonical)})},hr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},pr.unmodified.get=function(){return this._unmodified},hr.prototype.zoomScale=function(t){return Math.pow(2,t)},hr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},hr.prototype.project=function(e){var i=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(i)*this.worldSize)},hr.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},pr.point.get=function(){return this.project(this.center)},hr.prototype.setLocationAtPoint=function(e,i){var r=this.pointCoordinate(i),n=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-n.x),o.y-(r.y-n.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},hr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},hr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},hr.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},hr.prototype.coordinateLocation=function(t){return t.toLngLat()},hr.prototype.pointCoordinate=function(e){var i=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(i,i,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var n=i[3],o=r[3],a=i[0]/n,s=r[0]/o,A=i[1]/n,l=r[1]/o,u=i[2]/n,c=r[2]/o,h=u===c?0:(0-u)/(c-u);return new t.MercatorCoordinate(t.number(a,s,h)/this.worldSize,t.number(A,l,h)/this.worldSize)},hr.prototype.coordinatePoint=function(e){var i=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(i,i,this.pixelMatrix),new t.Point(i[0]/i[3],i[1]/i[3])},hr.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},hr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},hr.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},hr.prototype.calculatePosMatrix=function(e,i){void 0===i&&(i=!1);var r=e.key,n=i?this._alignedPosMatrixCache:this._posMatrixCache;if(n[r])return n[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,A=t.identity(new Float64Array(16));return t.translate(A,A,[s*a,o.y*a,0]),t.scale(A,A,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(A,i?this.alignedProjMatrix:this.projMatrix,A),n[r]=new Float32Array(A),n[r]},hr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},hr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,i,r,n,o=-90,a=90,s=-180,A=180,l=this.size,u=this._unmodified;if(this.latRange){var c=this.latRange;o=t.mercatorYfromLat(c[1])*this.worldSize,e=(a=t.mercatorYfromLat(c[0])*this.worldSize)-o<l.y?l.y/(a-o):0}if(this.lngRange){var h=this.lngRange;s=t.mercatorXfromLng(h[0])*this.worldSize,i=(A=t.mercatorXfromLng(h[1])*this.worldSize)-s<l.x?l.x/(A-s):0}var p=this.point,f=Math.max(i||0,e||0);if(f)return this.center=this.unproject(new t.Point(i?(A+s)/2:p.x,e?(a+o)/2:p.y)),this.zoom+=this.scaleZoom(f),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var d=p.y,m=l.y/2;d-m<o&&(n=o+m),d+m>a&&(n=a-m)}if(this.lngRange){var y=p.x,g=l.x/2;y-g<s&&(r=s+g),y+g>A&&(r=A-g)}void 0===r&&void 0===n||(this.center=this.unproject(new t.Point(void 0!==r?r:p.x,void 0!==n?n:p.y))),this._unmodified=u,this._constraining=!1}},hr.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,i=Math.PI/2+this._pitch,r=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-i-e),n=this.point,o=n.x,a=n.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance),A=new Float64Array(16);t.perspective(A,this._fov,this.width/this.height,1,s),t.scale(A,A,[1,-1,1]),t.translate(A,A,[0,0,-this.cameraToCenterDistance]),t.rotateX(A,A,this._pitch),t.rotateZ(A,A,this.angle),t.translate(A,A,[-o,-a,0]),this.mercatorMatrix=t.scale([],A,[this.worldSize,this.worldSize,this.worldSize]),t.scale(A,A,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=A;var l=this.width%2/2,u=this.height%2/2,c=Math.cos(this.angle),h=Math.sin(this.angle),p=o-Math.round(o)+c*l+h*u,f=a-Math.round(a)+c*u+h*l,d=new Float64Array(A);if(t.translate(d,d,[p>.5?p-1:p,f>.5?f-1:f,0]),this.alignedProjMatrix=d,A=t.create(),t.scale(A,A,[this.width/2,-this.height/2,1]),t.translate(A,A,[1,-1,0]),this.pixelMatrix=t.multiply(new Float64Array(16),A,this.projMatrix),!(A=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=A,this._posMatrixCache={},this._alignedPosMatrixCache={}}},hr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),i=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(i,i,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(hr.prototype,pr);var fr=function(){var e,i,r,n,o;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),i=300,r=!1,n=0,o=function(){n=0,r&&(e(),n=setTimeout(o,i),r=!1)},function(){return r=!0,n||o(),n})};fr.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},fr.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},fr.prototype.getHashString=function(t){var e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,r=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),n=Math.pow(10,r),o=Math.round(e.lng*n)/n,a=Math.round(e.lat*n)/n,s=this._map.getBearing(),A=this._map.getPitch(),l="";return l+=t?"#/"+o+"/"+a+"/"+i:"#"+i+"/"+a+"/"+o,(s||A)&&(l+="/"+Math.round(10*s)/10),A&&(l+="/"+Math.round(A)),l},fr.prototype._onHashChange=function(){var e=t.window.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},fr.prototype._updateHashUnthrottled=function(){var e=this.getHashString();try{t.window.history.replaceState(t.window.history.state,"",e)}catch(t){}};var dr=function(e){function i(i,r,n,o){void 0===o&&(o={});var a=ut.mousePos(r.getCanvasContainer(),n),s=r.unproject(a);e.call(this,i,t.extend({point:a,lngLat:s,originalEvent:n},o)),this._defaultPrevented=!1,this.target=r}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var r={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(t.Event),mr=function(e){function i(i,r,n){var o=ut.touchPos(r.getCanvasContainer(),n),a=o.map(function(t){return r.unproject(t)}),s=o.reduce(function(t,e,i,r){return t.add(e.div(r.length))},new t.Point(0,0)),A=r.unproject(s);e.call(this,i,{points:o,point:s,lngLats:a,lngLat:A,originalEvent:n}),this._defaultPrevented=!1}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var r={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(t.Event),yr=function(t){function e(e,i,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,i),e}(t.Event),gr=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};gr.prototype.isEnabled=function(){return!!this._enabled},gr.prototype.isActive=function(){return!!this._active},gr.prototype.isZooming=function(){return!!this._zooming},gr.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},gr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},gr.prototype.onWheel=function(e){if(this.isEnabled()){var i=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),n=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==i&&i%4.000244140625==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":n>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(n*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this.isActive()||this._start(e)),e.preventDefault()}},gr.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},gr.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._zooming=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var i=ut.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(i)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},gr.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var i=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,n=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==n&&(n=1/n);var o="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(o*n))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:i.zoom,s=this._startZoom,A=this._easing,l=!1;if("wheel"===this._type&&s&&A){var u=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),c=A(u);i.zoom=t.number(s,a,c),u<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):l=!0}else i.zoom=a,l=!0;i.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),l&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._zooming=!1,e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom},200))}},gr.prototype._smoothOutEasing=function(e){var i=t.ease;if(this._prevEase){var r=this._prevEase,n=(t.browser.now()-r.start)/r.duration,o=r.easing(n+.01)-r.easing(n),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);i=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:i},i};var _r=function(e,i){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=i.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};_r.prototype.isEnabled=function(){return!!this._enabled},_r.prototype.isActive=function(){return!!this._active},_r.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},_r.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},_r.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.window.document.addEventListener("mousemove",this._onMouseMove,!1),t.window.document.addEventListener("keydown",this._onKeyDown,!1),t.window.document.addEventListener("mouseup",this._onMouseUp,!1),ut.disableDrag(),this._startPos=this._lastPos=ut.mousePos(this._el,e),this._active=!0)},_r.prototype._onMouseMove=function(t){var e=ut.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=e,this._box||(this._box=ut.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(i.x,e.x),n=Math.max(i.x,e.x),o=Math.min(i.y,e.y),a=Math.max(i.y,e.y);ut.setTransform(this._box,"translate("+r+"px,"+o+"px)"),this._box.style.width=n-r+"px",this._box.style.height=a-o+"px"}},_r.prototype._onMouseUp=function(e){if(0===e.button){var i=this._startPos,r=ut.mousePos(this._el,e);this._finish(),ut.suppressClick(),i.x===r.x&&i.y===r.y?this._fireEvent("boxzoomcancel",e):this._map.fitScreenCoordinates(i,r,this._map.getBearing(),{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e}))}},_r.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},_r.prototype._finish=function(){this._active=!1,t.window.document.removeEventListener("mousemove",this._onMouseMove,!1),t.window.document.removeEventListener("keydown",this._onKeyDown,!1),t.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(ut.remove(this._box),this._box=null),ut.enableDrag(),delete this._startPos,delete this._lastPos},_r.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,{originalEvent:i}))};var vr=t.bezier(0,0,.25,1),xr=function(e,i){this._map=e,this._el=i.element||e.getCanvasContainer(),this._state="disabled",this._button=i.button||"right",this._bearingSnap=i.bearingSnap||0,this._pitchWithRotate=!1!==i.pitchWithRotate,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};xr.prototype.isEnabled=function(){return"disabled"!==this._state},xr.prototype.isActive=function(){return"active"===this._state},xr.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},xr.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},xr.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=ut.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==ut.mouseButton(e))return;this._eventButton=0}ut.disableDrag(),t.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("mouseup",this._onMouseUp),t.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=ut.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},xr.prototype._onMouseMove=function(t){var e=ut.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},xr.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){
var i=this._map.transform,r=this._startPos,n=this._lastPos,o=.8*(r.x-n.x),a=-.5*(r.y-n.y),s=i.bearing-o,A=i.pitch-a,l=this._inertia,u=l[l.length-1];this._drainInertiaBuffer(),l.push([t.browser.now(),this._map._normalizeBearing(s,u[1])]),i.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),i.pitch=A),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._startPos=this._lastPos}},xr.prototype._onMouseUp=function(t){if(ut.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",ut.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},xr.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},xr.prototype._unbind=function(){t.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("mouseup",this._onMouseUp),t.window.removeEventListener("blur",this._onBlur),ut.enableDrag()},xr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},xr.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,r=i.getBearing(),n=this._inertia,o=function(){Math.abs(r)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(n.length<2)o();else{var a=n[0],s=n[n.length-1],A=n[n.length-2],l=i._normalizeBearing(r,A[1]),u=s[1]-a[1],c=u<0?-1:1,h=(s[0]-a[0])/1e3;if(0!==u&&0!==h){var p=Math.abs(u*(.25/h));p>180&&(p=180);var f=p/180;l+=c*p*(f/2),Math.abs(i._normalizeBearing(l,0))<this._bearingSnap&&(l=i._normalizeBearing(0,l)),i.rotateTo(l,{duration:1e3*f,easing:vr,noMoveStart:!0},{originalEvent:t})}else o()}},xr.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},xr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.browser.now();e.length>0&&i-e[0][0]>160;)e.shift()};var br=t.bezier(0,0,.3,1),wr=function(e,i){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=i.clickTolerance||1,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};wr.prototype.isEnabled=function(){return"disabled"!==this._state},wr.prototype.isActive=function(){return"active"===this._state},wr.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},wr.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},wr.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==ut.mouseButton(e)||(ut.addEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),ut.addEventListener(t.window.document,"mouseup",this._onMouseUp),this._start(e)))},wr.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(ut.addEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),ut.addEventListener(t.window.document,"touchend",this._onTouchEnd),this._start(e)))},wr.prototype._start=function(e){t.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=ut.mousePos(this._el,e),this._inertia=[[t.browser.now(),this._startPos]]},wr.prototype._onMove=function(e){e.preventDefault();var i=ut.mousePos(this._el,e);this._lastPos.equals(i)||"pending"===this._state&&i.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=i,this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",e),this._fireEvent("movestart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},wr.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._startPos=this._lastPos,delete this._lastMoveEvent}},wr.prototype._onMouseUp=function(t){if(0===ut.mouseButton(t))switch(this._state){case"active":this._state="enabled",ut.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},wr.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},wr.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},wr.prototype._unbind=function(){ut.removeEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),ut.removeEventListener(t.window.document,"touchend",this._onTouchEnd),ut.removeEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),ut.removeEventListener(t.window.document,"mouseup",this._onMouseUp),ut.removeEventListener(t.window,"blur",this._onBlur)},wr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},wr.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var i=e[e.length-1],r=e[0],n=i[1].sub(r[1]),o=(i[0]-r[0])/1e3;if(0===o||i[1].equals(r[1]))this._fireEvent("moveend",t);else{var a=n.mult(.3/o),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var A=s/750,l=a.mult(-A/2);this._map.panBy(l,{duration:1e3*A,easing:br,noMoveStart:!0},{originalEvent:t})}}},wr.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},wr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.browser.now();e.length>0&&i-e[0][0]>160;)e.shift()};var Er=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};Er.prototype.isEnabled=function(){return!!this._enabled},Er.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Er.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Er.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,i=0,r=0,n=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),n=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),n=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?r=-1:(o=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),A={duration:300,delayEndEvents:500,easing:it,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*i,pitch:a.getPitch()+10*r,offset:[100*-n,100*-o],center:a.getCenter()};a.easeTo(A,{originalEvent:t})}};var Tr=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};Tr.prototype.isEnabled=function(){return!!this._enabled},Tr.prototype.isActive=function(){return!!this._active},Tr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Tr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Tr.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout(function(){e._tapped=null},300)))},Tr.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},Tr.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},Tr.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Sr=t.bezier(0,0,.15,1),kr=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};kr.prototype.isEnabled=function(){return!!this._enabled},kr.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},kr.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},kr.prototype.disableRotation=function(){this._rotationDisabled=!0},kr.prototype.enableRotation=function(){this._rotationDisabled=!1},kr.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var i=ut.mousePos(this._el,e.touches[0]),r=ut.mousePos(this._el,e.touches[1]),n=i.add(r).div(2);this._startVec=i.sub(r),this._startAround=this._map.transform.pointLocation(n),this._gestureIntent=void 0,this._inertia=[],ut.addEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),ut.addEventListener(t.window.document,"touchend",this._onEnd)}},kr.prototype._getTouchEventData=function(t){var e=ut.mousePos(this._el,t.touches[0]),i=ut.mousePos(this._el,t.touches[1]),r=e.sub(i);return{vec:r,center:e.add(i).div(2),scale:r.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*r.angleWith(this._startVec)/Math.PI}},kr.prototype._onMove=function(e){if(2===e.touches.length){var i=this._getTouchEventData(e),r=i.vec,n=i.scale,o=i.bearing;if(!this._gestureIntent){var a=Math.abs(1-n)>.15;Math.abs(o)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=r)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},kr.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var i=this._map.transform;this._startScale||(this._startScale=i.scale,this._startBearing=i.bearing);var r=this._getTouchEventData(this._lastTouchEvent),n=r.center,o=r.bearing,a=r.scale,s=i.pointLocation(n),A=i.locationPoint(s);"rotate"===e&&(i.bearing=this._startBearing+o),i.zoom=i.scaleZoom(this._startScale*a),i.setLocationAtPoint(this._startAround,A),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),a,n])}},kr.prototype._onEnd=function(e){ut.removeEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),ut.removeEventListener(t.window.document,"touchend",this._onEnd);var i=this._gestureIntent,r=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,i){this._map.fire(new t.Event(i+"end",{originalEvent:e})),this._drainInertiaBuffer();var n=this._inertia,o=this._map;if(n.length<2)o.snapToNorth({},{originalEvent:e});else{var a=n[n.length-1],s=n[0],A=o.transform.scaleZoom(r*a[1]),l=o.transform.scaleZoom(r*s[1]),u=A-l,c=(a[0]-s[0])/1e3,h=a[2];if(0!==c&&A!==l){var p=.15*u/c;Math.abs(p)>2.5&&(p=p>0?2.5:-2.5);var f=1e3*Math.abs(p/(12*.15)),d=A+p*f/2e3;d<0&&(d=0),o.easeTo({zoom:d,duration:f,easing:Sr,around:this._aroundCenter?o.getCenter():o.unproject(h),noMoveStart:!0},{originalEvent:e})}else o.snapToNorth({},{originalEvent:e})}}},kr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.browser.now();e.length>2&&i-e[0][0]>160;)e.shift()};var Cr={scrollZoom:gr,boxZoom:_r,dragRotate:xr,dragPan:wr,keyboard:Er,doubleClickZoom:Tr,touchZoomRotate:kr},Pr=function(e){function i(i,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,i,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},i),r)},i.prototype.panTo=function(e,i,r){return this.easeTo(t.extend({center:e},i),r)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,i,r){return this.easeTo(t.extend({zoom:e},i),r)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,i,r){return this.easeTo(t.extend({bearing:e},i),r)},i.prototype.resetNorth=function(e,i){return this.rotateTo(0,t.extend({duration:1e3},e),i),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.cameraForBounds=function(e,i){return e=t.LngLatBounds.convert(e),this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,i)},i.prototype._cameraForBoxAndBearing=function(e,i,r,n){if("number"==typeof(n=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},n)).padding){var o=n.padding;n.padding={top:o,bottom:o,right:o,left:o}}if(t.isEqual(Object.keys(n.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"])){var a=[(n.padding.left-n.padding.right)/2,(n.padding.top-n.padding.bottom)/2],s=Math.min(n.padding.right,n.padding.left),A=Math.min(n.padding.top,n.padding.bottom);n.offset=[n.offset[0]+a[0],n.offset[1]+a[1]];var l=this.transform,u=l.project(t.LngLat.convert(e)),c=l.project(t.LngLat.convert(i)),h=u.rotate(-r*Math.PI/180),p=c.rotate(-r*Math.PI/180),f=new t.Point(Math.max(h.x,p.x),Math.max(h.y,p.y)),d=new t.Point(Math.min(h.x,p.x),Math.min(h.y,p.y)),m=t.Point.convert(n.offset),y=f.sub(d),g=(l.width-2*s-2*Math.abs(m.x))/y.x,_=(l.height-2*A-2*Math.abs(m.y))/y.y;if(!(_<0||g<0))return n.center=l.unproject(u.add(c).div(2)),n.zoom=Math.min(l.scaleZoom(l.scale*Math.min(g,_)),n.maxZoom),n.bearing=r,n;t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},i.prototype.fitBounds=function(t,e,i){return this._fitInternal(this.cameraForBounds(t,e),e,i)},i.prototype.fitScreenCoordinates=function(e,i,r,n,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(i)),r,n),n,o)},i.prototype._fitInternal=function(e,i,r){return e?(i=t.extend(e,i)).linear?this.easeTo(i,r):this.flyTo(i,r):this},i.prototype.jumpTo=function(e,i){this.stop();var r=this.transform,n=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(n=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),n&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),o&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),a&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i))},i.prototype.easeTo=function(e,i){var r=this;this.stop(),!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate&&(e.duration=0);var n=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),A="zoom"in e?+e.zoom:o,l="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:s,c=n.centerPoint.add(t.Point.convert(e.offset)),h=n.pointLocation(c),p=t.LngLat.convert(e.center||h);this._normalizeCenter(p);var f,d,m=n.project(h),y=n.project(p).sub(m),g=n.zoomScale(A-o);return e.around&&(f=t.LngLat.convert(e.around),d=n.locationPoint(f)),this._zooming=A!==o,this._rotating=a!==l,this._pitching=u!==s,this._prepareEase(i,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(e){if(r._zooming&&(n.zoom=t.number(o,A,e)),r._rotating&&(n.bearing=t.number(a,l,e)),r._pitching&&(n.pitch=t.number(s,u,e)),f)n.setLocationAtPoint(f,d);else{var h=n.zoomScale(n.zoom-o),p=A>o?Math.min(2,g):Math.max(.5,g),_=Math.pow(p,1-e),v=n.unproject(m.add(y.mult(e*_)).mult(h));n.setLocationAtPoint(n.renderWorldCopies?v.wrap():v,c)}r._fireMoveEvents(i)},function(){e.delayEndEvents?r._easeEndTimeoutID=setTimeout(function(){return r._afterEase(i)},e.delayEndEvents):r._afterEase(i)},e),this},i.prototype._prepareEase=function(e,i){this._moving=!0,i||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e){var i=this._zooming,r=this._rotating,n=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,i&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),n&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},i.prototype.flyTo=function(e,i){function r(t){var e=(b*b-x*x+(t?-1:1)*S*S*w*w)/(2*(t?b:x)*S*w);return Math.log(Math.sqrt(e*e+1)-e)}function n(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}var a=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var s=this.transform,A=this.getZoom(),l=this.getBearing(),u=this.getPitch(),c="zoom"in e?t.clamp(+e.zoom,s.minZoom,s.maxZoom):A,h="bearing"in e?this._normalizeBearing(e.bearing,l):l,p="pitch"in e?+e.pitch:u,f=s.zoomScale(c-A),d=s.centerPoint.add(t.Point.convert(e.offset)),m=s.pointLocation(d),y=t.LngLat.convert(e.center||m);this._normalizeCenter(y);var g=s.project(m),_=s.project(y).sub(g),v=e.curve,x=Math.max(s.width,s.height),b=x/f,w=_.mag();if("minZoom"in e){var E=t.clamp(Math.min(e.minZoom,A,c),s.minZoom,s.maxZoom),T=x/s.zoomScale(E-A);v=Math.sqrt(T/w*2)}var S=v*v,k=r(0),C=function(t){return o(k)/o(k+v*t)},P=function(t){return x*((o(k)*(n(e=k+v*t)/o(e))-n(k))/S)/w;var e},M=(r(1)-k)/v;if(Math.abs(w)<1e-6||!isFinite(M)){if(Math.abs(x-b)<1e-6)return this.easeTo(e,i);var I=b<x?-1:1;M=Math.abs(Math.log(b/x))/v,P=function(){return 0},C=function(t){return Math.exp(I*v*t)}}if("duration"in e)e.duration=+e.duration;else{var z="screenSpeed"in e?+e.screenSpeed/v:+e.speed;e.duration=1e3*M/z}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=l!==h,this._pitching=p!==u,this._prepareEase(i,!1),this._ease(function(e){var r=e*M,n=1/C(r);s.zoom=1===e?c:A+s.scaleZoom(n),a._rotating&&(s.bearing=t.number(l,h,e)),a._pitching&&(s.pitch=t.number(u,p,e));var o=1===e?y:s.unproject(g.add(_.mult(P(r))).mult(n));s.setLocationAtPoint(s.renderWorldCopies?o.wrap():o,d),a._fireMoveEvents(i)},function(){return a._afterEase(i)},e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},i.prototype._ease=function(e,i,r){!1===r.animate||0===r.duration?(e(1),i()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,i){e=t.wrap(e,-180,180);var r=Math.abs(e-i);return Math.abs(e-360-i)<r&&(e-=360),Math.abs(e+360-i)<r&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}},i}(t.Evented),Mr=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Mr.prototype.getDefaultPosition=function(){return"bottom-right"},Mr.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=ut.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Mr.prototype.onRemove=function(){ut.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Mr.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var i=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:t.config.ACCESS_TOKEN}];if(e){var r=i.reduce(function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<i.length-1?"&":"")),t},"?");e.href="https://www.mapbox.com/feedback/"+r+(this._map._hash?this._map._hash.getHashString(!0):"")}},Mr.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},Mr.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map(function(t){return"string"!=typeof t?"":"<p>"+t+"</p>"})):"string"==typeof this.options.customAttribution&&t.push("<p>"+this.options.customAttribution+"</p>")),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var i=this._map.style.sourceCaches;for(var r in i){var n=i[r];if(n.used){var o=n.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort(function(t,e){return t.length-e.length}),(t=t.filter(function(e,i){for(var r=i+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0})).length?(this._container.innerHTML=t.join("<p> | </p>"),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},Mr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Ir=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};Ir.prototype.onAdd=function(t){this._map=t,this._container=ut.create("div","mapboxgl-ctrl");var e=ut.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ir.prototype.onRemove=function(){ut.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ir.prototype.getDefaultPosition=function(){return"bottom-left"},Ir.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Ir.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},Ir.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var zr=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};zr.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},zr.prototype.remove=function(t){for(var e=this._currentlyRunning,i=0,r=e?this._queue.concat(e):this._queue;i<r.length;i+=1){var n=r[i];if(n.id===t)return void(n.cancelled=!0)}},zr.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,i=t;e<i.length;e+=1){var r=i[e];if(!r.cancelled&&(r.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},zr.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Br=t.window.HTMLImageElement,Dr=t.window.HTMLElement,Lr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Rr=function(e){function i(i){var r=this;if(null!=(i=t.extend({},Lr,i)).minZoom&&null!=i.maxZoom&&i.minZoom>i.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new hr(i.minZoom,i.maxZoom,i.renderWorldCopies);e.call(this,n,i),this._interactive=i.interactive,this._maxTileCacheSize=i.maxTileCacheSize,this._failIfMajorPerformanceCaveat=i.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=i.preserveDrawingBuffer,this._trackResize=i.trackResize,this._bearingSnap=i.bearingSnap,this._refreshExpiredTiles=i.refreshExpiredTiles,this._fadeDuration=i.fadeDuration,this._crossSourceCollisions=i.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=i.collectResourceTiming,this._renderTaskQueue=new zr,this._controls=[],this._mapId=t.uniqueId();var o=i.transformRequest;if(this._transformRequest=o?function(t,e){return o(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof i.container){if(this._container=t.window.document.getElementById(i.container),!this._container)throw new Error("Container '"+i.container+"' not found.")}else{if(!(i.container instanceof Dr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=i.container}if(i.maxBounds&&this.setMaxBounds(i.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return r._update(!1)}),this.on("zoom",function(){return r._update(!0)}),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var i=t.getCanvasContainer(),r=null,n=!1,o=null;for(var a in Cr)t[a]=new Cr[a](t,e),e.interactive&&e[a]&&t[a].enable(e[a]);ut.addEventListener(i,"mouseout",function(e){t.fire(new dr("mouseout",t,e))}),ut.addEventListener(i,"mousedown",function(r){n=!0,o=ut.mousePos(i,r);var a=new dr("mousedown",t,r);t.fire(a),a.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(r),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(r),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(r))}),ut.addEventListener(i,"mouseup",function(e){var i=t.dragRotate.isActive();r&&!i&&t.fire(new dr("contextmenu",t,r)),r=null,n=!1,t.fire(new dr("mouseup",t,e))}),ut.addEventListener(i,"mousemove",function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var r=e.target;r&&r!==i;)r=r.parentNode;r===i&&t.fire(new dr("mousemove",t,e))}}),ut.addEventListener(i,"mouseover",function(e){for(var r=e.target;r&&r!==i;)r=r.parentNode;r===i&&t.fire(new dr("mouseover",t,e))}),ut.addEventListener(i,"touchstart",function(i){var r=new mr("touchstart",t,i);t.fire(r),r.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(i),t.touchZoomRotate.onStart(i),t.doubleClickZoom.onTouchStart(r))},{passive:!1}),ut.addEventListener(i,"touchmove",function(e){t.fire(new mr("touchmove",t,e))},{passive:!1}),ut.addEventListener(i,"touchend",function(e){t.fire(new mr("touchend",t,e))}),ut.addEventListener(i,"touchcancel",function(e){t.fire(new mr("touchcancel",t,e))}),ut.addEventListener(i,"click",function(r){var n=ut.mousePos(i,r);(n.equals(o)||n.dist(o)<e.clickTolerance)&&t.fire(new dr("click",t,r))}),ut.addEventListener(i,"dblclick",function(e){var i=new dr("dblclick",t,e);t.fire(i),i.defaultPrevented||t.doubleClickZoom.onDblClick(i)}),ut.addEventListener(i,"contextmenu",function(e){var i=t.dragRotate.isActive();n||i?n&&(r=e):t.fire(new dr("contextmenu",t,e)),(t.dragRotate.isEnabled()||t.listens("contextmenu"))&&e.preventDefault()}),ut.addEventListener(i,"wheel",function(i){e.interactive&&t.stop();var r=new yr("wheel",t,i);t.fire(r),r.defaultPrevented||t.scrollZoom.onWheel(i)},{passive:!1})}(this,i),this._hash=i.hash&&(new fr).addTo(this),this._hash&&this._hash._onHashChange()||(i.bounds?(this.resize(),this.fitBounds(i.bounds,{duration:0})):this.jumpTo({center:i.center,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch})),this.resize(),i.style&&this.setStyle(i.style,{localIdeographFontFamily:i.localIdeographFontFamily}),i.attributionControl&&this.addControl(new Mr({customAttribution:i.customAttribution})),this.addControl(new Ir,i.logoPosition),this.on("style.load",function(){r.transform.unmodified&&r.jumpTo(r.style.stylesheet)}),this.on("data",function(e){r._update("style"===e.dataType),r.fire(new t.Event(e.dataType+"data",e))}),this.on("dataloading",function(e){r.fire(new t.Event(e.dataType+"dataloading",e))})}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var r={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(e,i){if(void 0===i&&e.getDefaultPosition&&(i=e.getDefaultPosition()),void 0===i&&(i="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e)
;var n=this._controlPositions[i];return-1!==i.indexOf("bottom")?n.insertBefore(r,n.firstChild):n.appendChild(r),this},i.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var i=this._controls.indexOf(e);return i>-1&&this._controls.splice(i,1),e.onRemove(this),this},i.prototype.resize=function(e){var i=this._containerDimensions(),r=i[0],n=i[1];return this._resizeCanvas(r,n),this.transform.resize(r,n),this.painter.resize(r,n),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},i.prototype.setMinZoom=function(t){if((t=null==t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},i.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},i.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},i.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},i.prototype.on=function(t,i,r){var n,o=this;if(void 0===r)return e.prototype.on.call(this,t,i);var a=function(){if("mouseenter"===t||"mouseover"===t){var e=!1;return{layer:i,listener:r,delegates:{mousemove:function(n){var a=o.getLayer(i)?o.queryRenderedFeatures(n.point,{layers:[i]}):[];a.length?e||(e=!0,r.call(o,new dr(t,o,n.originalEvent,{features:a}))):e=!1},mouseout:function(){e=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:i,listener:r,delegates:{mousemove:function(e){(o.getLayer(i)?o.queryRenderedFeatures(e.point,{layers:[i]}):[]).length?a=!0:a&&(a=!1,r.call(o,new dr(t,o,e.originalEvent)))},mouseout:function(e){a&&(a=!1,r.call(o,new dr(t,o,e.originalEvent)))}}}}return{layer:i,listener:r,delegates:(n={},n[t]=function(t){var e=o.getLayer(i)?o.queryRenderedFeatures(t.point,{layers:[i]}):[];e.length&&(t.features=e,r.call(o,t),delete t.features)},n)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a),a.delegates)o.on(s,a.delegates[s]);return this},i.prototype.off=function(t,i,r){if(void 0===r)return e.prototype.off.call(this,t,i);if(this._delegatedListeners&&this._delegatedListeners[t])for(var n=this._delegatedListeners[t],o=0;o<n.length;o++){var a=n[o];if(a.layer===i&&a.listener===r){for(var s in a.delegates)this.off(s,a.delegates[s]);return n.splice(o,1),this}}return this},i.prototype.queryRenderedFeatures=function(e,i){if(!this.style)return[];var r;if(void 0!==i||void 0===e||e instanceof t.Point||Array.isArray(e)||(i=e,e=void 0),i=i||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])r=[t.Point.convert(e)];else{var n=t.Point.convert(e[0]),o=t.Point.convert(e[1]);r=[n,new t.Point(o.x,n.y),o,new t.Point(n.x,o.y),n]}return this.style.queryRenderedFeatures(r,i,this.transform)},i.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},i.prototype.setStyle=function(e,i){if((!i||!1!==i.diff&&!i.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new ni(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0)},i.prototype.isSourceLoaded=function(e){var i=this.style&&this.style.sourceCaches[e];if(void 0!==i)return i.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},i.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e]._tiles;for(var r in i){var n=i[r];if("loaded"!==n.state&&"errored"!==n.state)return!1}}return!0},i.prototype.addSourceType=function(t,e,i){return this.style.addSourceType(t,e,i)},i.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},i.prototype.getSource=function(t){return this.style.getSource(t)},i.prototype.addImage=function(e,i,r){void 0===r&&(r={});var n=r.pixelRatio;void 0===n&&(n=1);var o=r.sdf;if(void 0===o&&(o=!1),i instanceof Br){var a=t.browser.getImageData(i),s=a.width,A=a.height,l=a.data;this.style.addImage(e,{data:new t.RGBAImage({width:s,height:A},l),pixelRatio:n,sdf:o})}else{if(void 0===i.width||void 0===i.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var u=i.width,c=i.height,h=i.data;this.style.addImage(e,{data:new t.RGBAImage({width:u,height:c},new Uint8Array(h)),pixelRatio:n,sdf:o})}},i.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(t){this.style.removeImage(t)},i.prototype.loadImage=function(e,i){t.getImage(this._transformRequest(e,t.ResourceType.Image),i)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0)},i.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},i.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},i.prototype.getLayer=function(t){return this.style.getLayer(t)},i.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0)},i.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0)},i.prototype.getFilter=function(t){return this.style.getFilter(t)},i.prototype.setPaintProperty=function(t,e,i){return this.style.setPaintProperty(t,e,i),this._update(!0)},i.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},i.prototype.setLayoutProperty=function(t,e,i){return this.style.setLayoutProperty(t,e,i),this._update(!0)},i.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},i.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},i.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=ut.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=ut.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=ut.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var r=this._controlContainer=ut.create("div","mapboxgl-control-container",t),n=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){n[t]=ut.create("div","mapboxgl-ctrl-"+t,r)})},i.prototype._resizeCanvas=function(e,i){var r=t.window.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*i,this._canvas.style.width=e+"px",this._canvas.style.height=i+"px"},i.prototype._setupPainter=function(){var e=t.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},lt.webGLContextAttributes),i=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);i?this.painter=new cr(i,this.transform):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},i.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},i.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},i.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var i=this.transform.zoom,r=t.browser.now();this.style.zoomHistory.update(i,r);var n=new t.EvaluationParameters(i,{now:r,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=n.crossFadingFactor();1===o&&o===this._crossFadingFactor||(e=!0,this._crossFadingFactor=o),this.style.update(n)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this.triggerRepaint(),this},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,i=this._controls;e<i.length;e+=1)i[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),rt(this._canvasContainer),rt(this._controlContainer),rt(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},i.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame(function(){e._frame=null,e._render()}))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},r.showTileBoundaries.get=function(){return!!this._showTileBoundaries},r.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},r.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},r.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},r.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},r.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},r.repaint.get=function(){return!!this._repaint},r.repaint.set=function(t){this._repaint=t,this._update()},r.vertices.get=function(){return!!this._vertices},r.vertices.set=function(t){this._vertices=t,this._update()},Object.defineProperties(i.prototype,r),i}(Pr),Or={showCompass:!0,showZoom:!0},Fr=function(e){var i=this;this.options=t.extend({},Or,e),this._container=ut.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",function(){return i._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",function(){return i._map.zoomOut()})),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",function(){return i._map.resetNorth()}),this._compassArrow=ut.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};Fr.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},Fr.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new xr(t,{button:"left",element:this._compass}),ut.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},Fr.prototype.onRemove=function(){ut.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),ut.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},Fr.prototype._createButton=function(t,e,i){var r=ut.create("button",t,this._container);return r.type="button",r.title=e,r.setAttribute("aria-label",e),r.addEventListener("click",i),r};var Ur,Vr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},Nr=function(e){function i(i){if(e.call(this),(arguments[0]instanceof t.window.HTMLElement||2===arguments.length)&&(i=t.extend({element:i},arguments[1])),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._draggable=i&&i.draggable||!1,this._state="inactive",i&&i.element)this._element=i.element,this._offset=t.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=ut.create("div");var r=ut.createNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"height","41px"),r.setAttributeNS(null,"width","27px"),r.setAttributeNS(null,"viewBox","0 0 27 41");var n=ut.createNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"stroke","none"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"fill-rule","evenodd");var o=ut.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"fill-rule","nonzero");var a=ut.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"transform","translate(3.0, 29.0)"),a.setAttributeNS(null,"fill","#000000");for(var s=0,A=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];s<A.length;s+=1){var l=A[s],u=ut.createNS("http://www.w3.org/2000/svg","ellipse");u.setAttributeNS(null,"opacity","0.04"),u.setAttributeNS(null,"cx","10.5"),u.setAttributeNS(null,"cy","5.80029008"),u.setAttributeNS(null,"rx",l.rx),u.setAttributeNS(null,"ry",l.ry),a.appendChild(u)}var c=ut.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"fill",this._color);var h=ut.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),c.appendChild(h);var p=ut.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"opacity","0.25"),p.setAttributeNS(null,"fill","#000000");var f=ut.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),p.appendChild(f);var d=ut.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"transform","translate(6.0, 7.0)"),d.setAttributeNS(null,"fill","#FFFFFF");var m=ut.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");var y=ut.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#000000"),y.setAttributeNS(null,"opacity","0.25"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962");var g=ut.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#FFFFFF"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962"),m.appendChild(y),m.appendChild(g),o.appendChild(a),o.appendChild(c),o.appendChild(p),o.appendChild(d),o.appendChild(m),r.appendChild(o),this._element.appendChild(r),this._offset=t.Point.convert(i&&i.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},i.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),delete this._map),ut.remove(this._element),this._popup&&this._popup.remove(),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},i.prototype.getElement=function(){return this._element},i.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},i.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},i.prototype.getPopup=function(){return this._popup},i.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},i.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=nt(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),ut.setTransform(this._element,Vr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),ot(this._element,this._anchor,"marker"))},i.prototype.getOffset=function(){return this._offset},i.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},i.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},i.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},i.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},i.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},i.prototype.isDraggable=function(){return this._draggable},i}(t.Evented),jr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},qr=function(e){function i(i){e.call(this),this.options=t.extend({},jr,i),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(e){var i;return this._map=e,this._container=ut.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==Ur?i(Ur):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then(function(t){Ur="denied"!==t.state,i(Ur)}):(Ur=!!t.window.navigator.geolocation,i(Ur)),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),ut.remove(this._container),this._map=void 0},i.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},i.prototype._updateCamera=function(e){var i=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy;this._map.fitBounds(i.toBounds(r),this.options.fitBoundsOptions,{geolocateSource:!0})},i.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},i.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var i=this;!1!==e?(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=ut.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ut.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Nr(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==i._watchState||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new t.Event("trackuserlocationend")))})):t.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},i.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},i.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),Gr={maxWidth:100,unit:"metric"},Qr=function(e){this.options=t.extend({},Gr,e),t.bindAll(["_onMove","setUnit"],this)};Qr.prototype.getDefaultPosition=function(){return"bottom-left"},Qr.prototype._onMove=function(){
at(this._map,this._container,this.options)},Qr.prototype.onAdd=function(t){return this._map=t,this._container=ut.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Qr.prototype.onRemove=function(){ut.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Qr.prototype.setUnit=function(t){this.options.unit=t,at(this._map,this._container,this.options)};var Hr=function(){this._fullscreen=!1,t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Hr.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=ut.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._container},Hr.prototype.onRemove=function(){ut.remove(this._container),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Hr.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Hr.prototype._setupUI=function(){var e=this._fullscreenButton=ut.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Hr.prototype._isFullscreen=function(){return this._fullscreen},Hr.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},Hr.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var Zr={closeButton:!0,closeOnClick:!0,className:""},Xr=function(e){function i(i){e.call(this),this.options=t.extend(Object.create(Zr),i),t.bindAll(["_update","_onClickClose"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&ut.remove(this._content),this._container&&(ut.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._update(),this},i.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},i.prototype.setHTML=function(e){var i,r=t.window.document.createDocumentFragment(),n=t.window.document.createElement("body");for(n.innerHTML=e;i=n.firstChild;)r.appendChild(i);return this.setDOMContent(r)},i.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},i.prototype._createContent=function(){this._content&&ut.remove(this._content),this._content=ut.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=ut.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},i.prototype._update=function(){var e=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=ut.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=ut.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(t){return e._container.classList.add(t)})),this._map.transform.renderWorldCopies&&(this._lngLat=nt(this._lngLat,this._pos,this._map.transform));var i=this._pos=this._map.project(this._lngLat),r=this.options.anchor,n=function e(i){if(i){if("number"==typeof i){var r=Math.round(Math.sqrt(.5*Math.pow(i,2)));return{center:new t.Point(0,0),top:new t.Point(0,i),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-i),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(i,0),right:new t.Point(-i,0)}}if(i instanceof t.Point||Array.isArray(i)){var n=t.Point.convert(i);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:t.Point.convert(i.center||[0,0]),top:t.Point.convert(i.top||[0,0]),"top-left":t.Point.convert(i["top-left"]||[0,0]),"top-right":t.Point.convert(i["top-right"]||[0,0]),bottom:t.Point.convert(i.bottom||[0,0]),"bottom-left":t.Point.convert(i["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(i["bottom-right"]||[0,0]),left:t.Point.convert(i.left||[0,0]),right:t.Point.convert(i.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!r){var o,a=this._container.offsetWidth,s=this._container.offsetHeight;o=i.y+n.bottom.y<s?["top"]:i.y>this._map.transform.height-s?["bottom"]:[],i.x<a/2?o.push("left"):i.x>this._map.transform.width-a/2&&o.push("right"),r=0===o.length?"bottom":o.join("-")}var A=i.add(n[r]).round();ut.setTransform(this._container,Vr[r]+" translate("+A.x+"px,"+A.y+"px)"),ot(this._container,r,"popup")}},i.prototype._onClickClose=function(){this.remove()},i}(t.Evented),Wr={version:t.version,supported:lt,setRTLTextPlugin:t.setRTLTextPlugin,Map:Rr,NavigationControl:Fr,GeolocateControl:qr,AttributionControl:Mr,ScaleControl:Qr,FullscreenControl:Hr,Popup:Xr,Marker:Nr,Style:ni,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get workerCount(){return Ce.workerCount},set workerCount(t){Ce.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},workerUrl:""};return Wr}),r})},{}],32:[function(t,e,i){(function(t){function e(t,e){for(var i=0,r=t.length-1;r>=0;r--){var n=t[r];"."===n?t.splice(r,1):".."===n?(t.splice(r,1),i++):i&&(t.splice(r,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function r(t){"string"!=typeof t&&(t+="");var e,i=0,r=-1,n=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!n){i=e+1;break}}else-1===r&&(n=!1,r=e+1);return-1===r?"":t.slice(i,r)}function n(t,e){if(t.filter)return t.filter(e);for(var i=[],r=0;r<t.length;r++)e(t[r],r,t)&&i.push(t[r]);return i}i.resolve=function(){for(var i="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(i=a+"/"+i,r="/"===a.charAt(0))}return i=e(n(i.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+i||"."},i.normalize=function(t){var r=i.isAbsolute(t),a="/"===o(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&a&&(t+="/"),(r?"/":"")+t},i.isAbsolute=function(t){return"/"===t.charAt(0)},i.join=function(){var t=Array.prototype.slice.call(arguments,0);return i.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},i.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;i>=0&&""===t[i];i--);return e>i?[]:t.slice(e,i-e+1)}t=i.resolve(t).substr(1),e=i.resolve(e).substr(1);for(var n=r(t.split("/")),o=r(e.split("/")),a=Math.min(n.length,o.length),s=a,A=0;A<a;A++)if(n[A]!==o[A]){s=A;break}for(var l=[],A=s;A<n.length;A++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},i.sep="/",i.delimiter=":",i.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,r=-1,n=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!n){r=o;break}}else n=!1;return-1===r?i?"/":".":i&&1===r?"/":t.slice(0,r)},i.basename=function(t,e){var i=r(t);return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},i.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,i=0,r=-1,n=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(n=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!n){i=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===i+1?"":t.slice(e,r)};var o="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,t("_process"))},{_process:33}],33:[function(t,e,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){m&&f&&(m=!1,f.length?d=f.concat(d):y=-1,d.length&&A())}function A(){if(!m){var t=o(s);m=!0;for(var e=d.length;e;){for(f=d,d=[];++y<e;)f&&f[y].run();y=-1,e=d.length}f=null,m=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var f,d=[],m=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new l(t,e)),1!==d.length||m||o(A)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],34:[function(require,module,exports){/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2015
  * https://github.com/ded/reqwest
  */
!function(t,e,i){void 0!==module&&module.exports?module.exports=i():"function"==typeof define&&define.amd?define(i):e.reqwest=i()}(0,this,function(){function succeed(t){var e=protocolRe.exec(t.url);return e=e&&e[1]||context.location.protocol,httpsRe.test(e)?twoHundo.test(t.request.status):!!t.request.response}function handleReadyState(t,e,i){return function(){return t._aborted?i(t.request):t._timedOut?i(t.request,"Request is aborted: timeout"):void(t.request&&4==t.request[readyState]&&(t.request.onreadystatechange=noop,succeed(t)?e(t.request):i(t.request)))}}function setHeaders(t,e){var i,r=e.headers||{};r.Accept=r.Accept||defaultHeaders.accept[e.type]||defaultHeaders.accept["*"];var n="undefined"!=typeof FormData&&e.data instanceof FormData;e.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||n||(r[contentType]=e.contentType||defaultHeaders.contentType);for(i in r)r.hasOwnProperty(i)&&"setRequestHeader"in t&&t.setRequestHeader(i,r[i])}function setCredentials(t,e){void 0!==e.withCredentials&&void 0!==t.withCredentials&&(t.withCredentials=!!e.withCredentials)}function generalCallback(t){lastValue=t}function urlappend(t,e){return t+(/\?/.test(t)?"&":"?")+e}function handleJsonp(t,e,i,r){var n=uniqid++,o=t.jsonpCallback||"callback",a=t.jsonpCallbackName||reqwest.getcallbackPrefix(n),s=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),A=r.match(s),l=doc.createElement("script"),u=0,c=-1!==navigator.userAgent.indexOf("MSIE 10.0");return A?"?"===A[3]?r=r.replace(s,"$1="+a):a=A[3]:r=urlappend(r,o+"="+a),context[a]=generalCallback,l.type="text/javascript",l.src=r,l.async=!0,void 0===l.onreadystatechange||c||(l.htmlFor=l.id="_reqwest_"+n),l.onload=l.onreadystatechange=function(){if(l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||u)return!1;l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),e(lastValue),lastValue=void 0,head.removeChild(l),u=1},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,i({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),u=1}}}function getRequest(t,e){var i,r=this.o,n=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,a=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=n||!a||(o=urlappend(o,a),a=null),"jsonp"==r.type?handleJsonp(r,t,e,o):(i=r.xhr&&r.xhr(r)||xhr(r),i.open(n,o,!1!==r.async),setHeaders(i,r),setCredentials(i,r),context[xDomainRequest]&&i instanceof context[xDomainRequest]?(i.onload=t,i.onerror=e,i.onprogress=function(){},s=!0):i.onreadystatechange=handleReadyState(this,t,e),r.before&&r.before(i),s?setTimeout(function(){i.send(a)},200):i.send(a),i)}function Reqwest(t,e){this.o=t,this.fn=e,init.apply(this,arguments)}function setType(t){if(null!==t)return t.match("json")?"json":t.match("javascript")?"js":t.match("text")?"html":t.match("xml")?"xml":void 0}function init(o,fn){function complete(t){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(t)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(t){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(t){return error(resp,"Could not parse JSON in response",t)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(t,e,i){for(t=self.request,self._responseArgs.resp=t,self._responseArgs.msg=e,self._responseArgs.t=i,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(t,e,i);complete(t)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(t,e){return new Reqwest(t,e)}function normalize(t){return t?t.replace(/\r?\n/g,"\r\n"):""}function serial(t,e){var i,r,n,o,a=t.name,s=t.tagName.toLowerCase(),A=function(t){t&&!t.disabled&&e(a,normalize(t.attributes.value&&t.attributes.value.specified?t.value:t.text))};if(!t.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(t.type)||(i=/checkbox/i.test(t.type),r=/radio/i.test(t.type),n=t.value,(!(i||r)||t.checked)&&e(a,normalize(i&&""===n?"on":n)));break;case"textarea":e(a,normalize(t.value));break;case"select":if("select-one"===t.type.toLowerCase())A(t.selectedIndex>=0?t.options[t.selectedIndex]:null);else for(o=0;t.length&&o<t.length;o++)t.options[o].selected&&A(t.options[o])}}function eachFormElement(){var t,e,i=this;for(e=0;e<arguments.length;e++)t=arguments[e],/input|select|textarea/i.test(t.tagName)&&serial(t,i),function(t,e){var r,n,o;for(r=0;r<e.length;r++)for(o=t[byTag](e[r]),n=0;n<o.length;n++)serial(o[n],i)}(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var t={};return eachFormElement.apply(function(e,i){e in t?(t[e]&&!isArray(t[e])&&(t[e]=[t[e]]),t[e].push(i)):t[e]=i},arguments),t}function buildParams(t,e,i,r){var n,o,a,s=/\[\]$/;if(isArray(e))for(o=0;e&&o<e.length;o++)a=e[o],i||s.test(t)?r(t,a):buildParams(t+"["+("object"==typeof a?o:"")+"]",a,i,r);else if(e&&"[object Object]"===e.toString())for(n in e)buildParams(t+"["+n+"]",e[n],i,r);else r(t,e)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(t){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(t){if(!0===t.crossOrigin){var e=context[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(t){return t}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(t,e){return t=t||function(){},e=e||function(){},this._fulfilled?this._responseArgs.resp=t(this._responseArgs.resp):this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(t),this._errorHandlers.push(e)),this},always:function(t){return this._fulfilled||this._erred?t(this._responseArgs.resp):this._completeHandlers.push(t),this},fail:function(t){return this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(t),this},catch:function(t){return this.fail(t)}},reqwest.serializeArray=function(){var t=[];return eachFormElement.apply(function(e,i){t.push({name:e,value:i})},arguments),t},reqwest.serialize=function(){if(0===arguments.length)return"";var t,e,i=Array.prototype.slice.call(arguments,0);return t=i.pop(),t&&t.nodeType&&i.push(t)&&(t=null),t&&(t=t.type),e="map"==t?serializeHash:"array"==t?reqwest.serializeArray:serializeQueryString,e.apply(null,i)},reqwest.toQueryString=function(t,e){var i,r,n=e||!1,o=[],a=encodeURIComponent,s=function(t,e){e="function"==typeof e?e():null==e?"":e,o[o.length]=a(t)+"="+a(e)};if(isArray(t))for(r=0;t&&r<t.length;r++)s(t[r].name,t[r].value);else for(i in t)t.hasOwnProperty(i)&&buildParams(i,t[i],n,s);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(t,e){return t&&(t.type&&(t.method=t.type)&&delete t.type,t.dataType&&(t.type=t.dataType),t.jsonpCallback&&(t.jsonpCallbackName=t.jsonpCallback)&&delete t.jsonpCallback,t.jsonp&&(t.jsonpCallback=t.jsonp)),new Reqwest(t,e)},reqwest.ajaxSetup=function(t){t=t||{};for(var e in t)globalSetupOptions[e]=t[e]},reqwest})},{xhr2:2}],35:[function(t,e,i){(function(t){!function(t,r){"function"==typeof define&&define.amd?define([],r(t)):"object"==typeof i?e.exports=r(t):t.SmoothParallax=r(t)}(void 0!==t?t:this.window||this.global,function(t){"use strict";var e,i,r,n,o=t,a=0,s=0,A=[],l=[],u=["containerVisibility","pageScroll"],c={},h={basePercentageOn:"containerVisibility",decimalPrecision:2},p=function(){var t={},e=!1,i=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],i++);for(;i<r;i++){var n=arguments[i];!function(i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e&&"[object Object]"===Object.prototype.toString.call(i[r])?t[r]=p(!0,t[r],i[r]):t[r]=i[r])}(n)}return t},f=function(t){var i=t.getAttribute("container");return e=t.parentNode,""!=i&&document.querySelector(i)&&(e=document.querySelector(i)),e},d=function(){var t=document.documentElement||document.body;return i=t.scrollHeight,(s=o.pageYOffset||t.scrollTop)/(i-t.clientHeight)},m=function(t){r=o.innerHeight,"containerVisibility"==n.basePercentageOn&&(i=t.container.scrollHeight,s=r-t.container.getBoundingClientRect().top,a=s/i),"pageScroll"==n.basePercentageOn&&(a=d()),a<0?a=0:a>1&&(a=1)},y=function(t){for(var e=0;e<l.length;e++)if(l[e].element==t)return l[e];return!1},g=function(){var t,e,i,r,n,o,a,s=["elementsize","containerSize"];A=document.querySelectorAll("[smooth-parallax]");for(var u=0;u<A.length;u++){t=parseFloat(A[u].getAttribute("start-movement"))||0,e=parseFloat(A[u].getAttribute("start-position-x"))||0,i=parseFloat(A[u].getAttribute("start-position-y"))||0,r=parseFloat(A[u].getAttribute("end-movement"))||1,n=parseFloat(A[u].getAttribute("end-position-x"))||0,o=parseFloat(A[u].getAttribute("end-position-y"))||0,a=A[u].getAttribute("base-size"),-1==s.indexOf(a)&&(a="elementSize");var c={element:A[u],container:f(A[u]),baseSizeOn:a,start:{percent:t,x:e,y:i},end:{percent:r,x:n,y:o},diff:{percent:r-t,x:n-e,y:o-i},target:{},current:{}};l.push(c)}},_=function(){for(var t=0;t<A.length;t++){var e,i,r=l[t];"elementSize"==r.baseSizeOn?(e=A[t].scrollWidth||parseFloat(o.getComputedStyle(A[t]).width),i=A[t].scrollHeight||parseFloat(o.getComputedStyle(A[t]).height)):"containerSize"==r.baseSizeOn&&(e=r.container.scrollWidth-(A[t].scrollWidth||parseFloat(o.getComputedStyle(A[t]).width)),i=r.container.scrollHeight-(A[t].scrollHeight||parseFloat(o.getComputedStyle(A[t]).height))),m(r),a<=r.start.percent?(r.target.x=r.start.x*e,r.target.y=r.start.y*i):a>=r.end.percent?(r.target.x=r.end.x*e,r.target.y=r.end.y*i):(r.target.x=r.start.x*e+r.diff.x*(a-r.start.percent)/r.diff.percent*e,r.target.y=r.start.y*i+r.diff.y*(a-r.start.percent)/r.diff.percent*i),r.current.x&&r.current.y?(r.current.x=r.current.x+.1*(r.target.x-r.current.x),r.current.y=r.current.y+.1*(r.target.y-r.current.y)):(r.current.x=r.target.x,r.current.y=r.target.y),r.current.x=parseFloat(r.current.x.toFixed(n.decimalPrecision)),r.current.y=parseFloat(r.current.y.toFixed(n.decimalPrecision)),A[t].style.transform="translate3d("+r.current.x+"px, "+r.current.y+"px, 0)"}},v=function(){_(),requestAnimationFrame(v)},x=function(){var t=!0;return-1==u.indexOf(n.basePercentageOn)&&(t=!1,console.error("Value not supported for setting basePercentageOn: "+n.basePercentageOn)),t};return c.init=function(t){n=p(h,t||{}),n.decimalPrecision=parseInt(n.decimalPrecision)||h.decimalPrecision,x()&&(g(),v())},c.getScrollPercent=function(t){if(void 0==t)return d();var e=document.querySelector(t);if(null==e)return!1;var i=y(e);return!!i&&(m(i),a)},c})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(t,e,i){(function(t){/*! smooth-scroll v14.2.1 | (c) 2018 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */
window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){var e,i=(this.document||this.ownerDocument).querySelectorAll(t),r=this;do{for(e=i.length;--e>=0&&i.item(e)!==r;);}while(e<0&&(r=r.parentElement));return r}),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}if("function"==typeof window.CustomEvent)return!1;t.prototype=window.Event.prototype,window.CustomEvent=t}(),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var r=(new Date).getTime(),n=Math.max(0,16-(r-t)),o=window.setTimeout(function(){e(r+n)},n);return t=r+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(t,r){"function"==typeof define&&define.amd?define([],function(){return r(t)}):"object"==typeof i?e.exports=r(t):t.SmoothScroll=r(t)}(void 0!==t?t:"undefined"!=typeof window?window:this,function(t){"use strict";var e={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},i=function(){return"querySelector"in document&&"addEventListener"in t&&"requestAnimationFrame"in t&&"closest"in t.Element.prototype},r=function(){for(var t={},e=0;e<arguments.length;e++)!function(e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}(arguments[e]);return t},n=function(e){return!!("matchMedia"in t&&t.matchMedia("(prefers-reduced-motion)").matches)},o=function(e){return parseInt(t.getComputedStyle(e).height,10)},a=function(t){var e;try{e=decodeURIComponent(t)}catch(i){e=t}return e},s=function(t){"#"===t.charAt(0)&&(t=t.substr(1));for(var e,i=String(t),r=i.length,n=-1,o="",a=i.charCodeAt(0);++n<r;){if(0===(e=i.charCodeAt(n)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");o+=e>=1&&e<=31||127==e||0===n&&e>=48&&e<=57||1===n&&e>=48&&e<=57&&45===a?"\\"+e.toString(16)+" ":e>=128||45===e||95===e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122?i.charAt(n):"\\"+i.charAt(n)}var s;try{s=decodeURIComponent("#"+o)}catch(t){s="#"+o}return s},A=function(t,e){var i;return"easeInQuad"===t.easing&&(i=e*e),"easeOutQuad"===t.easing&&(i=e*(2-e)),"easeInOutQuad"===t.easing&&(i=e<.5?2*e*e:(4-2*e)*e-1),"easeInCubic"===t.easing&&(i=e*e*e),"easeOutCubic"===t.easing&&(i=--e*e*e+1),"easeInOutCubic"===t.easing&&(i=e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1),"easeInQuart"===t.easing&&(i=e*e*e*e),"easeOutQuart"===t.easing&&(i=1- --e*e*e*e),"easeInOutQuart"===t.easing&&(i=e<.5?8*e*e*e*e:1-8*--e*e*e*e),"easeInQuint"===t.easing&&(i=e*e*e*e*e),"easeOutQuint"===t.easing&&(i=1+--e*e*e*e*e),"easeInOutQuint"===t.easing&&(i=e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e),t.customEasing&&(i=t.customEasing(e)),i||e},l=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},u=function(e,i,r,n){var o=0;if(e.offsetParent)do{o+=e.offsetTop,e=e.offsetParent}while(e);return o=Math.max(o-i-r,0),n&&(o=Math.min(o,l()-t.innerHeight)),o},c=function(t){return t?o(t)+t.offsetTop:0},h=function(t,e,i){e||history.pushState&&i.updateURL&&history.pushState({smoothScroll:JSON.stringify(i),anchor:t.id},document.title,t===document.documentElement?"#top":"#"+t.id)},p=function(e,i,r){0===e&&document.body.focus(),r||(e.focus(),document.activeElement!==e&&(e.setAttribute("tabindex","-1"),e.focus(),e.style.outline="none"),t.scrollTo(0,i))},f=function(e,i,r,n){if(i.emitEvents&&"function"==typeof t.CustomEvent){var o=new CustomEvent(e,{bubbles:!0,detail:{anchor:r,toggle:n}});document.dispatchEvent(o)}};return function(o,d){var m,y,g,_,v,x,b,w={};w.cancelScroll=function(t){cancelAnimationFrame(b),b=null,t||f("scrollCancel",m)},w.animateScroll=function(i,n,o){var a=r(m||e,o||{}),s="[object Number]"===Object.prototype.toString.call(i),d=s||!i.tagName?null:i;if(s||d){var y=t.pageYOffset;a.header&&!_&&(_=document.querySelector(a.header)),v||(v=c(_));var g,x,E,T=s?i:u(d,v,parseInt("function"==typeof a.offset?a.offset(i,n):a.offset,10),a.clip),S=T-y,k=l(),C=0,P=function(e,r){var o=t.pageYOffset;if(e==r||o==r||(y<r&&t.innerHeight+o)>=k)return w.cancelScroll(!0),p(i,r,s),f("scrollStop",a,i,n),g=null,b=null,!0},M=function(e){g||(g=e),C+=e-g,x=C/parseInt(a.speed,10),x=x>1?1:x,E=y+S*A(a,x),t.scrollTo(0,Math.floor(E)),P(E,T)||(b=t.requestAnimationFrame(M),g=e)};0===t.pageYOffset&&t.scrollTo(0,0),h(i,s,a),f("scrollStart",a,i,n),w.cancelScroll(!0),t.requestAnimationFrame(M)}};var E=function(e){if(!n()&&0===e.button&&!e.metaKey&&!e.ctrlKey&&"closest"in e.target&&(g=e.target.closest(o))&&"a"===g.tagName.toLowerCase()&&!e.target.closest(m.ignore)&&g.hostname===t.location.hostname&&g.pathname===t.location.pathname&&/#/.test(g.href)){var i=s(a(g.hash)),r=m.topOnEmptyHash&&"#"===i?document.documentElement:document.querySelector(i);(r=r||"#top"!==i?r:document.documentElement)&&(e.preventDefault(),w.animateScroll(r,g))}},T=function(t){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(m)&&history.state.anchor){var e=document.querySelector(s(a(history.state.anchor)));e&&w.animateScroll(e,null,{updateURL:!1})}},S=function(t){x||(x=setTimeout(function(){x=null,v=c(_)},66))};return w.destroy=function(){m&&(document.removeEventListener("click",E,!1),t.removeEventListener("resize",S,!1),t.removeEventListener("popstate",T,!1),w.cancelScroll(),m=null,y=null,g=null,_=null,v=null,x=null,b=null)},w.init=function(n){if(!i())throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";w.destroy(),m=r(e,n||{}),_=m.header?document.querySelector(m.header):null,v=c(_),document.addEventListener("click",E,!1),_&&t.addEventListener("resize",S,!1),m.updateURL&&m.popstate&&t.addEventListener("popstate",T,!1)},w.init(d),w}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,i){/*!
 * Tap listener v2.0.0
 * listens to taps
 * MIT license
 */
!function(i,r){"function"==typeof define&&define.amd?define(["unipointer/unipointer"],function(t){return r(i,t)}):"object"==typeof e&&e.exports?e.exports=r(i,t("unipointer")):i.TapListener=r(i,i.Unipointer)}(window,function(t,e){"use strict";function i(t){this.bindTap(t)}var r=i.prototype=Object.create(e.prototype);return r.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},r.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},r.pointerUp=function(i,r){if(!this.isIgnoringMouseUp||"mouseup"!=i.type){var n=e.getPointerPoint(r),o=this.tapElement.getBoundingClientRect(),a=t.pageXOffset,s=t.pageYOffset;if(n.x>=o.left+a&&n.x<=o.right+a&&n.y>=o.top+s&&n.y<=o.bottom+s&&this.emitEvent("tap",[i,r]),"mouseup"!=i.type){this.isIgnoringMouseUp=!0;var A=this;setTimeout(function(){delete A.isIgnoringMouseUp},400)}}},r.destroy=function(){this.pointerDone(),this.unbindTap()},i})},{unipointer:39}],38:[function(t,e,i){/*!
 * Unidragger v2.3.0
 * Draggable base class
 * MIT license
 */
!function(i,r){"function"==typeof define&&define.amd?define(["unipointer/unipointer"],function(t){return r(i,t)}):"object"==typeof e&&e.exports?e.exports=r(i,t("unipointer")):i.Unidragger=r(i,i.Unipointer)}(window,function(t,e){"use strict";function i(){}var r=i.prototype=Object.create(e.prototype);r.bindHandles=function(){this._bindHandles(!0)},r.unbindHandles=function(){this._bindHandles(!1)},r._bindHandles=function(e){e=void 0===e||e;for(var i=e?"addEventListener":"removeEventListener",r=e?this._touchActionValue:"",n=0;n<this.handles.length;n++){var o=this.handles[n];this._bindStartEvent(o,e),o[i]("click",this),t.PointerEvent&&(o.style.touchAction=r)}},r._touchActionValue="none",r.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var n={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return r.okayPointerDown=function(t){var e=n[t.target.nodeName],i=o[t.target.type],r=!e||i;return r||this._pointerReset(),r},r.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},r.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},r._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},r.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},r.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},r._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},r._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},r.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},r._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},r.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},r._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},r.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},r.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},r._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},r.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i})},{unipointer:39}],39:[function(t,e,i){/*!
 * Unipointer v2.3.0
 * base class for doing one thing with pointer event
 * MIT license
 */
!function(i,r){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return r(i,t)}):"object"==typeof e&&e.exports?e.exports=r(i,t("ev-emitter")):i.Unipointer=r(i,i.EvEmitter)}(window,function(t,e){"use strict";function i(){}function r(){}var n=r.prototype=Object.create(e.prototype);n.bindStartEvent=function(t){this._bindStartEvent(t,!0)},n.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},n._bindStartEvent=function(e,i){i=void 0===i||i;var r=i?"addEventListener":"removeEventListener",n="mousedown";t.PointerEvent?n="pointerdown":"ontouchstart"in t&&(n="touchstart"),e[r](n,this)},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},n.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},n.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},n.onpointerdown=function(t){this._pointerDown(t,t)},n._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},n.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return n._bindPostStartEvents=function(e){if(e){var i=o[e.type];i.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=i}},n._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},n.onmousemove=function(t){this._pointerMove(t,t)},n.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},n.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},n._pointerMove=function(t,e){this.pointerMove(t,e)},n.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},n.onmouseup=function(t){this._pointerUp(t,t)},n.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},n.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},n._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},n._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},n._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},n.pointerDone=i,n.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},n.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},n._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},n.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},r.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},r})},{"ev-emitter":7}],40:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(){M=JSON.parse(this.responseText)}function o(t,e,i){for(var r=[],n=Math.max(t.length,e.length),o=0,a=0;a<n||o;){var s=a<t.length?t[a]:0,A=a<e.length?e[a]:0,l=o+s+A;r.push(l%i),o=Math.floor(l/i),a++}return r}function a(t,e,i){if(t<0)return null;if(0==t)return[];for(var r=[],n=e;;){if(1&t&&(r=o(r,n,i)),0===(t>>=1))break;n=o(n,n,i)}return r}function s(t,e){for(var i=t.split(""),r=[],n=i.length-1;n>=0;n--){var o=parseInt(i[n],e);if(isNaN(o))return null;r.push(o)}return r}function A(t,e,i){var r=s(t,e);if(null===r)return null;for(var n=[],A=[1],l=0;l<r.length;l++)r[l]&&(n=o(n,a(r[l],A,i),i)),A=a(e,A,i);for(var u="",l=n.length-1;l>=0;l--)u+=n[l].toString(i);return u}Object.defineProperty(i,"__esModule",{value:!0});var l=t("./util"),u=t("smooth-parallax"),c=r(u),h=t("flickity"),p=r(h),f=t("gsap"),d=t("countdown-js"),m=r(d),y=t("smooth-scroll"),g=r(y),_=t("reqwest"),v=(r(_),t("form-serialize")),x=(r(v),t("mapbox-gl")),b=r(x),w=t("geojson2h3"),E=r(w),T=t("in-view"),S=r(T),k=t("h3-js"),C=(0,l.$1)("body"),P=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&screen.width>1e3,M=[],I=new XMLHttpRequest;I.addEventListener("load",n),I.open("GET","prova.json"),I.send();var z={0:"000",1:"001",2:"010",3:"011",4:"100",5:"101",6:"110",7:"111",8:"002",9:"012",10:"020",11:"021",12:"022",13:"102",14:"112",15:"120",16:"121",17:"122",18:"200",19:"201",20:"202",21:"210",22:"211",23:"212",24:"220",25:"221",26:"222"},B=function(t){var e=A(t,16,2),i=e.substr(8,43),r=parseInt(i,2),n=r.toString(),o=n.length;if(o<13)for(var a=0;a<13-o;a++)n="0"+n;var s=n[0],l=parseInt(z[parseInt(s)].substring(0,1)+n.substring(1,5)),u=M[l],c=parseInt(z[parseInt(s)][1]+n.substring(5,9)),h=M[c],p=parseInt(z[parseInt(s)][2]+n.substring(9));return[u,h,M[p]]};document.addEventListener("DOMContentLoaded",function(){document.documentElement.className="js",D.init()}),window.addEventListener("resize",(0,l.debounce)(function(){D.mapInit()},250)),window.addEventListener("load",function(){});var D=function(){function t(t,e){var i=E.default.h3SetToFeatureCollection(Object.keys(e),function(t){return{value:e[t]}}),r="h3-hexes-layer",n=t.getSource("h3-hexes");n||(t.addSource("h3-hexes",{type:"geojson",data:i}),t.addLayer({id:r,source:"h3-hexes",type:"fill",interactive:!1,paint:{"fill-outline-color":"rgba(255,255,255,1.9)"}}),n=t.getSource("h3-hexes")),n.setData(i),t.setPaintProperty(r,"fill-color",{property:"value",stops:[[0,u.colorScale[0]],[.5,u.colorScale[0]],[1,u.colorScale[0]]]}),t.setPaintProperty(r,"fill-opacity",u.fillOpacity)}var e=function(){P?document.body.classList.add("is_safari"):c.default.init()},i=function(){var t=new p.default(".js-tab-slider",{cellAlign:"left",contain:!0,pageDots:!1,freeScroll:!1,prevNextButtons:!1,imagesLoaded:!0,adaptiveHeight:!0,hash:!0,pauseAutoPlayOnHover:!1}),e=(0,l.$)(".js-feature-tab-button");(0,l.each)(e,function(i,r){r.addEventListener("click",function(){var i=this.dataset.id;t.select(parseInt(i,10)),(0,l.each)(e,function(t,e){e.classList.remove("js-button--active")}),this.classList.add("js-button--active")})});var i=document.querySelector(".c-stories-dots__container");if(null!=i){var r=new p.default(i,{cellAlign:"center",cellSelector:".c-services-dot__container",prevNextButtons:!1,adaptiveHeight:!0,pageDots:!1,contain:!0});(0,l.each)(i.getElementsByClassName("c-services-dot__container"),function(t,e){e.addEventListener("click",function(){r.select(this.dataset.index)})})}},r=function(){function t(){var t=(0,l.$1)(".c-hero"),e=(0,l.$1)("#page-wrap"),i=t.offsetHeight;(window.pageYOffset||document.documentElement.scrollTop)>i-500?e.classList.add("is-scrolling"):e.classList.remove("is-scrolling")}window.removeEventListener("scroll",t,!1),window.addEventListener("scroll",t,!1)},n=function(){var t=new Date("1/1/2019");m.default.timer(t,function(t){document.getElementById("c-countdown_container").innerHTML="Presale will start in "+t.days+" days "+t.hours+" hours "+t.minutes+" min "+t.seconds+" sec "},function(){console.log("Countdown Finished!")})},o=function(){var t=(0,l.$1)("#hamburger-menu"),e=(0,l.$)(".c-mobile-nav__container-main a");t.addEventListener("click",function(){C.classList.contains("is_mobile_menu_open")?C.classList.remove("is_mobile_menu_open"):C.classList.add("is_mobile_menu_open")}),(0,l.each)(e,function(t,e){e.addEventListener("click",function(){C.classList.remove("is_mobile_menu_open")})})},a=function(){C.classList.add("c-loader--logo-holder-animated"),setTimeout(function(){C.classList.remove("c-loader--logo-holder-animated"),setTimeout(function(){C.classList.add("c-loader--preloader-white-gone")},1600)},1850)},s=function(){window.onscroll=function(t){window.innerHeight+window.scrollY>=document.body.offsetHeight?document.getElementById("countdown").classList.add("c-fixed-countdown--inverted"):document.getElementById("countdown").classList.remove("c-fixed-countdown--inverted")}},A=function(){new g.default('a[href*="#"]',{speed:500,offset:100})},u={lat:46.0922495,lng:13.2312417,zoom:0,fillOpacity:.4,colorScale:["#5F39BE","#ffffff","#1a0731","#EC663C","#0081DD"]},h=function(){function e(){C.classList.toggle("fullscreen-map")}var i=document.getElementById("c-hex-map-mask").clientHeight-2;document.getElementById("c-hex-map").style.height=i;var r=function(){var t=n.getCenter(),e=k.geoToH3(t.lat,t.lng,12),i=k.kRing(e,40),r=Object.assign({},i);return Object.keys(r).reduce(function(t,e){return t[r[e]]=Math.random(),t},{})};b.default.accessToken="pk.eyJ1IjoibWFudG9uZWxsaSIsImEiOiJjam9hNmljdHkwY2Y0M3JuejJrenhmMWE1In0.dC9b8oqj24iiSfm-qbNqmw";var n=new b.default.Map({container:"c-hex-map",center:[u.lng,u.lat],zoom:u.zoom,style:"mapbox://styles/mapbox/light-v9"}),o=new MapboxGeocoder({accessToken:b.default.accessToken});n.addControl(o),n.on("load",function(){o.on("result",function(t){n.flyTo({center:[t.result.geometry.coordinates[0],t.result.geometry.coordinates[1]],zoom:18});var e=k.geoToH3(t.result.geometry.coordinates[0],t.result.geometry.coordinates[1],12);document.getElementById("c-hex-map-info").innerHTML="OVRLandID = "+e}),n.addLayer({id:"mapbox-mapbox-satellite",source:{type:"raster",url:"mapbox://mapbox.satellite",tileSize:256},type:"raster"}),n.setLayoutProperty("mapbox-mapbox-satellite","visibility","none");var t=document.getElementById("remover");t.addEventListener("click",function(){t=document.getElementById("remover"),"on"===t.className?(t.setAttribute("class","off"),n.setLayoutProperty("mapbox-mapbox-satellite","visibility","none"),t.innerHTML="Satellite"):(t.setAttribute("class","on"),n.setLayoutProperty("mapbox-mapbox-satellite","visibility","visible"),t.innerHTML="Streets")})});n.on("moveend",function(){n.getZoom()>16&&t(n,r())});var a=void 0;"onfullscreenchange"in window.document?a="fullscreenchange":"onmozfullscreenchange"in window.document?a="mozfullscreenchange":"onwebkitfullscreenchange"in window.document?a="webkitfullscreenchange":"onmsfullscreenchange"in window.document&&(a="MSFullscreenChange"),window.document.addEventListener(a,e),n.on("zoom",function(){n.getZoom()>16?(t(n,r()),n.getLayer("h3-hexes-layer")&&n.setLayoutProperty("h3-hexes-layer","visibility","visible")):n.getLayer("h3-hexes-layer")&&n.setLayoutProperty("h3-hexes-layer","visibility","none")});var s=new b.default.GeolocateControl;n.addControl(s),s.on("geolocate",function(t){n.flyTo({center:[t.coords.longitude,t.coords.latitude],zoom:18})}),n.addControl(new b.default.FullscreenControl),document.getElementById("c-hex-map-jump-to").addEventListener("click",function(){n.flyTo({zoom:18,center:[-73.98760251687273,40.73158848778172]})}),n.on("mousemove",function(t){var e=k.geoToH3(t.lngLat.lat,t.lngLat.lng,12);document.getElementById("c-hex-map-info").innerHTML="OVRLandID = "+B(e)[0]+"."+B(e)[1]+"."+B(e)[2]})},d=function(){f.TweenMax.set("#base",{opacity:0}),f.TweenMax.set(".scn-8 path",{opacity:0}),f.TweenMax.set(".exa",{scale:0,transformOrigin:"center"}),f.TweenMax.set(".omino",{scale:0,transformOrigin:"center"}),f.TweenMax.set("#mama",{scale:0,transformOrigin:"center"}),f.TweenMax.set(".boxes",{scale:0,y:"-50px",transformOrigin:"center bottom"}),f.TweenMax.set(".schermivirtual",{opacity:0,y:"-50px",transformOrigin:"center"});var t=new TimelineMax({repeat:-1});t.timeScale(9),t.addPause(400).play(),(0,S.default)("#intro").once("enter",function(){var e=new TimelineMax({repeat:-1});e.to("#base",1.8,{opacity:1}),e.staggerTo(".scn-8 path",.4,{opacity:1},.03,"-=0.8"),e.staggerTo(".exa",.3,{scale:1},.2,"-=0.8"),e.staggerTo(".omino",.4,{scale:1},.2),e.staggerTo(".boxes",.4,{scale:1,y:"0px"},.2),e.staggerTo(".schermivirtual",.4,{opacity:1,y:"0px"},.2),e.staggerTo("#mama",.4,{scale:1},.2,"-=1.5").add(t,0)})};return{init:function(){A(),e(),i(),r(),n(),(0,l.listenForms)(),o(),a(),h(),s(),d()},mapInit:h}}();i.default=D},{"./util":41,"countdown-js":5,flickity:14,"form-serialize":20,geojson2h3:22,gsap:24,"h3-js":28,"in-view":30,"mapbox-gl":31,reqwest:34,"smooth-parallax":35,"smooth-scroll":36}],41:[function(t,e,i){"use strict";function r(t,e,i){var r;return function(){var n=this,o=arguments,a=function(){r=null,i||t.apply(n,o)},s=i&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(n,o)}}function n(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=null,n=null,o=function(){t.apply(i,n),r=null};return function(){r||(n=arguments,r=setTimeout(o,e))}}function o(t,e,i){for(var r=0;r<t.length;r+=1)e.call(i,r,t[r])}function a(t,e){return(e||document).querySelector(t)}function s(t,e){return(e||document).querySelectorAll(t)}function A(){var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==e.style[t])return i[t]}function l(t,e){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;--i>=0&&e.item(i)!==this;);return i>-1});t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}function u(t,e){e.parentNode.insertBefore(t,e.nextSibling)}function c(){o(s(".c-general-contact-form"),function(t,e){e.classList.contains("is_form--listening")||(e.addEventListener("submit",function(t){t.preventDefault(),console.log("ferma"),d(e)},!0),e.classList.add("is_form--listening"))}),o(s(".c-contact-form"),function(t,e){e.querySelector(".privacy").addEventListener("change",function(){this.checked?e.querySelector(".submit-button").classList.remove("disabled-2"):e.querySelector(".submit-button").classList.add("disabled-2")})})}Object.defineProperty(i,"__esModule",{value:!0}),i.debounce=r,i.throttle=n,i.each=o,i.$1=a,i.$=s,i.whichTransitionEvent=A,i.getClosest=l,i.insertAfter=u,i.listenForms=c;var h=t("reqwest"),p=function(t){return t&&t.__esModule?t:{default:t}}(h),f=!0,d=r(function(t){if(0==f)return!1;f=!1;t.getAttribute("action");a("body").classList.add("is_form--loading"),(0,p.default)({url:"/mailer/mailer.php",method:"post",data:{name:t.querySelector(".name").value,email:t.querySelector(".email").value,msg:t.querySelector(".msg").value},success:function(e){console.log(e),setTimeout(function(){"false"==e?(a("body").classList.remove("is_form--loading"),a("body").classList.add("is_form--error")):(a("body").classList.remove("is_form--loading"),a("body").classList.add("is_form--success")),setTimeout(function(){a("body").classList.remove("is_form--success"),a("body").classList.remove("is_form--error"),a("body").classList.remove("is_form--loading"),t.querySelector(".name").value="",t.querySelector(".email").value="",t.querySelector(".msg").value="",f=!0},3e3)},500)}})},4e3,!0)},{reqwest:34}]},{},[40]);